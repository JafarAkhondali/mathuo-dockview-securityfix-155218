"use strict";(self.webpackChunkdockview_docs=self.webpackChunkdockview_docs||[]).push([[3237],{4940:(e,t,i)=>{i.d(t,{Z:()=>o});i(6204);var n=i(541),s=i(3188);function o(e){let{children:t,fallback:i}=e;return(0,n.Z)()?(0,s.jsx)(s.Fragment,{children:t?.()}):i??null}},2825:(e,t,i)=>{i.d(t,{QW:()=>ne,CJ:()=>Ye,KU:()=>f,O4:()=>m,Gi:()=>w,Tn:()=>ie,Jf:()=>Ke,Tg:()=>Ae,g1:()=>j,i5:()=>H,y0:()=>te,W:()=>it,fX:()=>ee,Cx:()=>Qe,hJ:()=>nt,M:()=>re});class n{}class s extends n{constructor(e,t,i){super(),this.viewId=e,this.groupId=t,this.panelId=i}}class o extends n{constructor(e,t){super(),this.viewId=e,this.paneId=t}}class r{constructor(){}static getInstance(){return r.INSTANCE}hasData(e){return e&&e===this.proto}clearData(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)}getData(e){if(this.hasData(e))return this.data}setData(e,t){t&&(this.data=e,this.proto=t)}}function a(){const e=r.getInstance();if(e.hasData(s.prototype))return e.getData(s.prototype)[0]}function h(){const e=r.getInstance();if(e.hasData(o.prototype))return e.getData(o.prototype)[0]}var l,d;r.INSTANCE=new r,function(e){e.any=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return e=>{const i=t.map((t=>t(e)));return{dispose:()=>{i.forEach((e=>{e.dispose()}))}}}}}(l||(l={}));class p{static create(){var e;return new p(null!==(e=(new Error).stack)&&void 0!==e?e:"")}constructor(e){this.value=e}print(){console.warn(this.value)}}class c{constructor(e,t){this.callback=e,this.stacktrace=t}}class m{static setLeakageMonitorEnabled(e){e!==m.ENABLE_TRACKING&&m.MEMORY_LEAK_WATCHER.clear(),m.ENABLE_TRACKING=e}constructor(e){this.options=e,this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>{var t;(null===(t=this.options)||void 0===t?void 0:t.replay)&&void 0!==this._last&&e(this._last);const i=new c(e,m.ENABLE_TRACKING?p.create():void 0);return this._listeners.push(i),{dispose:()=>{const e=this._listeners.indexOf(i);e>-1?this._listeners.splice(e,1):m.ENABLE_TRACKING}}},m.ENABLE_TRACKING&&m.MEMORY_LEAK_WATCHER.add(this._event,p.create())),this._event}fire(e){this._last=e;for(const t of this._listeners)t.callback(e)}dispose(){this._disposed||(this._disposed=!0,this._listeners.length>0&&(m.ENABLE_TRACKING&&queueMicrotask((()=>{var e;for(const t of this._listeners)console.warn(null===(e=t.stacktrace)||void 0===e?void 0:e.print())})),this._listeners=[]),m.ENABLE_TRACKING&&this._event&&m.MEMORY_LEAK_WATCHER.delete(this._event))}}function u(e,t,i,n){return e.addEventListener(t,i,n),{dispose:()=>{e.removeEventListener(t,i,n)}}}function v(e,t,i,n){return e.addEventListener(t,i,n),{dispose:()=>{e.removeEventListener(t,i,n)}}}m.ENABLE_TRACKING=!1,m.MEMORY_LEAK_WATCHER=new class{constructor(){this.events=new Map}get size(){return this.events.size}add(e,t){this.events.set(e,t)}delete(e){this.events.delete(e)}clear(){this.events.clear()}};class g{constructor(){this._onFired=new m,this.onEvent=this._onFired.event}fire(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this._onFired.fire(),clearTimeout(this.timer)}))}dispose(){this._onFired.dispose()}}!function(e){e.NONE={dispose:()=>{}},e.from=function(e){return{dispose:()=>{e()}}}}(d||(d={}));class f{get isDisposed(){return this._isDisposed}constructor(){this._isDisposed=!1;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._disposables=t}addDisposables(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>this._disposables.push(e)))}dispose(){this._disposables.forEach((e=>e.dispose())),this._isDisposed=!0}}class w{constructor(){this._disposable=d.NONE}set value(e){this._disposable&&this._disposable.dispose(),this._disposable=e}dispose(){this._disposable&&(this._disposable.dispose(),this._disposable=d.NONE)}}function _(e,t){const i=new ResizeObserver((e=>{requestAnimationFrame((()=>{const i=e[0];t(i)}))}));return i.observe(e),{dispose:()=>{i.unobserve(e),i.disconnect()}}}const b=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const s of i)e.classList.contains(s)&&e.classList.remove(s)},D=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const s of i)e.classList.contains(s)||e.classList.add(s)},x=(e,t,i)=>{const n=e.classList.contains(t);i&&!n&&e.classList.add(t),!i&&n&&e.classList.remove(t)};function C(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function y(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function E(e){return new z(e)}class z extends f{constructor(e){super(),this._onDidFocus=new m,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new m,this.onDidBlur=this._onDidBlur.event,this.addDisposables(this._onDidFocus,this._onDidBlur);let t=C(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(i=!0,window.setTimeout((()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{C(document.activeElement,e)!==t&&(t?s():n())},e instanceof HTMLElement?(this.addDisposables(v(e,"focus",n,!0)),this.addDisposables(v(e,"blur",s,!0))):(this.addDisposables(u(e,"focus",n,!0)),this.addDisposables(u(e,"blur",s,!0)))}refreshState(){this._refreshStateHandler()}}const S="dv-quasiPreventDefault";function A(e){return e[S]}function P(e){const{left:t,top:i,width:n,height:s}=e.getBoundingClientRect();return{left:t+window.scrollX,top:i+window.scrollY,width:n,height:s}}function I(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function N(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function V(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function M(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function G(e,t){const i=e.findIndex((e=>e===t));return i>-1&&(e.splice(i,1),!0)}const O=(e,t,i)=>{if(t>i)throw new Error(`${t} > ${i} is an invalid condition`);return Math.min(i,Math.max(e,t))},k=()=>{let e=1;return{next:()=>(e++).toString()}},R=(e,t)=>{const i=[];if("number"!=typeof t&&(t=e,e=0),e<=t)for(let n=e;n<t;n++)i.push(n);else for(let n=e;n>t;n--)i.push(n);return i};class L{set size(e){this._size=e}get size(){return this._size}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return void 0===this._cachedVisibleSize}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}setVisible(e,t){var i;e!==this.visible&&(e?(this.size=O(null!==(i=this._cachedVisibleSize)&&void 0!==i?i:0,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}dispose(){return this.disposable.dispose(),this.view}}var H,T,j,B;!function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(H||(H={})),function(e){e[e.MAXIMUM=0]="MAXIMUM",e[e.MINIMUM=1]="MINIMUM",e[e.DISABLED=2]="DISABLED",e[e.ENABLED=3]="ENABLED"}(T||(T={})),function(e){e.Low="low",e.High="high",e.Normal="normal"}(j||(j={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(B||(B={}));class W{get contentSize(){return this._contentSize}get size(){return this._size}set size(e){this._size=e}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(e){this._orthogonalSize=e}get length(){return this.viewItems.length}get proportions(){return this._proportions?[...this._proportions]:void 0}get orientation(){return this._orientation}set orientation(e){this._orientation=e;const t=this.size;this.size=this.orthogonalSize,this.orthogonalSize=t,b(this.element,"horizontal","vertical"),this.element.classList.add(this.orientation==H.HORIZONTAL?"horizontal":"vertical")}get minimumSize(){return this.viewItems.reduce(((e,t)=>e+t.minimumSize),0)}get maximumSize(){return 0===this.length?Number.POSITIVE_INFINITY:this.viewItems.reduce(((e,t)=>e+t.maximumSize),0)}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t){var i=this;this.container=e,this.viewItems=[],this.sashes=[],this._size=0,this._orthogonalSize=0,this._contentSize=0,this._proportions=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this._onDidSashEnd=new m,this.onDidSashEnd=this._onDidSashEnd.event,this._onDidAddView=new m,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new m,this.onDidRemoveView=this._onDidRemoveView.event,this.resize=function(e,t,n,s,o,r,a,h,l){if(void 0===n&&(n=i.viewItems.map((e=>e.size))),void 0===r&&(r=Number.NEGATIVE_INFINITY),void 0===a&&(a=Number.POSITIVE_INFINITY),e<0||e>i.viewItems.length)return 0;const d=R(e,-1),p=R(e+1,i.viewItems.length);if(o)for(const i of o)V(d,i),V(p,i);if(s)for(const i of s)M(d,i),M(p,i);const c=d.map((e=>i.viewItems[e])),m=d.map((e=>n[e])),u=p.map((e=>i.viewItems[e])),v=p.map((e=>n[e])),g=d.reduce(((e,t)=>e+i.viewItems[t].minimumSize-n[t]),0),f=d.reduce(((e,t)=>e+i.viewItems[t].maximumSize-n[t]),0),w=0===p.length?Number.POSITIVE_INFINITY:p.reduce(((e,t)=>e+n[t]-i.viewItems[t].minimumSize),0),_=0===p.length?Number.NEGATIVE_INFINITY:p.reduce(((e,t)=>e+n[t]-i.viewItems[t].maximumSize),0),b=Math.max(g,_),D=Math.min(w,f);let x=!1;if(h){const e=i.viewItems[h.index],n=t>=h.limitDelta;x=n!==e.visible,e.setVisible(n,h.size)}if(!x&&l){const e=i.viewItems[l.index],n=t<l.limitDelta;x=n!==e.visible,e.setVisible(n,l.size)}if(x)return i.resize(e,t,n,s,o,r,a);let C=0,y=O(t,b,D);for(let i=0;i<c.length;i++){const e=c[i],t=O(m[i]+y,e.minimumSize,e.maximumSize),n=t-m[i];C+=n,y-=n,e.size=t}let E=C;for(let i=0;i<u.length;i++){const e=u[i],t=O(v[i]-E,e.minimumSize,e.maximumSize);E+=t-v[i],e.size=t}return t},this._orientation=t.orientation,this.element=this.createContainer(),this.proportionalLayout=void 0===t.proportionalLayout||!!t.proportionalLayout,this.viewContainer=this.createViewContainer(),this.sashContainer=this.createSashContainer(),this.element.appendChild(this.sashContainer),this.element.appendChild(this.viewContainer),this.container.appendChild(this.element),this.style(t.styles),t.descriptor&&(this._size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=void 0===e.visible||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.addView(n,i,t,!0)})),this._contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}style(e){"transparent"===(null==e?void 0:e.separatorBorder)?(b(this.element,"separator-border"),this.element.style.removeProperty("--dv-separator-border")):(D(this.element,"separator-border"),(null==e?void 0:e.separatorBorder)&&this.element.style.setProperty("--dv-separator-border",e.separatorBorder))}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");x(this.container,"visible",t);const i=this.viewItems[e];x(this.container,"visible",t),i.setVisible(t,i.size),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}resizeView(e,t){if(e<0||e>=this.viewItems.length)return;const i=R(this.viewItems.length).filter((t=>t!==e)),n=[...i.filter((e=>this.viewItems[e].priority===j.Low)),e],s=i.filter((e=>this.viewItems[e].priority===j.High)),o=this.viewItems[e];t=Math.round(t),t=O(t,o.minimumSize,Math.min(o.maximumSize,this._size)),o.size=t,this.relayout(n,s)}getViews(){return this.viewItems.map((e=>e.view))}onDidChange(e,t){const i=this.viewItems.indexOf(e);if(i<0||i>=this.viewItems.length)return;t="number"==typeof t?t:e.size,t=O(t,e.minimumSize,e.maximumSize),e.size=t;const n=R(this.viewItems.length).filter((e=>e!==i)),s=[...n.filter((e=>this.viewItems[e].priority===j.Low)),i],o=n.filter((e=>this.viewItems[e].priority===j.High));this.relayout([...s,i],o)}addView(e,t,i,n){void 0===t&&(t={type:"distribute"}),void 0===i&&(i=this.viewItems.length);const s=document.createElement("div");let o;s.className="view",s.appendChild(e.element),o="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const r=e.onDidChange((e=>this.onDidChange(a,e.size))),a=new L(s,e,o,{dispose:()=>{r.dispose(),this.viewContainer.removeChild(s)}});if(i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i)),this.viewItems.splice(i,0,a),this.viewItems.length>1){const e=document.createElement("div");e.className="sash";const t=t=>{for(const e of this.viewItems)e.enabled=!1;const i=[...y("iframe"),...y("webview")];for(const e of i)e.style.pointerEvents="none";const n=this._orientation===H.HORIZONTAL?t.clientX:t.clientY,s=function(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i;return-1}(this.sashes,(t=>t.container===e)),o=this.viewItems.map((e=>e.size));let r,a;const h=R(s,-1),l=R(s+1,this.viewItems.length),d=h.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-o[t])),0),p=h.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-o[t])),0),c=0===l.length?Number.POSITIVE_INFINITY:l.reduce(((e,t)=>e+(o[t]-this.viewItems[t].minimumSize)),0),m=0===l.length?Number.NEGATIVE_INFINITY:l.reduce(((e,t)=>e+(o[t]-this.viewItems[t].viewMaximumSize)),0),u=Math.max(d,m),v=Math.min(c,p),g=this.findFirstSnapIndex(h),f=this.findFirstSnapIndex(l);if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);r={index:g,limitDelta:e.visible?u-t:u+t,size:e.size}}if("number"==typeof f){const e=this.viewItems[f],t=Math.floor(e.viewMinimumSize/2);a={index:f,limitDelta:e.visible?v+t:v-t,size:e.size}}const w=e=>{const t=(this._orientation===H.HORIZONTAL?e.clientX:e.clientY)-n;this.resize(s,t,o,void 0,void 0,u,v,r,a),this.distributeEmptySpace(),this.layoutViews()},_=()=>{for(const e of this.viewItems)e.enabled=!0;for(const e of i)e.style.pointerEvents="auto";this.saveProportions(),document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",_),document.removeEventListener("pointercancel",_),this._onDidSashEnd.fire(void 0)};document.addEventListener("pointermove",w),document.addEventListener("pointerup",_),document.addEventListener("pointercancel",_)};e.addEventListener("pointerdown",t);const i={container:e,disposable:()=>{e.removeEventListener("pointerdown",t),this.sashContainer.removeChild(e)}};this.sashContainer.appendChild(e),this.sashes.push(i)}n||this.relayout([i]),n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes(),this._onDidAddView.fire(e)}distributeViewSizes(){const e=[];let t=0;for(const r of this.viewItems)r.maximumSize-r.minimumSize>0&&(e.push(r),t+=r.size);const i=Math.floor(t/e.length);for(const r of e)r.size=O(i,r.minimumSize,r.maximumSize);const n=R(this.viewItems.length),s=n.filter((e=>this.viewItems[e].priority===j.Low)),o=n.filter((e=>this.viewItems[e].priority===j.High));this.relayout(s,o)}removeView(e,t,i){void 0===i&&(i=!1);const n=this.viewItems.splice(e,1)[0];if(n.dispose(),this.viewItems.length>=1){const t=Math.max(e-1,0);this.sashes.splice(t,1)[0].disposable()}return i||this.relayout(),t&&"distribute"===t.type&&this.distributeViewSizes(),this._onDidRemoveView.fire(n.view),n.view}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}moveView(e,t){const i=this.getViewCachedVisibleSize(e),n=void 0===i?this.getViewSize(e):B.Invisible(i),s=this.removeView(e,void 0,!0);this.addView(s,n,t)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.orthogonalSize=t,this.proportions){let t=0;for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],s=this.proportions[i];"number"==typeof s?t+=s:e-=n.size}for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],s=this.proportions[i];"number"==typeof s&&t>0&&(n.size=O(Math.round(s*e/t),n.minimumSize,n.maximumSize))}}else{const t=R(this.viewItems.length),n=t.filter((e=>this.viewItems[e].priority===j.Low)),s=t.filter((e=>this.viewItems[e].priority===j.High));this.resize(this.viewItems.length-1,e-i,void 0,n,s)}this.distributeEmptySpace(),this.layoutViews()}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this._size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const n=R(this.viewItems.length-1,-1),s=n.filter((e=>this.viewItems[e].priority===j.Low)),o=n.filter((e=>this.viewItems[e].priority===j.High));for(const r of o)V(n,r);for(const r of s)M(n,r);"number"==typeof e&&M(n,e);for(let r=0;0!==i&&r<n.length;r++){const e=this.viewItems[n[r]],t=O(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this._proportions=this.viewItems.map((e=>e.visible?e.size/this._contentSize:void 0)))}layoutViews(){this._contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;const t=[];this.updateSashEnablement();for(let i=0;i<this.viewItems.length-1;i++){e+=this.viewItems[i].size,t.push(e);const n=Math.min(Math.max(0,e-2),this.size-4);this._orientation===H.HORIZONTAL&&(this.sashes[i].container.style.left=`${n}px`,this.sashes[i].container.style.top="0px"),this._orientation===H.VERTICAL&&(this.sashes[i].container.style.left="0px",this.sashes[i].container.style.top=`${n}px`)}this.viewItems.forEach(((e,i)=>{this._orientation===H.HORIZONTAL&&(e.container.style.width=`${e.size}px`,e.container.style.left=0==i?"0px":`${t[i-1]}px`,e.container.style.top="",e.container.style.height=""),this._orientation===H.VERTICAL&&(e.container.style.height=`${e.size}px`,e.container.style.top=0==i?"0px":`${t[i-1]}px`,e.container.style.width="",e.container.style.left=""),e.view.layout(e.size,this._orthogonalSize)}))}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),n=[...this.viewItems].reverse();e=!1;const s=n.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const o=n.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let r=0;for(let a=0;a<this.sashes.length;a++){const e=this.sashes[a];r+=this.viewItems[a].size;const n=!(t[a]&&o[a+1]),h=!(i[a]&&s[a+1]);if(n&&h){const i=R(a,-1),n=R(a+1,this.viewItems.length),o=this.findFirstSnapIndex(i),h=this.findFirstSnapIndex(n),l="number"==typeof o&&!this.viewItems[o].visible,d="number"==typeof h&&!this.viewItems[h].visible;l&&s[a]&&(r>0||this.startSnappingEnabled)?this.updateSash(e,T.MINIMUM):d&&t[a]&&(r<this._contentSize||this.endSnappingEnabled)?this.updateSash(e,T.MAXIMUM):this.updateSash(e,T.DISABLED)}else n&&!h?this.updateSash(e,T.MINIMUM):!n&&h?this.updateSash(e,T.MAXIMUM):this.updateSash(e,T.ENABLED)}}updateSash(e,t){x(e.container,"disabled",t===T.DISABLED),x(e.container,"enabled",t===T.ENABLED),x(e.container,"maximum",t===T.MAXIMUM),x(e.container,"minimum",t===T.MINIMUM)}createViewContainer(){const e=document.createElement("div");return e.className="view-container",e}createSashContainer(){const e=document.createElement("div");return e.className="sash-container",e}createContainer(){const e=document.createElement("div"),t=this._orientation===H.HORIZONTAL?"horizontal":"vertical";return e.className=`split-view-container ${t}`,e}dispose(){this._onDidSashEnd.dispose(),this._onDidAddView.dispose(),this._onDidRemoveView.dispose();for(let e=0;e<this.element.children.length;e++)if(this.element.children.item(e)===this.element){this.element.removeChild(this.element);break}for(const e of this.viewItems)e.dispose();this.element.remove()}}class F extends f{get onDidAddView(){return this.splitview.onDidAddView}get onDidRemoveView(){return this.splitview.onDidRemoveView}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get orientation(){return this.splitview.orientation}get size(){return this.splitview.size}get orthogonalSize(){return this.splitview.orthogonalSize}constructor(e,t){var i;super(),this.paneItems=[],this.skipAnimation=!1,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._orientation=null!==(i=t.orientation)&&void 0!==i?i:H.VERTICAL,this.element=document.createElement("div"),this.element.className="pane-container",e.appendChild(this.element),this.splitview=new W(this.element,{orientation:this._orientation,proportionalLayout:!1,descriptor:t.descriptor}),this.getPanes().forEach((e=>{const t=new f(e.onDidChangeExpansionState((()=>{this.setupAnimation(),this._onDidChange.fire(void 0)}))),i={pane:e,disposable:{dispose:()=>{t.dispose()}}};this.paneItems.push(i),e.orthogonalSize=this.splitview.orthogonalSize})),this.addDisposables(this._onDidChange,this.splitview.onDidSashEnd((()=>{this._onDidChange.fire(void 0)})),this.splitview.onDidAddView((()=>{this._onDidChange.fire()})),this.splitview.onDidRemoveView((()=>{this._onDidChange.fire()})))}addPane(e,t,i,n){void 0===i&&(i=this.splitview.length),void 0===n&&(n=!1);const s=e.onDidChangeExpansionState((()=>{this.setupAnimation(),this._onDidChange.fire(void 0)})),o={pane:e,disposable:{dispose:()=>{s.dispose()}}};this.paneItems.splice(i,0,o),e.orthogonalSize=this.splitview.orthogonalSize,this.splitview.addView(e,t,i,n)}getViewSize(e){return this.splitview.getViewSize(e)}getPanes(){return this.splitview.getViews()}removePane(e,t){void 0===t&&(t={skipDispose:!1});const i=this.paneItems.splice(e,1)[0];return this.splitview.removeView(e),t.skipDispose||(i.disposable.dispose(),i.pane.dispose()),i}moveView(e,t){if(e===t)return;const i=this.removePane(e,{skipDispose:!0});this.skipAnimation=!0;try{this.addPane(i.pane,i.pane.size,t,!1)}finally{this.skipAnimation=!1}}layout(e,t){this.splitview.layout(e,t)}setupAnimation(){this.skipAnimation||(this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),D(this.element,"animated"),this.animationTimer=setTimeout((()=>{this.animationTimer=void 0,b(this.element,"animated")}),200))}dispose(){super.dispose(),this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),this.paneItems.forEach((e=>{e.disposable.dispose(),e.pane.dispose()})),this.paneItems=[],this.splitview.dispose(),this.element.remove()}}class Z{get minimumWidth(){return this.view.minimumWidth}get maximumWidth(){return this.view.maximumWidth}get minimumHeight(){return this.view.minimumHeight}get maximumHeight(){return this.view.maximumHeight}get priority(){return this.view.priority}get snap(){return this.view.snap}get minimumSize(){return this.orientation===H.HORIZONTAL?this.minimumHeight:this.minimumWidth}get maximumSize(){return this.orientation===H.HORIZONTAL?this.maximumHeight:this.maximumWidth}get minimumOrthogonalSize(){return this.orientation===H.HORIZONTAL?this.minimumWidth:this.minimumHeight}get maximumOrthogonalSize(){return this.orientation===H.HORIZONTAL?this.maximumWidth:this.maximumHeight}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get element(){return this.view.element}get width(){return this.orientation===H.HORIZONTAL?this.orthogonalSize:this.size}get height(){return this.orientation===H.HORIZONTAL?this.size:this.orthogonalSize}constructor(e,t,i,n){void 0===n&&(n=0),this.view=e,this.orientation=t,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._orthogonalSize=i,this._size=n,this._disposable=this.view.onDidChange((e=>{e?this._onDidChange.fire({size:this.orientation===H.VERTICAL?e.width:e.height,orthogonalSize:this.orientation===H.VERTICAL?e.height:e.width}):this._onDidChange.fire({})}))}setVisible(e){this.view.setVisible&&this.view.setVisible(e)}layout(e,t){this._size=e,this._orthogonalSize=t,this.view.layout(this.width,this.height)}dispose(){this._onDidChange.dispose(),this._disposable.dispose()}}class J extends f{get width(){return this.orientation===H.HORIZONTAL?this.size:this.orthogonalSize}get height(){return this.orientation===H.HORIZONTAL?this.orthogonalSize:this.size}get minimumSize(){return 0===this.children.length?0:Math.max(...this.children.map(((e,t)=>this.splitview.isViewVisible(t)?e.minimumOrthogonalSize:0)))}get maximumSize(){return Math.min(...this.children.map(((e,t)=>this.splitview.isViewVisible(t)?e.maximumOrthogonalSize:Number.POSITIVE_INFINITY)))}get minimumOrthogonalSize(){return this.splitview.minimumSize}get maximumOrthogonalSize(){return this.splitview.maximumSize}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get minimumWidth(){return this.orientation===H.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize}get minimumHeight(){return this.orientation===H.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize}get maximumWidth(){return this.orientation===H.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize}get maximumHeight(){return this.orientation===H.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize}get priority(){if(0===this.children.length)return j.Normal;const e=this.children.map((e=>void 0===e.priority?j.Normal:e.priority));return e.some((e=>e===j.High))?j.High:e.some((e=>e===j.Low))?j.Low:j.Normal}constructor(e,t,i,n,s,o){if(super(),this.orientation=e,this.proportionalLayout=t,this.styles=i,this._childrenDisposable=d.NONE,this.children=[],this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._onDidVisibilityChange=new m,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._orthogonalSize=s,this._size=n,this.element=document.createElement("div"),this.element.className="branch-node",o){const e={views:o.map((e=>({view:e.node,size:e.node.size,visible:!(e.node instanceof Z&&void 0!==e.visible)||e.visible}))),size:this.orthogonalSize};this.children=o.map((e=>e.node)),this.splitview=new W(this.element,{orientation:this.orientation,descriptor:e,proportionalLayout:t,styles:i})}else this.splitview=new W(this.element,{orientation:this.orientation,proportionalLayout:t,styles:i}),this.splitview.layout(this.size,this.orthogonalSize);this.addDisposables(this._onDidChange,this._onDidVisibilityChange,this.splitview.onDidSashEnd((()=>{this._onDidChange.fire({})}))),this.setupChildrenEvents()}setVisible(e){for(const t of this.children)t.setVisible(e)}isChildVisible(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.isViewVisible(e)}setChildVisible(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");if(this.splitview.isViewVisible(e)===t)return;const i=0===this.splitview.contentSize;this.splitview.setViewVisible(e,t);const n=0===this.splitview.contentSize;(t&&i||!t&&n)&&this._onDidVisibilityChange.fire(t)}moveChild(e,t){if(e===t)return;if(e<0||e>=this.children.length)throw new Error("Invalid from index");e<t&&t--,this.splitview.moveView(e,t);const i=this._removeChild(e);this._addChild(i,t)}getChildSize(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(e)}resizeChild(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(e,t)}layout(e,t){this._size=t,this._orthogonalSize=e,this.splitview.layout(t,e)}addChild(e,t,i,n){if(i<0||i>this.children.length)throw new Error("Invalid index");this.splitview.addView(e,t,i,n),this._addChild(e,i)}getChildCachedVisibleSize(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewCachedVisibleSize(e)}removeChild(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.removeView(e,t),this._removeChild(e)}_addChild(e,t){this.children.splice(t,0,e),this.setupChildrenEvents()}_removeChild(e){const[t]=this.children.splice(e,1);return this.setupChildrenEvents(),t}setupChildrenEvents(){this._childrenDisposable.dispose(),this._childrenDisposable=new f(l.any(...this.children.map((e=>e.onDidChange)))((e=>{this._onDidChange.fire({size:e.orthogonalSize})})),...this.children.map(((e,t)=>e instanceof J?e.onDidVisibilityChange((e=>{this.setChildVisible(t,e)})):d.NONE)))}dispose(){this._childrenDisposable.dispose(),this.splitview.dispose(),this.children.forEach((e=>e.dispose())),super.dispose()}}function $(e,t){if(e instanceof Z)return e;if(e instanceof J)return $(e.children[t?e.children.length-1:0],t);throw new Error("invalid node")}function U(e,t,i){if(e instanceof J){const n=new J(K(e.orientation),e.proportionalLayout,e.styles,t,i);let s=0;for(let o=e.children.length-1;o>=0;o--){const r=e.children[o],a=r instanceof J?r.orthogonalSize:r.size;let h=0===e.size?0:Math.round(t*a/e.size);s+=h,0===o&&(h+=t-s),n.addChild(U(r,i,h),h,0,!0)}return n}return new Z(e.view,K(e.orientation),i)}function X(e){const t=e.parentElement;if(!t)throw new Error("Invalid grid element");if(/\bgrid-view\b/.test(t.className))return[];const i=function(e){const t=e.parentElement;if(!t)throw new Error("Invalid grid element");let i=t.firstElementChild,n=0;for(;i!==e&&i!==t.lastElementChild&&i;)i=i.nextElementSibling,n++;return n}(t);return[...X(t.parentElement.parentElement.parentElement),i]}function Y(e,t,i){const n=function(e,t){return t.length%2==0?K(e):e}(e,t),s=function(e){return"top"===e||"bottom"===e?H.VERTICAL:H.HORIZONTAL}(i);if(n===s){const[e,n]=I(t);let s=n;return"right"!==i&&"bottom"!==i||(s+=1),[...e,s]}{const e="right"===i||"bottom"===i?1:0;return[...t,e]}}const K=e=>e===H.HORIZONTAL?H.VERTICAL:H.HORIZONTAL;const Q=(e,t)=>{const i=t===H.VERTICAL?e.box.width:e.box.height;return function(e){return!!e.children}(e)?{type:"branch",data:e.children.map((e=>Q(e,K(t)))),size:i}:"number"==typeof e.cachedVisibleSize?{type:"leaf",data:e.view.toJSON(),size:e.cachedVisibleSize,visible:!1}:{type:"leaf",data:e.view.toJSON(),size:i}};class q{get length(){return this._root?this._root.children.length:0}get orientation(){return this.root.orientation}set orientation(e){if(this.root.orientation===e)return;const{size:t,orthogonalSize:i}=this.root;this.root=U(this.root,i,t),this.root.layout(t,i)}get width(){return this.root.width}get height(){return this.root.height}get minimumWidth(){return this.root.minimumWidth}get minimumHeight(){return this.root.minimumHeight}get maximumWidth(){return this.root.maximumHeight}get maximumHeight(){return this.root.maximumHeight}maximizedView(){var e;return null===(e=this._maximizedNode)||void 0===e?void 0:e.view}hasMaximizedView(){return void 0!==this._maximizedNode}maximizeView(e){const t=X(e.element),[i,n]=this.getNode(t);n instanceof Z&&this._maximizedNode!==n&&(this.hasMaximizedView()&&this.exitMaximizedView(),function e(t,i){for(let n=0;n<t.children.length;n++){const s=t.children[n];s instanceof Z?s!==i&&t.setChildVisible(n,!1):e(s,i)}}(this.root,n),this._maximizedNode=n,this._onDidMaxmizedNodeChange.fire())}exitMaximizedView(){this._maximizedNode&&(!function e(t){for(let i=t.children.length-1;i>=0;i--){const n=t.children[i];n instanceof Z?t.setChildVisible(i,!0):e(n)}}(this.root),this._maximizedNode=void 0,this._onDidMaxmizedNodeChange.fire())}serialize(){return{root:Q(this.getView(),this.orientation),width:this.width,height:this.height,orientation:this.orientation}}dispose(){this.disposable.dispose(),this._onDidChange.dispose(),this._onDidMaxmizedNodeChange.dispose(),this.root.dispose(),this.element.remove()}clear(){const e=this.root.orientation;this.root=new J(e,this.proportionalLayout,this.styles,this.root.size,this.root.orthogonalSize)}deserialize(e,t){const i=e.orientation,n=i===H.VERTICAL?e.height:e.width;this._deserialize(e.root,i,t,n)}_deserialize(e,t,i,n){this.root=this._deserializeNode(e,t,i,n)}_deserializeNode(e,t,i,n){let s;if("branch"===e.type){const o=e.data.map((n=>({node:this._deserializeNode(n,K(t),i,e.size),visible:n.visible})));s=new J(t,this.proportionalLayout,this.styles,e.size,n,o)}else s=new Z(i.fromJSON(e),t,n,e.size);return s}get root(){return this._root}set root(e){const t=this._root;t&&(t.dispose(),this.element.removeChild(t.element)),this._root=e,this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange((e=>{this._onDidChange.fire(e)}))}insertOrthogonalSplitviewAtRoot(){if(!this._root)return;const e=this.root;if(e.element.remove(),this._root=new J(K(e.orientation),this.proportionalLayout,this.styles,this.root.orthogonalSize,this.root.size),0===e.children.length);else if(1===e.children.length){const t=e.children[0];e.removeChild(0).dispose(),e.dispose(),this._root.addChild(U(t,t.orthogonalSize,t.size),B.Distribute,0)}else this._root.addChild(e,B.Distribute,0);this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange((e=>{this._onDidChange.fire(e)}))}next(e){return this.progmaticSelect(e)}previous(e){return this.progmaticSelect(e,!0)}getView(e){const t=e?this.getNode(e)[1]:this.root;return this._getViews(t,this.orientation)}_getViews(e,t,i){const n={height:e.height,width:e.width};if(e instanceof Z)return{box:n,view:e.view,cachedVisibleSize:i};const s=[];for(let o=0;o<e.children.length;o++){const i=e.children[o],n=e.getChildCachedVisibleSize(o);s.push(this._getViews(i,K(t),n))}return{box:n,children:s}}progmaticSelect(e,t){void 0===t&&(t=!1);const[i,n]=this.getNode(e);if(!(n instanceof Z))throw new Error("invalid location");for(let s=i.length-1;s>-1;s--){const n=i[s],o=e[s]||0;if(t?o-1>-1:o+1<n.children.length)return $(n.children[t?o-1:o+1],t)}return $(this.root,t)}constructor(e,t,i){this.proportionalLayout=e,this.styles=t,this._maximizedNode=void 0,this.disposable=new w,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._onDidMaxmizedNodeChange=new m,this.onDidMaxmizedNodeChange=this._onDidMaxmizedNodeChange.event,this.element=document.createElement("div"),this.element.className="grid-view",this.root=new J(i,e,t,0,0)}isViewVisible(e){const[t,i]=I(e),[,n]=this.getNode(t);if(!(n instanceof J))throw new Error("Invalid from location");return n.isChildVisible(i)}setViewVisible(e,t){this.hasMaximizedView()&&this.exitMaximizedView();const[i,n]=I(e),[,s]=this.getNode(i);if(!(s instanceof J))throw new Error("Invalid from location");s.setChildVisible(n,t)}moveView(e,t,i){this.hasMaximizedView()&&this.exitMaximizedView();const[,n]=this.getNode(e);if(!(n instanceof J))throw new Error("Invalid location");n.moveChild(t,i)}addView(e,t,i){this.hasMaximizedView()&&this.exitMaximizedView();const[n,s]=I(i),[o,r]=this.getNode(n);if(r instanceof J){const i=new Z(e,K(r.orientation),r.orthogonalSize);r.addChild(i,t,s)}else{const[i,...a]=[...o].reverse(),[h,...l]=[...n].reverse();let d=0;const p=i.getChildCachedVisibleSize(h);"number"==typeof p&&(d=B.Invisible(p));i.removeChild(h).dispose();const c=new J(r.orientation,this.proportionalLayout,this.styles,r.size,r.orthogonalSize);i.addChild(c,r.size,h);const m=new Z(r.view,i.orientation,r.size);c.addChild(m,d,0),"number"!=typeof t&&"split"===t.type&&(t={type:"split",index:0});const u=new Z(e,i.orientation,r.size);c.addChild(u,t,s)}}remove(e,t){const i=X(e.element);return this.removeView(i,t)}removeView(e,t){this.hasMaximizedView()&&this.exitMaximizedView();const[i,n]=I(e),[s,o]=this.getNode(i);if(!(o instanceof J))throw new Error("Invalid location");const r=o.children[n];if(!(r instanceof Z))throw new Error("Invalid location");if(o.removeChild(n,t),r.dispose(),1!==o.children.length)return r.view;const a=o.children[0];if(0===s.length)return a instanceof Z||(o.removeChild(0,t),this.root=a),r.view;const[h,...l]=[...s].reverse(),[d,...p]=[...i].reverse(),c=o.isChildVisible(0);o.removeChild(0,t);const m=h.children.map(((e,t)=>h.getChildSize(t)));if(h.removeChild(d,t).dispose(),a instanceof J){m.splice(d,1,...a.children.map((e=>e.size)));for(let e=0;e<a.children.length;e++){const t=a.children[e];h.addChild(t,t.size,d+e)}for(;a.children.length>0;)a.removeChild(0)}else{const e=new Z(a.view,K(a.orientation),a.size),t=c?a.orthogonalSize:B.Invisible(a.orthogonalSize);h.addChild(e,t,d)}a.dispose();for(let u=0;u<m.length;u++)h.resizeChild(u,m[u]);return r.view}layout(e,t){const[i,n]=this.root.orientation===H.HORIZONTAL?[t,e]:[e,t];this.root.layout(i,n)}getNode(e,t,i){if(void 0===t&&(t=this.root),void 0===i&&(i=[]),0===e.length)return[i,t];if(!(t instanceof J))throw new Error("Invalid location");const[n,...s]=e;if(n<0||n>=t.children.length)throw new Error("Invalid location");const o=t.children[n];return i.push(t),this.getNode(s,o,i)}}class ee{get minimumSize(){return this.component.minimumSize}get maximumSize(){return this.component.maximumSize}get width(){return this.component.width}get height(){return this.component.height}get length(){return this.component.length}get orientation(){return this.component.orientation}get panels(){return this.component.panels}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidAddView(){return this.component.onDidAddView}get onDidRemoveView(){return this.component.onDidRemoveView}constructor(e){this.component=e}updateOptions(e){this.component.updateOptions(e)}removePanel(e,t){this.component.removePanel(e,t)}focus(){this.component.focus()}getPanel(e){return this.component.getPanel(e)}layout(e,t){return this.component.layout(e,t)}addPanel(e){return this.component.addPanel(e)}movePanel(e,t){this.component.movePanel(e,t)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}}class te{get minimumSize(){return this.component.minimumSize}get maximumSize(){return this.component.maximumSize}get width(){return this.component.width}get height(){return this.component.height}get panels(){return this.component.panels}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidAddView(){return this.component.onDidAddView}get onDidRemoveView(){return this.component.onDidRemoveView}get onDidDrop(){const e=new m,t=this.component.onDidDrop((t=>{e.fire(Object.assign(Object.assign({},t),{api:this}))}));return e.dispose=()=>{t.dispose(),e.dispose()},e.event}constructor(e){this.component=e}removePanel(e){this.component.removePanel(e)}getPanel(e){return this.component.getPanel(e)}movePanel(e,t){this.component.movePanel(e,t)}focus(){this.component.focus()}layout(e,t){this.component.layout(e,t)}addPanel(e){return this.component.addPanel(e)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}}class ie{get width(){return this.component.width}get height(){return this.component.height}get minimumHeight(){return this.component.minimumHeight}get maximumHeight(){return this.component.maximumHeight}get minimumWidth(){return this.component.minimumWidth}get maximumWidth(){return this.component.maximumWidth}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidAddPanel(){return this.component.onDidAddGroup}get onDidRemovePanel(){return this.component.onDidRemoveGroup}get onDidActivePanelChange(){return this.component.onDidActiveGroupChange}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get panels(){return this.component.groups}get orientation(){return this.component.orientation}set orientation(e){this.component.updateOptions({orientation:e})}constructor(e){this.component=e}focus(){this.component.focus()}layout(e,t,i){void 0===i&&(i=!1),this.component.layout(e,t,i)}addPanel(e){return this.component.addPanel(e)}removePanel(e,t){this.component.removePanel(e,t)}movePanel(e,t){this.component.movePanel(e,t)}getPanel(e){return this.component.getPanel(e)}fromJSON(e){return this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}}class ne{get id(){return this.component.id}get width(){return this.component.width}get height(){return this.component.height}get minimumHeight(){return this.component.minimumHeight}get maximumHeight(){return this.component.maximumHeight}get minimumWidth(){return this.component.minimumWidth}get maximumWidth(){return this.component.maximumWidth}get size(){return this.component.size}get totalPanels(){return this.component.totalPanels}get onDidActiveGroupChange(){return this.component.onDidActiveGroupChange}get onDidAddGroup(){return this.component.onDidAddGroup}get onDidRemoveGroup(){return this.component.onDidRemoveGroup}get onDidActivePanelChange(){return this.component.onDidActivePanelChange}get onDidAddPanel(){return this.component.onDidAddPanel}get onDidRemovePanel(){return this.component.onDidRemovePanel}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidDrop(){return this.component.onDidDrop}get onWillDragGroup(){return this.component.onWillDragGroup}get onWillDragPanel(){return this.component.onWillDragPanel}get panels(){return this.component.panels}get groups(){return this.component.groups}get activePanel(){return this.component.activePanel}get activeGroup(){return this.component.activeGroup}constructor(e){this.component=e}focus(){this.component.focus()}getPanel(e){return this.component.getGroupPanel(e)}layout(e,t,i){void 0===i&&(i=!1),this.component.layout(e,t,i)}addPanel(e){return this.component.addPanel(e)}removePanel(e){this.component.removePanel(e)}addGroup(e){return this.component.addGroup(e)}closeAllGroups(){return this.component.closeAllGroups()}removeGroup(e){this.component.removeGroup(e)}getGroup(e){return this.component.getPanel(e)}addFloatingGroup(e,t){return this.component.addFloatingGroup(e,t)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}moveToNext(e){this.component.moveToNext(e)}moveToPrevious(e){this.component.moveToPrevious(e)}maximizeGroup(e){this.component.maximizeGroup(e.group)}hasMaximizedGroup(){return this.component.hasMaximizedGroup()}exitMaxmizedGroup(){this.component.exitMaximizedGroup()}get onDidMaxmizedGroupChange(){return this.component.onDidMaxmizedGroupChange}addPopoutGroup(e,t){this.component.addPopoutGroup(e,t)}}class se extends f{constructor(e,t){super(),this.element=e,this.callbacks=t,this.target=null,this.registerListeners()}onDragEnter(e){this.target=e.target,this.callbacks.onDragEnter(e)}onDragOver(e){e.preventDefault(),this.callbacks.onDragOver&&this.callbacks.onDragOver(e)}onDragLeave(e){this.target===e.target&&(this.target=null,this.callbacks.onDragLeave(e))}onDragEnd(e){this.target=null,this.callbacks.onDragEnd(e)}onDrop(e){this.callbacks.onDrop(e)}registerListeners(){this.addDisposables(v(this.element,"dragenter",(e=>{this.onDragEnter(e)}),!0)),this.addDisposables(v(this.element,"dragover",(e=>{this.onDragOver(e)}),!0)),this.addDisposables(v(this.element,"dragleave",(e=>{this.onDragLeave(e)}))),this.addDisposables(v(this.element,"dragend",(e=>{this.onDragEnd(e)}))),this.addDisposables(v(this.element,"drop",(e=>{this.onDrop(e)})))}}function oe(e){switch(e){case"above":return"top";case"below":return"bottom";case"left":return"left";case"right":return"right";case"within":return"center";default:throw new Error(`invalid direction '${e}'`)}}function re(e){switch(e){case"top":return"above";case"bottom":return"below";case"left":return"left";case"right":return"right";case"center":return"within";default:throw new Error(`invalid position '${e}'`)}}class ae extends f{get state(){return this._state}constructor(e,t){super(),this.element=e,this.options=t,this._onDrop=new m,this.onDrop=this._onDrop.event,this._acceptedTargetZonesSet=new Set(this.options.acceptedTargetZones),this.dnd=new se(this.element,{onDragEnter:()=>{},onDragOver:e=>{if(0===this._acceptedTargetZonesSet.size)return void this.removeDropTarget();const t=this.element.clientWidth,i=this.element.clientHeight;if(0===t||0===i)return;const n=e.currentTarget.getBoundingClientRect(),s=e.clientX-n.left,o=e.clientY-n.top,r=this.calculateQuadrant(this._acceptedTargetZonesSet,s,o,t,i);if(this.isAlreadyUsed(e)||null===r)this.removeDropTarget();else{if("boolean"==typeof this.options.canDisplayOverlay){if(!this.options.canDisplayOverlay)return void this.removeDropTarget()}else if(!this.options.canDisplayOverlay(e,r))return void this.removeDropTarget();this.markAsUsed(e),this.targetElement||(this.targetElement=document.createElement("div"),this.targetElement.className="drop-target-dropzone",this.overlayElement=document.createElement("div"),this.overlayElement.className="drop-target-selection",this._state="center",this.targetElement.appendChild(this.overlayElement),this.element.classList.add("drop-target"),this.element.append(this.targetElement)),this.toggleClasses(r,t,i),this.setState(r)}},onDragLeave:()=>{this.removeDropTarget()},onDragEnd:()=>{this.removeDropTarget()},onDrop:e=>{e.preventDefault();const t=this._state;this.removeDropTarget(),t&&(e.stopPropagation(),this._onDrop.fire({position:t,nativeEvent:e}))}}),this.addDisposables(this._onDrop,this.dnd)}setTargetZones(e){this._acceptedTargetZonesSet=new Set(e)}dispose(){this.removeDropTarget(),super.dispose()}markAsUsed(e){e[ae.USED_EVENT_ID]=!0}isAlreadyUsed(e){const t=e[ae.USED_EVENT_ID];return"boolean"==typeof t&&t}toggleClasses(e,t,i){var n,s,o,r;if(!this.overlayElement)return;const a=t<100,h=i<100,l="left"===e,d="right"===e,p="top"===e,c="bottom"===e,m=!a&&d,u=!a&&l,v=!h&&p,g=!h&&c;let f=.5;"percentage"===(null===(s=null===(n=this.options.overlayModel)||void 0===n?void 0:n.size)||void 0===s?void 0:s.type)&&(f=O(this.options.overlayModel.size.value,0,100)/100),"pixels"===(null===(r=null===(o=this.options.overlayModel)||void 0===o?void 0:o.size)||void 0===r?void 0:r.type)&&((m||u)&&(f=O(0,this.options.overlayModel.size.value,t)/t),(v||g)&&(f=O(0,this.options.overlayModel.size.value,i)/i));const w=(1-f)/2;let _;_=m?`translateX(${100*w}%) scaleX(${f})`:u?`translateX(-${100*w}%) scaleX(${f})`:v?`translateY(-${100*w}%) scaleY(${f})`:g?`translateY(${100*w}%) scaleY(${f})`:"",this.overlayElement.style.transform=_,x(this.overlayElement,"small-right",a&&d),x(this.overlayElement,"small-left",a&&l),x(this.overlayElement,"small-top",h&&p),x(this.overlayElement,"small-bottom",h&&c)}setState(e){switch(e){case"top":this._state="top";break;case"left":this._state="left";break;case"bottom":this._state="bottom";break;case"right":this._state="right";break;case"center":this._state="center"}}calculateQuadrant(e,t,i,n,s){var o,r,a,h,l,d;const p=void 0===(null===(o=this.options.overlayModel)||void 0===o?void 0:o.activationSize)||"percentage"===(null===(a=null===(r=this.options.overlayModel)||void 0===r?void 0:r.activationSize)||void 0===a?void 0:a.type),c=(m=null===(d=null===(l=null===(h=this.options)||void 0===h?void 0:h.overlayModel)||void 0===l?void 0:l.activationSize)||void 0===d?void 0:d.value,u=20,"number"==typeof m?m:u);var m,u;return p?function(e,t,i,n,s,o){const r=100*t/n,a=100*i/s;if(e.has("left")&&r<o)return"left";if(e.has("right")&&r>100-o)return"right";if(e.has("top")&&a<o)return"top";if(e.has("bottom")&&a>100-o)return"bottom";if(!e.has("center"))return null;return"center"}(e,t,i,n,s,c):function(e,t,i,n,s,o){if(e.has("left")&&t<o)return"left";if(e.has("right")&&t>n-o)return"right";if(e.has("top")&&i<o)return"top";if(e.has("bottom")&&i>s-o)return"bottom";if(!e.has("center"))return null;return"center"}(e,t,i,n,s,c)}removeDropTarget(){this.targetElement&&(this._state=void 0,this.element.removeChild(this.targetElement),this.targetElement=void 0,this.overlayElement=void 0,this.element.classList.remove("drop-target"))}}var he;ae.USED_EVENT_ID="__dockview_droptarget_event_is_used__",function(e){e[e.Tab=0]="Tab",e[e.Panel=1]="Panel",e[e.TabContainer=2]="TabContainer",e[e.Edge=3]="Edge"}(he||(he={}));class le extends f{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this.disposable=new w,this._onDidFocus=new m,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new m,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="content-container",this._element.tabIndex=-1,this.addDisposables(this._onDidFocus,this._onDidBlur),this.dropTarget=new ae(this.element,{acceptedTargetZones:["top","bottom","left","right","center"],canDisplayOverlay:(e,t)=>{if("no-drop-target"===this.group.locked||this.group.locked&&"center"===t)return!1;const i=a();if(!i&&e.shiftKey&&"floating"!==this.group.location)return!1;if(i&&i.viewId===this.accessor.id){if(i.groupId===this.group.id){if("center"===t)return!1;if(null===i.panelId)return!1}return!(1===this.group.panels.length&&i.groupId===this.group.id)}return this.group.canDisplayOverlay(e,t,he.Panel)}}),this.addDisposables(this.dropTarget)}show(){this.element.style.display=""}hide(){this.element.style.display="none"}renderPanel(e){const t=e===this.group.activePanel;let i;switch(e.api.renderer){case"onlyWhenVisibile":this.accessor.overlayRenderContainer.remove(e),t&&this.panel&&this._element.appendChild(this.panel.view.content.element),i=this._element;break;case"always":e.view.content.element.parentElement===this._element&&this._element.removeChild(e.view.content.element),i=this.accessor.overlayRenderContainer.setReferenceContentContainer(e,this)}if(t){const t=e.view.content.onDidFocus,n=e.view.content.onDidBlur,s=E(i),o=new f;o.addDisposables(s,s.onDidFocus((()=>this._onDidFocus.fire())),s.onDidBlur((()=>this._onDidBlur.fire()))),t&&o.addDisposables(t((()=>this._onDidFocus.fire()))),n&&o.addDisposables(n((()=>this._onDidBlur.fire()))),this.disposable.value=o}}openPanel(e){if(this.panel===e)return;const t=e.api.renderer;let i;switch(this.panel&&this.panel.view.content.element.parentElement===this._element&&this._element.removeChild(this.panel.view.content.element),this.panel=e,t){case"always":i=this.accessor.overlayRenderContainer.setReferenceContentContainer(e,this);break;case"onlyWhenVisibile":this._element.appendChild(this.panel.view.content.element),i=this._element}const n=this.panel.view.content.onDidFocus,s=this.panel.view.content.onDidBlur,o=new f,r=E(i);o.addDisposables(r,r.onDidFocus((()=>this._onDidFocus.fire())),r.onDidBlur((()=>this._onDidBlur.fire()))),n&&o.addDisposables(n((()=>this._onDidFocus.fire()))),s&&o.addDisposables(s((()=>this._onDidBlur.fire()))),this.disposable.value=o}layout(e,t){}closePanel(){this.panel&&("onlyWhenVisibile"===this.accessor.options.defaultRenderer&&this._element.removeChild(this.panel.view.content.element),this.panel=void 0)}dispose(){this.disposable.dispose(),super.dispose()}}class de extends f{constructor(e){super(),this.el=e,this.dataDisposable=new w,this.pointerEventsDisposable=new w,this._onDragStart=new m,this.onDragStart=this._onDragStart.event,this.addDisposables(this._onDragStart,this.dataDisposable,this.pointerEventsDisposable),this.configure()}isCancelled(e){return!1}configure(){this.addDisposables(this._onDragStart,v(this.el,"dragstart",(e=>{if(e.defaultPrevented||this.isCancelled(e))return void e.preventDefault();const t=[...y("iframe"),...y("webview")];this.pointerEventsDisposable.value={dispose:()=>{for(const e of t)e.style.pointerEvents="auto"}};for(const i of t)i.style.pointerEvents="none";if(this.el.classList.add("dv-dragged"),setTimeout((()=>this.el.classList.remove("dv-dragged")),0),this.dataDisposable.value=this.getData(e),this._onDragStart.fire(e),e.dataTransfer){e.dataTransfer.effectAllowed="move";e.dataTransfer.items.length>0||e.dataTransfer.setData("text/plain","__dockview_internal_drag_event__")}})),v(this.el,"dragend",(()=>{this.pointerEventsDisposable.dispose(),this.dataDisposable.dispose()})))}}class pe extends de{constructor(e,t,i,n){super(e),this.accessor=t,this.group=i,this.panel=n,this.panelTransfer=r.getInstance()}getData(e){return this.panelTransfer.setData([new s(this.accessor.id,this.group.id,this.panel.id)],s.prototype),{dispose:()=>{this.panelTransfer.clearData(s.prototype)}}}}class ce extends f{get element(){return this._element}constructor(e,t,i){super(),this.panel=e,this.accessor=t,this.group=i,this.content=void 0,this._onChanged=new m,this.onChanged=this._onChanged.event,this._onDropped=new m,this.onDrop=this._onDropped.event,this._onDragStart=new m,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="tab",this._element.tabIndex=0,this._element.draggable=!0,x(this.element,"inactive-tab",!0);const n=new pe(this._element,this.accessor,this.group,this.panel);this.droptarget=new ae(this._element,{acceptedTargetZones:["center"],canDisplayOverlay:(e,t)=>{if(this.group.locked)return!1;const i=a();return i&&this.accessor.id===i.viewId?(null!==i.panelId||i.groupId!==this.group.id)&&this.panel.id!==i.panelId:this.group.model.canDisplayOverlay(e,t,he.Tab)}}),this.addDisposables(this._onChanged,this._onDropped,this._onDragStart,n.onDragStart((e=>{this._onDragStart.fire(e)})),n,v(this._element,"mousedown",(e=>{e.defaultPrevented||this._onChanged.fire(e)})),this.droptarget.onDrop((e=>{this._onDropped.fire(e)})),this.droptarget)}setActive(e){x(this.element,"active-tab",e),x(this.element,"inactive-tab",!e)}setContent(e){this.content&&this._element.removeChild(this.content.element),this.content=e,this._element.appendChild(this.content.element)}dispose(){super.dispose()}}class me extends de{constructor(e,t,i){super(e),this.accessor=t,this.group=i,this.panelTransfer=r.getInstance(),this.addDisposables(v(e,"mousedown",(e=>{e.shiftKey&&(e[S]=!0)}),!0))}isCancelled(e){return"floating"===this.group.api.location&&!e.shiftKey}getData(e){const t=e.dataTransfer;this.panelTransfer.setData([new s(this.accessor.id,this.group.id,null)],s.prototype);const i=window.getComputedStyle(this.el),n=i.getPropertyValue("--dv-activegroup-visiblepanel-tab-background-color"),o=i.getPropertyValue("--dv-activegroup-visiblepanel-tab-color");if(t){const e=document.createElement("div");e.style.backgroundColor=n,e.style.color=o,e.style.padding="2px 8px",e.style.height="24px",e.style.fontSize="11px",e.style.lineHeight="20px",e.style.borderRadius="12px",e.style.position="absolute",e.textContent=`Multiple Panels (${this.group.size})`,function(e,t){D(t,"dv-dragged"),document.body.appendChild(t),e.setDragImage(t,0,0),setTimeout((()=>{b(t,"dv-dragged"),t.remove()}),0)}(t,e)}return{dispose:()=>{this.panelTransfer.clearData(s.prototype)}}}}class ue extends f{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this._onDrop=new m,this.onDrop=this._onDrop.event,this._onDragStart=new m,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="void-container",this._element.tabIndex=0,this._element.draggable=!0,this.addDisposables(this._onDrop,this._onDragStart,v(this._element,"click",(()=>{this.accessor.doSetGroupActive(this.group)})));const i=new me(this._element,e,t);this.voidDropTarget=new ae(this._element,{acceptedTargetZones:["center"],canDisplayOverlay:(e,i)=>{var n;const s=a();return s&&this.accessor.id===s.viewId?(null!==s.panelId||s.groupId!==this.group.id)&&(null===(n=(o=this.group.panels).length>0?o[o.length-1]:void 0)||void 0===n?void 0:n.id)!==s.panelId:t.model.canDisplayOverlay(e,i,he.Panel);var o}}),this.addDisposables(i,i.onDragStart((e=>{this._onDragStart.fire(e)})),this.voidDropTarget.onDrop((e=>{this._onDrop.fire(e)})),this.voidDropTarget)}}class ve extends f{get panels(){return this.tabs.map((e=>e.value.panel.id))}get size(){return this.tabs.length}get hidden(){return this._hidden}set hidden(e){this._hidden=e,this.element.style.display=e?"none":""}show(){this.hidden||(this.element.style.display="")}hide(){this._element.style.display="none"}setRightActionsElement(e){this.rightActions!==e&&(this.rightActions&&(this.rightActions.remove(),this.rightActions=void 0),e&&(this.rightActionsContainer.appendChild(e),this.rightActions=e))}setLeftActionsElement(e){this.leftActions!==e&&(this.leftActions&&(this.leftActions.remove(),this.leftActions=void 0),e&&(this.leftActionsContainer.appendChild(e),this.leftActions=e))}setPrefixActionsElement(e){this.preActions!==e&&(this.preActions&&(this.preActions.remove(),this.preActions=void 0),e&&(this.preActionsContainer.appendChild(e),this.preActions=e))}get element(){return this._element}isActive(e){return this.selectedIndex>-1&&this.tabs[this.selectedIndex].value===e}indexOf(e){return this.tabs.findIndex((t=>t.value.panel.id===e))}constructor(e,t){super(),this.accessor=e,this.group=t,this.tabs=[],this.selectedIndex=-1,this._hidden=!1,this._onDrop=new m,this.onDrop=this._onDrop.event,this._onTabDragStart=new m,this.onTabDragStart=this._onTabDragStart.event,this._onGroupDragStart=new m,this.onGroupDragStart=this._onGroupDragStart.event,this.addDisposables(this._onDrop,this._onTabDragStart,this._onGroupDragStart),this._element=document.createElement("div"),this._element.className="tabs-and-actions-container",x(this._element,"dv-full-width-single-tab","fullwidth"===this.accessor.options.singleTabMode),this.addDisposables(this.accessor.onDidAddPanel((e=>{e.api.group===this.group&&x(this._element,"dv-single-tab",1===this.size)})),this.accessor.onDidRemovePanel((e=>{e.api.group===this.group&&x(this._element,"dv-single-tab",1===this.size)}))),this.rightActionsContainer=document.createElement("div"),this.rightActionsContainer.className="right-actions-container",this.leftActionsContainer=document.createElement("div"),this.leftActionsContainer.className="left-actions-container",this.preActionsContainer=document.createElement("div"),this.preActionsContainer.className="pre-actions-container",this.tabContainer=document.createElement("div"),this.tabContainer.className="tabs-container",this.voidContainer=new ue(this.accessor,this.group),this._element.appendChild(this.preActionsContainer),this._element.appendChild(this.tabContainer),this._element.appendChild(this.leftActionsContainer),this._element.appendChild(this.voidContainer.element),this._element.appendChild(this.rightActionsContainer),this.addDisposables(this.voidContainer,this.voidContainer.onDragStart((e=>{this._onGroupDragStart.fire({nativeEvent:e,group:this.group})})),this.voidContainer.onDrop((e=>{this._onDrop.fire({event:e.nativeEvent,index:this.tabs.length})})),v(this.voidContainer.element,"mousedown",(e=>{if(!this.accessor.options.disableFloatingGroups&&e.shiftKey&&"floating"!==this.group.api.location){e.preventDefault();const{top:t,left:i}=this.element.getBoundingClientRect(),{top:n,left:s}=this.accessor.element.getBoundingClientRect();this.accessor.addFloatingGroup(this.group,{x:i-s+20,y:t-n+20},{inDragMode:!0})}})),v(this.tabContainer,"mousedown",(e=>{if(e.defaultPrevented)return;0===e.button&&this.accessor.doSetGroupActive(this.group)})))}setActive(e){}addTab(e,t){if(void 0===t&&(t=this.tabs.length),t<0||t>this.tabs.length)throw new Error("invalid location");this.tabContainer.insertBefore(e.value.element,this.tabContainer.children[t]),this.tabs=[...this.tabs.slice(0,t),e,...this.tabs.slice(t)],this.selectedIndex<0&&(this.selectedIndex=t)}delete(e){const t=this.tabs.findIndex((t=>t.value.panel.id===e)),i=this.tabs.splice(t,1)[0],{value:n,disposable:s}=i;s.dispose(),n.dispose(),n.element.remove()}setActivePanel(e){this.tabs.forEach((t=>{const i=e.id===t.value.panel.id;t.value.setActive(i)}))}openPanel(e,t){var i;if(void 0===t&&(t=this.tabs.length),this.tabs.find((t=>t.value.panel.id===e.id)))return;const n=new ce(e,this.accessor,this.group);if(!(null===(i=e.view)||void 0===i?void 0:i.tab))throw new Error("invalid header component");n.setContent(e.view.tab);const s=new f(n.onDragStart((t=>{this._onTabDragStart.fire({nativeEvent:t,panel:e})})),n.onChanged((t=>{var i;const s=!this.accessor.options.disableFloatingGroups,o="floating"===this.group.api.location&&1===this.size;if(s&&!o&&t.shiftKey){t.preventDefault();const e=this.accessor.getGroupPanel(n.panel.id),{top:i,left:s}=n.element.getBoundingClientRect(),{top:o,left:r}=this.accessor.element.getBoundingClientRect();return void this.accessor.addFloatingGroup(e,{x:s-r,y:i-o},{inDragMode:!0})}const r=e.id===(null===(i=this.group.model.activePanel)||void 0===i?void 0:i.id)&&this.group.model.isContentFocused;0===t.button&&!t.defaultPrevented&&this.group.model.openPanel(e,{skipFocus:r})})),n.onDrop((e=>{this._onDrop.fire({event:e.nativeEvent,index:this.tabs.findIndex((e=>e.value===n))})}))),o={value:n,disposable:s};this.addTab(o,t)}closePanel(e){this.delete(e.id)}dispose(){super.dispose();for(const{value:e,disposable:t}of this.tabs)t.dispose(),e.dispose();this.tabs=[]}}class ge extends f{get element(){throw new Error("not supported")}get activePanel(){return this._activePanel}get locked(){return this._locked}set locked(e){this._locked=e,x(this.container,"locked-groupview","no-drop-target"===e||e)}get isActive(){return this._isGroupActive}get panels(){return this._panels}get size(){return this._panels.length}get isEmpty(){return 0===this._panels.length}get hasWatermark(){return!(!this.watermark||!this.container.contains(this.watermark.element))}get header(){return this.tabsContainer}get isContentFocused(){return!!document.activeElement&&C(document.activeElement,this.contentContainer.element)}get location(){return this._location}set location(e){switch(this._location=e,x(this.container,"dv-groupview-floating",!1),x(this.container,"dv-groupview-popout",!1),e){case"grid":this.contentContainer.dropTarget.setTargetZones(["top","bottom","left","right","center"]);break;case"floating":this.contentContainer.dropTarget.setTargetZones(["center"]),this.contentContainer.dropTarget.setTargetZones(e?["center"]:["top","bottom","left","right","center"]),x(this.container,"dv-groupview-floating",!0);break;case"popout":this.contentContainer.dropTarget.setTargetZones(["center"]),x(this.container,"dv-groupview-popout",!0)}this.groupPanel.api._onDidLocationChange.fire({location:this.location})}constructor(e,t,i,n,s){var o;super(),this.container=e,this.accessor=t,this.id=i,this.options=n,this.groupPanel=s,this._isGroupActive=!1,this._locked=!1,this._location="grid",this.mostRecentlyUsed=[],this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._width=0,this._height=0,this._panels=[],this._onMove=new m,this.onMove=this._onMove.event,this._onDidDrop=new m,this.onDidDrop=this._onDidDrop.event,this._onTabDragStart=new m,this.onTabDragStart=this._onTabDragStart.event,this._onGroupDragStart=new m,this.onGroupDragStart=this._onGroupDragStart.event,this._onDidAddPanel=new m,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidRemovePanel=new m,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidActivePanelChange=new m,this.onDidActivePanelChange=this._onDidActivePanelChange.event,x(this.container,"groupview",!0),this.tabsContainer=new ve(this.accessor,this.groupPanel),this.contentContainer=new le(this.accessor,this),e.append(this.tabsContainer.element,this.contentContainer.element),this.header.hidden=!!n.hideHeader,this.locked=null!==(o=n.locked)&&void 0!==o&&o,this.addDisposables(this._onTabDragStart,this._onGroupDragStart,this.tabsContainer.onTabDragStart((e=>{this._onTabDragStart.fire(e)})),this.tabsContainer.onGroupDragStart((e=>{this._onGroupDragStart.fire(e)})),this.tabsContainer.onDrop((e=>{this.handleDropEvent(e.event,"center",e.index)})),this.contentContainer.onDidFocus((()=>{this.accessor.doSetGroupActive(this.groupPanel,!0)})),this.contentContainer.onDidBlur((()=>{})),this.contentContainer.dropTarget.onDrop((e=>{this.handleDropEvent(e.nativeEvent,e.position)})),this._onMove,this._onDidChange,this._onDidDrop,this._onDidAddPanel,this._onDidRemovePanel,this._onDidActivePanelChange)}initialize(){var e,t;(null===(e=this.options)||void 0===e?void 0:e.panels)&&this.options.panels.forEach((e=>{this.doAddPanel(e)})),(null===(t=this.options)||void 0===t?void 0:t.activePanel)&&this.openPanel(this.options.activePanel),this.setActive(this.isActive,!0,!0),this.updateContainer(),this.accessor.options.createRightHeaderActionsElement&&(this._rightHeaderActions=this.accessor.options.createRightHeaderActionsElement(this.groupPanel),this.addDisposables(this._rightHeaderActions),this._rightHeaderActions.init({containerApi:new ne(this.accessor),api:this.groupPanel.api}),this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element)),this.accessor.options.createLeftHeaderActionsElement&&(this._leftHeaderActions=this.accessor.options.createLeftHeaderActionsElement(this.groupPanel),this.addDisposables(this._leftHeaderActions),this._leftHeaderActions.init({containerApi:new ne(this.accessor),api:this.groupPanel.api}),this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element)),this.accessor.options.createPrefixHeaderActionsElement&&(this._prefixHeaderActions=this.accessor.options.createPrefixHeaderActionsElement(this.groupPanel),this.addDisposables(this._prefixHeaderActions),this._prefixHeaderActions.init({containerApi:new ne(this.accessor),api:this.groupPanel.api}),this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element))}rerender(e){this.contentContainer.renderPanel(e)}indexOf(e){return this.tabsContainer.indexOf(e.id)}toJSON(){var e;const t={views:this.tabsContainer.panels,activeView:null===(e=this._activePanel)||void 0===e?void 0:e.id,id:this.id};return!1!==this.locked&&(t.locked=this.locked),this.header.hidden&&(t.hideHeader=!0),t}moveToNext(e){e||(e={}),e.panel||(e.panel=this.activePanel);const t=e.panel?this.panels.indexOf(e.panel):-1;let i;if(t<this.panels.length-1)i=t+1;else{if(e.suppressRoll)return;i=0}this.openPanel(this.panels[i])}moveToPrevious(e){if(e||(e={}),e.panel||(e.panel=this.activePanel),!e.panel)return;const t=this.panels.indexOf(e.panel);let i;if(t>0)i=t-1;else{if(e.suppressRoll)return;i=this.panels.length-1}this.openPanel(this.panels[i])}containsPanel(e){return this.panels.includes(e)}init(e){}update(e){}focus(){var e,t;null===(t=null===(e=this._activePanel)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}openPanel(e,t){void 0===t&&(t={}),("number"!=typeof t.index||t.index>this.panels.length)&&(t.index=this.panels.length);const i=!!t.skipSetPanelActive,n=!!t.skipSetGroupActive;e.updateParentGroup(this.groupPanel,!0),this._activePanel!==e?(this.doAddPanel(e,t.index,i),i||this.doSetActivePanel(e),n||this.accessor.doSetGroupActive(this.groupPanel,!!t.skipFocus),this.updateContainer()):n||this.accessor.doSetGroupActive(this.groupPanel)}removePanel(e){const t="string"==typeof e?e:e.id,i=this._panels.find((e=>e.id===t));if(!i)throw new Error("invalid operation");return this._removePanel(i)}closeAllPanels(){if(this.panels.length>0){const e=[...this.panels];for(const t of e)this.doClose(t)}else this.accessor.removeGroup(this.groupPanel)}closePanel(e){this.doClose(e)}doClose(e){this.accessor.removePanel(e)}isPanelActive(e){return this._activePanel===e}updateActions(e){this.tabsContainer.setRightActionsElement(e)}setActive(e,t,i){var n,s,o,r;void 0===t&&(t=!1),void 0===i&&(i=!1),i||this.isActive!==e?(this._isGroupActive=e,x(this.container,"active-group",e),x(this.container,"inactive-group",!e),this.tabsContainer.setActive(this.isActive),!this._activePanel&&this.panels.length>0&&this.doSetActivePanel(this.panels[0]),this.updateContainer(),e&&(t||null===(r=null===(o=this._activePanel)||void 0===o?void 0:o.focus)||void 0===r||r.call(o))):t||null===(s=null===(n=this._activePanel)||void 0===n?void 0:n.focus)||void 0===s||s.call(n)}layout(e,t){var i;this._width=e,this._height=t,this.contentContainer.layout(this._width,this._height),(null===(i=this._activePanel)||void 0===i?void 0:i.layout)&&this._activePanel.layout(this._width,this._height)}_removePanel(e){const t=this._activePanel===e;if(this.doRemovePanel(e),t&&this.panels.length>0){const e=this.mostRecentlyUsed[0];this.openPanel(e)}return this._activePanel&&0===this.panels.length&&this.doSetActivePanel(void 0),this.updateContainer(),e}doRemovePanel(e){const t=this.panels.indexOf(e);this._activePanel===e&&this.contentContainer.closePanel(),this.tabsContainer.delete(e.id),this._panels.splice(t,1),this.mostRecentlyUsed.includes(e)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(e),1),this._onDidRemovePanel.fire({panel:e})}doAddPanel(e,t,i){void 0===t&&(t=this.panels.length),void 0===i&&(i=!1);const n=this._panels.indexOf(e)>-1;this.tabsContainer.show(),this.contentContainer.show(),this.tabsContainer.openPanel(e,t),i||this.contentContainer.openPanel(e),n||(this.updateMru(e),this.panels.splice(t,0,e),this._onDidAddPanel.fire({panel:e}))}doSetActivePanel(e){this._activePanel=e,e&&(this.tabsContainer.setActivePanel(e),e.layout(this._width,this._height),this.updateMru(e),this._onDidActivePanelChange.fire({panel:e}))}updateMru(e){this.mostRecentlyUsed.includes(e)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(e),1),this.mostRecentlyUsed=[e,...this.mostRecentlyUsed]}updateContainer(){var e,t;if(x(this.container,"empty",this.isEmpty),this.panels.forEach((e=>e.updateParentGroup(this.groupPanel,this.isActive))),this.isEmpty&&!this.watermark){const e=this.accessor.createWatermarkComponent();e.init({containerApi:new ne(this.accessor),group:this.groupPanel}),this.watermark=e,v(this.watermark.element,"click",(()=>{this.isActive||this.accessor.doSetGroupActive(this.groupPanel)})),this.tabsContainer.hide(),this.contentContainer.element.appendChild(this.watermark.element),this.watermark.updateParentGroup(this.groupPanel,!0)}!this.isEmpty&&this.watermark&&(this.watermark.element.remove(),null===(t=(e=this.watermark).dispose)||void 0===t||t.call(e),this.watermark=void 0,this.tabsContainer.show())}canDisplayOverlay(e,t,i){return!!this.accessor.options.showDndOverlay&&this.accessor.options.showDndOverlay({nativeEvent:e,target:i,group:this.accessor.getPanel(this.id),position:t,getData:a})}handleDropEvent(e,t,i){if("no-drop-target"===this.locked)return;const n=a();if(n&&n.viewId===this.accessor.id){if(null===n.panelId){const{groupId:e}=n;return void this._onMove.fire({target:t,groupId:e,index:i})}if(-1!==this.tabsContainer.indexOf(n.panelId)&&1===this.tabsContainer.size)return;const{groupId:e,panelId:s}=n;if(this.id===e&&!t){if(this.tabsContainer.indexOf(s)===i)return}this._onMove.fire({target:t,groupId:n.groupId,itemId:n.panelId,index:i})}else this._onDidDrop.fire({nativeEvent:e,position:t,index:i,getData:()=>a()})}dispose(){var e,t,i;super.dispose(),null===(e=this.watermark)||void 0===e||e.element.remove(),null===(i=null===(t=this.watermark)||void 0===t?void 0:t.dispose)||void 0===i||i.call(t);for(const n of this.panels)n.dispose();this.tabsContainer.dispose(),this.contentContainer.dispose()}}class fe extends f{get element(){return this._element}get disableResizing(){return this._disableResizing}set disableResizing(e){this._disableResizing=e}constructor(e,t){void 0===t&&(t=!1),super(),this._disableResizing=t,e?this._element=e:(this._element=document.createElement("div"),this._element.style.height="100%",this._element.style.width="100%",this._element.className="dv-resizable-container"),this.addDisposables(_(this._element,(e=>{if(this.isDisposed)return;if(this.disableResizing)return;if(!function(e){let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof DocumentFragment?t.parentNode.host:t.parentNode}return!1}(this._element))return;const{width:t,height:i}=e.contentRect;this.layout(t,i)})))}}const we=k();function _e(e){switch(e){case"left":return"left";case"right":return"right";case"above":return"top";case"below":return"bottom";default:return"center"}}class be extends fe{get id(){return this._id}get size(){return this._groups.size}get groups(){return Array.from(this._groups.values()).map((e=>e.value))}get width(){return this.gridview.width}get height(){return this.gridview.height}get minimumHeight(){return this.gridview.minimumHeight}get maximumHeight(){return this.gridview.maximumHeight}get minimumWidth(){return this.gridview.minimumWidth}get maximumWidth(){return this.gridview.maximumWidth}get activeGroup(){return this._activeGroup}constructor(e){super(e.parentElement,e.disableAutoResizing),this._id=we.next(),this._groups=new Map,this._onDidLayoutChange=new m,this.onDidLayoutChange=this._onDidLayoutChange.event,this._onDidRemoveGroup=new m,this.onDidRemoveGroup=this._onDidRemoveGroup.event,this._onDidAddGroup=new m,this.onDidAddGroup=this._onDidAddGroup.event,this._onDidActiveGroupChange=new m,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._bufferOnDidLayoutChange=new g,this.gridview=new q(!!e.proportionalLayout,e.styles,e.orientation),this.element.appendChild(this.gridview.element),this.layout(0,0,!0),this.addDisposables(this.gridview.onDidChange((()=>{this._bufferOnDidLayoutChange.fire()})),l.any(this.onDidAddGroup,this.onDidRemoveGroup,this.onDidActiveGroupChange)((()=>{this._bufferOnDidLayoutChange.fire()})),this._bufferOnDidLayoutChange.onEvent((()=>{this._onDidLayoutChange.fire()})),this._bufferOnDidLayoutChange)}setVisible(e,t){this.gridview.setViewVisible(X(e.element),t),this._onDidLayoutChange.fire()}isVisible(e){return this.gridview.isViewVisible(X(e.element))}maximizeGroup(e){this.gridview.maximizeView(e)}isMaximizedGroup(e){return this.gridview.maximizedView()===e}exitMaximizedGroup(){this.gridview.exitMaximizedView()}hasMaximizedGroup(){return this.gridview.hasMaximizedView()}get onDidMaxmizedGroupChange(){return this.gridview.onDidMaxmizedNodeChange}doAddGroup(e,t,i){void 0===t&&(t=[0]),this.gridview.addView(e,null!=i?i:B.Distribute,t),this._onDidAddGroup.fire(e),this.doSetGroupActive(e)}doRemoveGroup(e,t){if(!this._groups.has(e.id))throw new Error("invalid operation");const i=this._groups.get(e.id),n=this.gridview.remove(e,B.Distribute);if(i&&!(null==t?void 0:t.skipDispose)&&(i.disposable.dispose(),i.value.dispose(),this._groups.delete(e.id)),this._onDidRemoveGroup.fire(e),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){const e=Array.from(this._groups.values());this.doSetGroupActive(e.length>0?e[0].value:void 0)}return n}getPanel(e){var t;return null===(t=this._groups.get(e))||void 0===t?void 0:t.value}doSetGroupActive(e,t){var i,n,s;this._activeGroup!==e&&(this._activeGroup&&(this._activeGroup.setActive(!1),t||null===(n=(i=this._activeGroup).focus)||void 0===n||n.call(i)),e&&(e.setActive(!0),t||null===(s=e.focus)||void 0===s||s.call(e)),this._activeGroup=e,this._onDidActiveGroupChange.fire(e))}removeGroup(e){this.doRemoveGroup(e)}moveToNext(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}const i=X(e.group.element),n=null===(t=this.gridview.next(i))||void 0===t?void 0:t.view;this.doSetGroupActive(n)}moveToPrevious(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}const i=X(e.group.element),n=null===(t=this.gridview.previous(i))||void 0===t?void 0:t.view;this.doSetGroupActive(n)}layout(e,t,i){(null!=i?i:e!==this.width||t!==this.height)&&(this.gridview.element.style.height=`${t}px`,this.gridview.element.style.width=`${e}px`,this.gridview.layout(e,t))}dispose(){this._onDidActiveGroupChange.dispose(),this._onDidAddGroup.dispose(),this._onDidRemoveGroup.dispose(),this._onDidLayoutChange.dispose();for(const e of this.groups)e.dispose();this.gridview.dispose(),super.dispose()}}class De extends f{get isFocused(){return this._isFocused}get isActive(){return this._isActive}get isVisible(){return this._isVisible}get width(){return this._width}get height(){return this._height}constructor(e){super(),this.id=e,this._isFocused=!1,this._isActive=!1,this._isVisible=!0,this._width=0,this._height=0,this.panelUpdatesDisposable=new w,this._onDidDimensionChange=new m({replay:!0}),this.onDidDimensionsChange=this._onDidDimensionChange.event,this._onDidChangeFocus=new m({replay:!0}),this.onDidFocusChange=this._onDidChangeFocus.event,this._onFocusEvent=new m,this.onFocusEvent=this._onFocusEvent.event,this._onDidVisibilityChange=new m({replay:!0}),this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._onVisibilityChange=new m,this.onVisibilityChange=this._onVisibilityChange.event,this._onDidActiveChange=new m({replay:!0}),this.onDidActiveChange=this._onDidActiveChange.event,this._onActiveChange=new m,this.onActiveChange=this._onActiveChange.event,this._onUpdateParameters=new m,this.onUpdateParameters=this._onUpdateParameters.event,this.addDisposables(this.onDidFocusChange((e=>{this._isFocused=e.isFocused})),this.onDidActiveChange((e=>{this._isActive=e.isActive})),this.onDidVisibilityChange((e=>{this._isVisible=e.isVisible})),this.onDidDimensionsChange((e=>{this._width=e.width,this._height=e.height})),this.panelUpdatesDisposable,this._onDidDimensionChange,this._onDidChangeFocus,this._onDidVisibilityChange,this._onDidActiveChange,this._onFocusEvent,this._onActiveChange,this._onVisibilityChange,this._onUpdateParameters)}initialize(e){this.panelUpdatesDisposable.value=this._onUpdateParameters.event((t=>{e.update({params:t})}))}setVisible(e){this._onVisibilityChange.fire({isVisible:e})}setActive(){this._onActiveChange.fire()}updateParameters(e){this._onUpdateParameters.fire(e)}dispose(){super.dispose()}}class xe extends De{constructor(e){super(e),this._onDidConstraintsChangeInternal=new m,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new m({replay:!0}),this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new m,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange)}setConstraints(e){this._onDidConstraintsChangeInternal.fire(e)}setSize(e){this._onDidSizeChange.fire(e)}}class Ce extends xe{set pane(e){this._pane=e}constructor(e){super(e),this._onDidExpansionChange=new m({replay:!0}),this.onDidExpansionChange=this._onDidExpansionChange.event,this._onMouseEnter=new m({}),this.onMouseEnter=this._onMouseEnter.event,this._onMouseLeave=new m({}),this.onMouseLeave=this._onMouseLeave.event,this.addDisposables(this._onDidExpansionChange,this._onMouseEnter,this._onMouseLeave)}setExpanded(e){var t;null===(t=this._pane)||void 0===t||t.setExpanded(e)}get isExpanded(){var e;return!!(null===(e=this._pane)||void 0===e?void 0:e.isExpanded())}}class ye extends f{get element(){return this._element}get width(){return this._width}get height(){return this._height}get params(){var e;return null===(e=this._params)||void 0===e?void 0:e.params}constructor(e,t,i){super(),this.id=e,this.component=t,this.api=i,this._height=0,this._width=0,this._element=document.createElement("div"),this._element.tabIndex=-1,this._element.style.outline="none",this._element.style.height="100%",this._element.style.width="100%",this._element.style.overflow="hidden";const n=E(this._element);this.addDisposables(this.api,n.onDidFocus((()=>{this.api._onDidChangeFocus.fire({isFocused:!0})})),n.onDidBlur((()=>{this.api._onDidChangeFocus.fire({isFocused:!1})})),n)}focus(){this.api._onFocusEvent.fire()}layout(e,t){this._width=e,this._height=t,this.api._onDidDimensionChange.fire({width:e,height:t}),this.part&&this._params&&this.part.update(this._params.params)}init(e){this._params=e,this.part=this.getComponent()}update(e){var t,i;this._params=Object.assign(Object.assign({},this._params),{params:Object.assign(Object.assign({},null===(t=this._params)||void 0===t?void 0:t.params),e.params)});for(const n of Object.keys(e.params))void 0===e.params[n]&&delete this._params.params[n];null===(i=this.part)||void 0===i||i.update({params:this._params.params})}toJSON(){var e,t;const i=null!==(t=null===(e=this._params)||void 0===e?void 0:e.params)&&void 0!==t?t:{};return{id:this.id,component:this.component,params:Object.keys(i).length>0?i:void 0}}dispose(){var e;this.api.dispose(),null===(e=this.part)||void 0===e||e.dispose(),super.dispose()}}class Ee extends ye{set orientation(e){this._orientation=e}get orientation(){return this._orientation}get minimumSize(){return this.headerSize+(this.isExpanded()?this._minimumBodySize:0)}get maximumSize(){return this.headerSize+(this.isExpanded()?this._maximumBodySize:0)}get size(){return this._size}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(e){this._orthogonalSize=e}get minimumBodySize(){return this._minimumBodySize}set minimumBodySize(e){this._minimumBodySize="number"==typeof e?e:0}get maximumBodySize(){return this._maximumBodySize}set maximumBodySize(e){this._maximumBodySize="number"==typeof e?e:Number.POSITIVE_INFINITY}get headerVisible(){return this._headerVisible}set headerVisible(e){this._headerVisible=e,this.header.style.display=e?"":"none"}constructor(e,t,i,n,s,o){super(e,t,new Ce(e)),this.headerComponent=i,this._onDidChangeExpansionState=new m({replay:!0}),this.onDidChangeExpansionState=this._onDidChangeExpansionState.event,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this.headerSize=22,this._orthogonalSize=0,this._size=0,this._minimumBodySize=100,this._maximumBodySize=Number.POSITIVE_INFINITY,this._isExpanded=!1,this.expandedSize=0,this.api.pane=this,this.api.initialize(this),this._isExpanded=s,this._headerVisible=o,this._onDidChangeExpansionState.fire(this.isExpanded()),this._orientation=n,this.element.classList.add("pane"),this.addDisposables(this.api.onDidSizeChange((e=>{this._onDidChange.fire({size:e.size})})),v(this.element,"mouseenter",(e=>{this.api._onMouseEnter.fire(e)})),v(this.element,"mouseleave",(e=>{this.api._onMouseLeave.fire(e)}))),this.addDisposables(this._onDidChangeExpansionState,this.onDidChangeExpansionState((e=>{this.api._onDidExpansionChange.fire({isExpanded:e})})),this.api.onDidFocusChange((e=>{this.header&&(e.isFocused?D(this.header,"focused"):b(this.header,"focused"))}))),this.renderOnce()}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}isExpanded(){return this._isExpanded}setExpanded(e){this._isExpanded!==e&&(this._isExpanded=e,e?(this.animationTimer&&clearTimeout(this.animationTimer),this.body&&this.element.appendChild(this.body)):this.animationTimer=setTimeout((()=>{var e;null===(e=this.body)||void 0===e||e.remove()}),200),this._onDidChange.fire(e?{size:this.width}:{}),this._onDidChangeExpansionState.fire(e))}layout(e,t){this._size=e,this._orthogonalSize=t;const[i,n]=this.orientation===H.HORIZONTAL?[e,t]:[t,e];this.isExpanded()&&(this.expandedSize=i),super.layout(i,n)}init(e){var t,i;super.init(e),"number"==typeof e.minimumBodySize&&(this.minimumBodySize=e.minimumBodySize),"number"==typeof e.maximumBodySize&&(this.maximumBodySize=e.maximumBodySize),this.bodyPart=this.getBodyComponent(),this.headerPart=this.getHeaderComponent(),this.bodyPart.init(Object.assign(Object.assign({},e),{api:this.api})),this.headerPart.init(Object.assign(Object.assign({},e),{api:this.api})),null===(t=this.body)||void 0===t||t.append(this.bodyPart.element),null===(i=this.header)||void 0===i||i.append(this.headerPart.element),"boolean"==typeof e.isExpanded&&this.setExpanded(e.isExpanded)}toJSON(){const e=this._params;return Object.assign(Object.assign({},super.toJSON()),{headerComponent:this.headerComponent,title:e.title})}renderOnce(){this.header=document.createElement("div"),this.header.tabIndex=0,this.header.className="pane-header",this.header.style.height=`${this.headerSize}px`,this.header.style.lineHeight=`${this.headerSize}px`,this.header.style.minHeight=`${this.headerSize}px`,this.header.style.maxHeight=`${this.headerSize}px`,this.element.appendChild(this.header),this.body=document.createElement("div"),this.body.className="pane-body",this.element.appendChild(this.body)}getComponent(){return{update:e=>{var t,i;null===(t=this.bodyPart)||void 0===t||t.update({params:e}),null===(i=this.headerPart)||void 0===i||i.update({params:e})},dispose:()=>{var e,t;null===(e=this.bodyPart)||void 0===e||e.dispose(),null===(t=this.headerPart)||void 0===t||t.dispose()}}}}class ze extends Ee{constructor(e,t,i,n,s,o,r){super(t,i,n,s,o,!0),this.accessor=e,this._onDidDrop=new m,this.onDidDrop=this._onDidDrop.event,r||this.initDragFeatures()}initDragFeatures(){if(!this.header)return;const e=this.id,t=this.accessor.id;this.header.draggable=!0,this.handler=new class extends de{getData(){return r.getInstance().setData([new o(t,e)],o.prototype),{dispose:()=>{r.getInstance().clearData(o.prototype)}}}}(this.header),this.target=new ae(this.element,{acceptedTargetZones:["top","bottom"],overlayModel:{activationSize:{type:"percentage",value:50}},canDisplayOverlay:e=>{const t=h();return!(!t||t.paneId===this.id||t.viewId!==this.accessor.id)||!!this.accessor.options.showDndOverlay&&this.accessor.options.showDndOverlay({nativeEvent:e,getData:h,panel:this})}}),this.addDisposables(this._onDidDrop,this.handler,this.target,this.target.onDrop((e=>{this.onDrop(e)})))}onDrop(e){const t=h();if(!t||t.viewId!==this.accessor.id)return void this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,api:new te(this.accessor),getData:h}));const i=this._params.containerApi,n=t.paneId,s=i.getPanel(n);if(!s)return void this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,getData:h,api:new te(this.accessor)}));const o=i.panels,r=o.indexOf(s);let a=i.panels.indexOf(this);"left"!==e.position&&"top"!==e.position||(a=Math.max(0,a-1)),"right"!==e.position&&"bottom"!==e.position||(r>a&&a++,a=Math.min(o.length-1,a)),i.movePanel(r,a)}}class Se extends De{constructor(e,t){super(e),this._onDidConstraintsChangeInternal=new m,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new m({replay:!0}),this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new m,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange),t&&this.initialize(t)}setConstraints(e){this._onDidConstraintsChangeInternal.fire(e)}setSize(e){this._onDidSizeChange.fire(e)}}class Ae extends ye{get priority(){return this._priority}get snap(){return this._snap}get minimumWidth(){const e="function"==typeof this._minimumWidth?this._minimumWidth():this._minimumWidth;return e!==this._evaluatedMinimumWidth&&(this._evaluatedMinimumWidth=e,this.updateConstraints()),e}get minimumHeight(){const e="function"==typeof this._minimumHeight?this._minimumHeight():this._minimumHeight;return e!==this._evaluatedMinimumHeight&&(this._evaluatedMinimumHeight=e,this.updateConstraints()),e}get maximumHeight(){const e="function"==typeof this._maximumHeight?this._maximumHeight():this._maximumHeight;return e!==this._evaluatedMaximumHeight&&(this._evaluatedMaximumHeight=e,this.updateConstraints()),e}get maximumWidth(){const e="function"==typeof this._maximumWidth?this._maximumWidth():this._maximumWidth;return e!==this._evaluatedMaximumWidth&&(this._evaluatedMaximumWidth=e,this.updateConstraints()),e}get isActive(){return this.api.isActive}constructor(e,t,i,n){super(e,t,null!=n?n:new Se(e)),this._evaluatedMinimumWidth=0,this._evaluatedMaximumWidth=Number.MAX_SAFE_INTEGER,this._evaluatedMinimumHeight=0,this._evaluatedMaximumHeight=Number.MAX_SAFE_INTEGER,this._minimumWidth=0,this._minimumHeight=0,this._maximumWidth=Number.MAX_SAFE_INTEGER,this._maximumHeight=Number.MAX_SAFE_INTEGER,this._snap=!1,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,"number"==typeof(null==i?void 0:i.minimumWidth)&&(this._minimumWidth=i.minimumWidth),"number"==typeof(null==i?void 0:i.maximumWidth)&&(this._maximumWidth=i.maximumWidth),"number"==typeof(null==i?void 0:i.minimumHeight)&&(this._minimumHeight=i.minimumHeight),"number"==typeof(null==i?void 0:i.maximumHeight)&&(this._maximumHeight=i.maximumHeight),this.api.initialize(this),this.addDisposables(this.api.onVisibilityChange((e=>{const{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)})),this.api.onActiveChange((()=>{const{accessor:e}=this._params;e.setActive(this)})),this.api.onDidConstraintsChangeInternal((e=>{"number"!=typeof e.minimumWidth&&"function"!=typeof e.minimumWidth||(this._minimumWidth=e.minimumWidth),"number"!=typeof e.minimumHeight&&"function"!=typeof e.minimumHeight||(this._minimumHeight=e.minimumHeight),"number"!=typeof e.maximumWidth&&"function"!=typeof e.maximumWidth||(this._maximumWidth=e.maximumWidth),"number"!=typeof e.maximumHeight&&"function"!=typeof e.maximumHeight||(this._maximumHeight=e.maximumHeight)})),this.api.onDidSizeChange((e=>{this._onDidChange.fire({height:e.height,width:e.width})})),this._onDidChange)}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}init(e){e.maximumHeight&&(this._maximumHeight=e.maximumHeight),e.minimumHeight&&(this._minimumHeight=e.minimumHeight),e.maximumWidth&&(this._maximumWidth=e.maximumWidth),e.minimumWidth&&(this._minimumWidth=e.minimumWidth),this._priority=e.priority,this._snap=!!e.snap,super.init(e),"boolean"==typeof e.isVisible&&this.setVisible(e.isVisible)}updateConstraints(){this.api._onDidConstraintsChange.fire({minimumWidth:this._evaluatedMinimumWidth,maximumWidth:this._evaluatedMaximumWidth,minimumHeight:this._evaluatedMinimumHeight,maximumHeight:this._evaluatedMaximumHeight})}toJSON(){const e=super.toJSON(),t=e=>e===Number.MAX_SAFE_INTEGER?void 0:e,i=e=>e<=0?void 0:e;return Object.assign(Object.assign({},e),{minimumHeight:i(this.minimumHeight),maximumHeight:t(this.maximumHeight),minimumWidth:i(this.minimumWidth),maximumWidth:t(this.maximumWidth),snap:this.snap,priority:this.priority})}}const Pe="DockviewGroupPanelApiImpl not initialized";class Ie extends Se{get location(){if(!this._group)throw new Error(Pe);return this._group.model.location}constructor(e,t){super(e),this.accessor=t,this._onDidLocationChange=new m,this.onDidLocationChange=this._onDidLocationChange.event,this.addDisposables(this._onDidLocationChange)}moveTo(e){var t,i,n;if(!this._group)throw new Error(Pe);const s=null!==(t=e.group)&&void 0!==t?t:this.accessor.addGroup({direction:re(null!==(i=e.position)&&void 0!==i?i:"right")});this.accessor.moveGroupOrPanel(s,this._group.id,void 0,e.group&&null!==(n=e.position)&&void 0!==n?n:"center")}maximize(){if(!this._group)throw new Error(Pe);"grid"===this.location&&this.accessor.maximizeGroup(this._group)}isMaximized(){if(!this._group)throw new Error(Pe);return this.accessor.isMaximizedGroup(this._group)}exitMaximized(){if(!this._group)throw new Error(Pe);this.isMaximized()&&this.accessor.exitMaximizedGroup()}initialize(e){this._group=e}}class Ne extends Ae{get panels(){return this._model.panels}get activePanel(){return this._model.activePanel}get size(){return this._model.size}get model(){return this._model}get locked(){return this._model.locked}set locked(e){this._model.locked=e}get header(){return this._model.header}constructor(e,t,i){super(t,"groupview_default",{minimumHeight:0,minimumWidth:0},new Ie(t,e)),this.api.initialize(this),this._model=new ge(this.element,e,t,i,this)}initialize(){this._model.initialize()}setActive(e){super.setActive(e),this.model.setActive(e)}layout(e,t){super.layout(e,t),this.model.layout(e,t)}getComponent(){return this._model}toJSON(){return this.model.toJSON()}}class Ve extends Se{get title(){return this.panel.title}get isGroupActive(){return this.group.isActive}get renderer(){return this.panel.renderer}set group(e){const t=this.isGroupActive;this._group=e,this._onDidGroupChange.fire(),this._group&&(this.disposable.value=this._group.api.onDidActiveChange((()=>{this._onDidActiveGroupChange.fire()})),this.isGroupActive!==t&&this._onDidActiveGroupChange.fire())}get group(){return this._group}constructor(e,t,i){super(e.id),this.panel=e,this.accessor=i,this._onDidTitleChange=new m,this.onDidTitleChange=this._onDidTitleChange.event,this._onDidActiveGroupChange=new m,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._onDidGroupChange=new m,this.onDidGroupChange=this._onDidGroupChange.event,this._onDidRendererChange=new m,this.onDidRendererChange=this._onDidRendererChange.event,this.disposable=new w,this.initialize(e),this._group=t,this.addDisposables(this.disposable,this._onDidRendererChange,this._onDidTitleChange,this._onDidGroupChange,this._onDidActiveGroupChange)}moveTo(e){var t;this.accessor.moveGroupOrPanel(e.group,this._group.id,this.panel.id,null!==(t=e.position)&&void 0!==t?t:"center",e.index)}setTitle(e){this.panel.setTitle(e)}setRenderer(e){this.panel.setRenderer(e)}close(){this.group.model.closePanel(this.panel)}maximize(){this.group.api.maximize()}isMaximized(){return this.group.api.isMaximized()}exitMaximized(){this.group.api.exitMaximized()}}class Me extends f{get params(){return this._params}get title(){return this._title}get group(){return this._group}get renderer(){var e;return null!==(e=this._renderer)&&void 0!==e?e:this.accessor.renderer}constructor(e,t,i,n,s,o){super(),this.id=e,this.accessor=t,this.containerApi=i,this.view=s,this._renderer=o.renderer,this._group=n,this.api=new Ve(this,this._group,t),this.addDisposables(this.api.onActiveChange((()=>{t.setActivePanel(this)})),this.api.onDidSizeChange((e=>{this.group.api.setSize(e)})),this.api.onDidRendererChange((e=>{this.group.model.rerender(this)})))}init(e){this._params=e.params,this.view.init(Object.assign(Object.assign({},e),{api:this.api,containerApi:this.containerApi})),this.setTitle(e.title)}focus(){this.api._onFocusEvent.fire()}toJSON(){return{id:this.id,contentComponent:this.view.contentComponent,tabComponent:this.view.tabComponent,params:Object.keys(this._params||{}).length>0?this._params:void 0,title:this.title,renderer:this._renderer}}setTitle(e){e!==this.title&&(this._title=e,this.view.update({params:{params:this._params,title:this.title}}),this.api._onDidTitleChange.fire({title:e}))}setRenderer(e){e!==this.renderer&&(this._renderer=e,this.api._onDidRendererChange.fire({renderer:e}))}update(e){var t;this._params=Object.assign(Object.assign({},null!==(t=this._params)&&void 0!==t?t:{}),e.params);for(const i of Object.keys(e.params))void 0===e.params[i]&&delete this._params[i];this.view.update({params:{params:this._params,title:this.title}})}updateParentGroup(e,t){this._group=e,this.api.group=e;const i=this._group.model.isPanelActive(this);this.api._onDidActiveChange.fire({isActive:t&&i}),this.api._onDidVisibilityChange.fire({isVisible:i}),this.view.updateParentGroup(this._group,this._group.model.isPanelActive(this))}layout(e,t){this.api._onDidDimensionChange.fire({width:e,height:t}),this.view.layout(e,t)}dispose(){this.api.dispose(),this.view.dispose()}}const Ge=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"height",e.height),t.setAttributeNS(null,"width",e.width),t.setAttributeNS(null,"viewBox",e.viewbox),t.setAttributeNS(null,"aria-hidden","false"),t.setAttributeNS(null,"focusable","false"),t.classList.add("dockview-svg");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"d",e.path),t.appendChild(i),t},Oe=()=>Ge({width:"11",height:"11",viewbox:"0 0 28 28",path:"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z"});class ke extends f{get element(){return this._element}constructor(){super(),this.params={},this._element=document.createElement("div"),this._element.className="default-tab",this._content=document.createElement("div"),this._content.className="tab-content",this._actionContainer=document.createElement("div"),this._actionContainer.className="action-container",this._list=document.createElement("ul"),this._list.className="tab-list",this.action=document.createElement("div"),this.action.className="tab-action",this.action.appendChild(Oe()),this._element.appendChild(this._content),this._element.appendChild(this._actionContainer),this._actionContainer.appendChild(this._list),this._list.appendChild(this.action),this.addDisposables(v(this._actionContainer,"mousedown",(e=>{e.preventDefault()}))),this.render()}update(e){this.params=Object.assign(Object.assign({},this.params),e.params),this.render()}focus(){}init(e){this.params=e,this._content.textContent=e.title,v(this.action,"click",(e=>{e.preventDefault(),this.params.api.close()}))}onGroupChange(e){this.render()}onPanelVisibleChange(e){this.render()}layout(e,t){}render(){this._content.textContent!==this.params.title&&(this._content.textContent=this.params.title)}}function Re(e,t,i,n,s,o){void 0===i&&(i={}),void 0===n&&(n={});const r="string"==typeof t?i[t]:void 0,a="string"==typeof t?n[t]:void 0;if(r&&a)throw new Error(`Cannot create '${e}'. component '${t}' registered as both a component and frameworkComponent`);if(a){if(!s)throw new Error(`Cannot create '${e}' for framework component '${t}'. you must register a frameworkPanelWrapper to use framework components`);return s.createComponent(e,t,a)}if(!r){if(o)return o();throw new Error(`Cannot create '${e}', no component '${t}' provided`)}return new r(e,t)}class Le{get content(){return this._content}get tab(){return this._tab}constructor(e,t,i,n){this.accessor=e,this.id=t,this.contentComponent=i,this.tabComponent=n,this._group=null,this._isPanelVisible=null,this._content=this.createContentComponent(this.id,i),this._tab=this.createTabComponent(this.id,n)}init(e){this.content.init(Object.assign(Object.assign({},e),{tab:this.tab})),this.tab.init(e)}updateParentGroup(e,t){e!==this._group&&(this._group=e,this._content.onGroupChange&&this._content.onGroupChange(e),this._tab.onGroupChange&&this._tab.onGroupChange(e)),t!==this._isPanelVisible&&(this._isPanelVisible=t,this._content.onPanelVisibleChange&&this._content.onPanelVisibleChange(t),this._tab.onPanelVisibleChange&&this._tab.onPanelVisibleChange(t))}layout(e,t){var i,n;null===(n=(i=this.content).layout)||void 0===n||n.call(i,e,t)}update(e){var t,i,n,s;null===(i=(t=this.content).update)||void 0===i||i.call(t,e),null===(s=(n=this.tab).update)||void 0===s||s.call(n,e)}dispose(){var e,t,i,n;null===(t=(e=this.content).dispose)||void 0===t||t.call(e),null===(n=(i=this.tab).dispose)||void 0===n||n.call(i)}createContentComponent(e,t){var i,n;return Re(e,t,null!==(i=this.accessor.options.components)&&void 0!==i?i:{},this.accessor.options.frameworkComponents,null===(n=this.accessor.options.frameworkComponentFactory)||void 0===n?void 0:n.content)}createTabComponent(e,t){var i,n;return t?Re(e,t,this.accessor.options.tabComponents,this.accessor.options.frameworkTabComponents,null===(i=this.accessor.options.frameworkComponentFactory)||void 0===i?void 0:i.tab,(()=>new ke)):this.accessor.options.defaultTabComponent?Re(e,this.accessor.options.defaultTabComponent,this.accessor.options.tabComponents,this.accessor.options.frameworkTabComponents,null===(n=this.accessor.options.frameworkComponentFactory)||void 0===n?void 0:n.tab,(()=>new ke)):new ke}}class He{constructor(e){this.accessor=e}fromJSON(e,t){var i,n;const s=e.id,o=e.params,r=e.title,a=e.view,h=a?a.content.id:null!==(i=e.contentComponent)&&void 0!==i?i:"unknown",l=a?null===(n=a.tab)||void 0===n?void 0:n.id:e.tabComponent,d=new Le(this.accessor,s,h,l),p=new Me(s,this.accessor,new ne(this.accessor),t,d,{renderer:e.renderer});return p.init({title:null!=r?r:s,params:null!=o?o:{}}),p}}class Te extends f{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="watermark";const e=document.createElement("div");e.className="watermark-title";const t=document.createElement("span");t.style.flexGrow="1";const i=document.createElement("div");i.className="watermark-content",this._element.appendChild(e),this._element.appendChild(i);const n=document.createElement("div");n.className="actions-container";const s=document.createElement("div");s.className="close-action",s.appendChild(Oe()),n.appendChild(s),e.appendChild(t),e.appendChild(n),this.addDisposables(v(s,"click",(e=>{var t;e.preventDefault(),this._group&&(null===(t=this._api)||void 0===t||t.removeGroup(this._group))})))}update(e){}focus(){}layout(e,t){}init(e){this._api=e.containerApi,this.render()}updateParentGroup(e,t){this._group=e,this.render()}dispose(){super.dispose()}render(){const e=!!(this._api&&this._api.size<=1);x(this.element,"has-actions",e)}}const je=(()=>{let e=null;return function(t){e!==t&&null!==e&&x(e,"dv-bring-to-front",!1),x(t,"dv-bring-to-front",!0),e=t}})();class Be extends f{set minimumInViewportWidth(e){this.options.minimumInViewportWidth=e}set minimumInViewportHeight(e){this.options.minimumInViewportHeight=e}constructor(e){super(),this.options=e,this._element=document.createElement("div"),this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this._onDidChangeEnd=new m,this.onDidChangeEnd=this._onDidChangeEnd.event,this.addDisposables(this._onDidChange,this._onDidChangeEnd),this._element.className="dv-resize-container",this.setupResize("top"),this.setupResize("bottom"),this.setupResize("left"),this.setupResize("right"),this.setupResize("topleft"),this.setupResize("topright"),this.setupResize("bottomleft"),this.setupResize("bottomright"),this._element.appendChild(this.options.content),this.options.container.appendChild(this._element),this.setBounds({height:this.options.height,width:this.options.width,top:this.options.top,left:this.options.left})}setBounds(e){void 0===e&&(e={}),"number"==typeof e.height&&(this._element.style.height=`${e.height}px`),"number"==typeof e.width&&(this._element.style.width=`${e.width}px`),"number"==typeof e.top&&(this._element.style.top=`${e.top}px`),"number"==typeof e.left&&(this._element.style.left=`${e.left}px`);const t=this.options.container.getBoundingClientRect(),i=this._element.getBoundingClientRect(),n=Math.max(0,this.getMinimumWidth(i.width)),s="number"==typeof this.options.minimumInViewportHeight?Math.max(0,this.getMinimumHeight(i.height)):0,o=O(i.left-t.left,-n,Math.max(0,t.width-i.width+n)),r=O(i.top-t.top,-s,Math.max(0,t.height-i.height+s));this._element.style.left=`${o}px`,this._element.style.top=`${r}px`,this._onDidChange.fire()}toJSON(){const e=this.options.container.getBoundingClientRect(),t=this._element.getBoundingClientRect();return{top:t.top-e.top,left:t.left-e.left,width:t.width,height:t.height}}setupDrag(e,t){void 0===t&&(t={inDragMode:!1});const i=new w,n=()=>{let e=null;const t=[...y("iframe"),...y("webview")];for(const i of t)i.style.pointerEvents="none";i.value=new f({dispose:()=>{for(const e of t)e.style.pointerEvents="auto"}},u(window,"mousemove",(t=>{const i=this.options.container.getBoundingClientRect(),n=t.clientX-i.left,s=t.clientY-i.top;x(this._element,"dv-resize-container-dragging",!0);const o=this._element.getBoundingClientRect();null===e&&(e={x:t.clientX-o.left,y:t.clientY-o.top});const r=Math.max(0,this.getMinimumWidth(o.width)),a=Math.max(0,this.options.minimumInViewportHeight?this.getMinimumHeight(o.height):0),h=O(n-e.x,-r,Math.max(0,i.width-o.width+r)),l=O(s-e.y,-a,Math.max(0,i.height-o.height+a));this.setBounds({top:l,left:h})})),u(window,"mouseup",(()=>{x(this._element,"dv-resize-container-dragging",!1),i.dispose(),this._onDidChangeEnd.fire()})))};this.addDisposables(i,v(e,"mousedown",(e=>{e.defaultPrevented?e.preventDefault():A(e)||n()})),v(this.options.content,"mousedown",(e=>{e.defaultPrevented||A(e)||e.shiftKey&&n()})),v(this.options.content,"mousedown",(()=>{je(this._element)}),!0)),je(this._element),t.inDragMode&&n()}setupResize(e){const t=document.createElement("div");t.className=`dv-resize-handle-${e}`,this._element.appendChild(t);const i=new w;this.addDisposables(i,v(t,"mousedown",(t=>{t.preventDefault();let n=null;const s=[...y("iframe"),...y("webview")];for(const e of s)e.style.pointerEvents="none";i.value=new f(u(window,"mousemove",(t=>{const i=this.options.container.getBoundingClientRect(),s=this._element.getBoundingClientRect(),o=t.clientY-i.top,r=t.clientX-i.left;let a,h,l,d;null===n&&(n={originalY:o,originalHeight:s.height,originalX:r,originalWidth:s.width});const p=()=>{a=O(o,-Number.MAX_VALUE,n.originalY+n.originalHeight>i.height?this.getMinimumHeight(i.height):Math.max(0,n.originalY+n.originalHeight-Be.MINIMUM_HEIGHT)),h=n.originalY+n.originalHeight-a},c=()=>{a=n.originalY-n.originalHeight,h=O(o-a,a<0&&"number"==typeof this.options.minimumInViewportHeight?-a+this.options.minimumInViewportHeight:Be.MINIMUM_HEIGHT,Number.MAX_VALUE)},m=()=>{l=O(r,-Number.MAX_VALUE,n.originalX+n.originalWidth>i.width?this.getMinimumWidth(i.width):Math.max(0,n.originalX+n.originalWidth-Be.MINIMUM_WIDTH)),d=n.originalX+n.originalWidth-l},u=()=>{l=n.originalX-n.originalWidth,d=O(r-l,l<0&&"number"==typeof this.options.minimumInViewportWidth?-l+this.options.minimumInViewportWidth:Be.MINIMUM_WIDTH,Number.MAX_VALUE)};switch(e){case"top":p();break;case"bottom":c();break;case"left":m();break;case"right":u();break;case"topleft":p(),m();break;case"topright":p(),u();break;case"bottomleft":c(),m();break;case"bottomright":c(),u()}this.setBounds({height:h,width:d,top:a,left:l})})),{dispose:()=>{for(const e of s)e.style.pointerEvents="auto"}},u(window,"mouseup",(()=>{i.dispose(),this._onDidChangeEnd.fire()})))})))}getMinimumWidth(e){return"number"==typeof this.options.minimumInViewportWidth?e-this.options.minimumInViewportWidth:0}getMinimumHeight(e){return"number"==typeof this.options.minimumInViewportHeight?e-this.options.minimumInViewportHeight:e}dispose(){this._element.remove(),super.dispose()}}Be.MINIMUM_HEIGHT=20,Be.MINIMUM_WIDTH=20;class We extends f{constructor(e,t){super(),this.group=e,this.overlay=t,this.addDisposables(t)}position(e){this.overlay.setBounds(e)}}class Fe extends f{constructor(e,t,i){super(),this.id=e,this.className=t,this.options=i,this._onDidClose=new m,this.onDidClose=this._onDidClose.event,this._window=null,this.addDisposables(this._onDidClose,{dispose:()=>{this.close()}})}dimensions(){if(!this._window)return null;const e=this._window.value.screenX;return{top:this._window.value.screenY,left:e,width:this._window.value.innerWidth,height:this._window.value.innerHeight}}close(){this._window&&(this._window.disposable.dispose(),this._window.value.close(),this._window=null)}open(e){if(this._window)throw new Error("instance of popout window is already open");const t=`${this.options.url}`,i=Object.entries({top:this.options.top,left:this.options.left,width:this.options.width,height:this.options.height}).map((e=>{let[t,i]=e;return`${t}=${i}`})).join(","),n=window.open(t,this.id,i);if(!n)return;const s=new f;this._window={value:n,disposable:s};const o=()=>{this._onDidClose.fire(),this._window=null};s.addDisposables(u(window,"beforeunload",(()=>{o(),this.close()}))),n.addEventListener("load",(()=>{const t=n.document;t.title=document.title;const i=document.createElement("div");i.classList.add("dv-popout-window"),i.style.position="absolute",i.style.width="100%",i.style.height="100%",i.style.top="0px",i.style.left="0px",i.classList.add(this.className),i.appendChild(e),t.body.replaceChildren(i),t.body.classList.add(this.className),function(e,t){const i=Array.from(t);for(const s of i){if(s.href){const t=e.createElement("link");t.href=s.href,t.type=s.type,t.rel="stylesheet",e.head.appendChild(t)}let t=[];try{s.cssRules&&(t=Array.from(s.cssRules).map((e=>e.cssText)))}catch(n){}for(const i of t){const t=e.createElement("style");t.appendChild(e.createTextNode(i)),e.head.appendChild(t)}}}(t,window.document.styleSheets),n.addEventListener("beforeunload",(()=>{o()}))}))}}class Ze extends f{constructor(e,t){var i;super(),this.group=e,this.options=t,this.window=new Fe("test",null!==(i=t.className)&&void 0!==i?i:"",{url:this.options.popoutUrl,left:this.options.box.left,top:this.options.box.top,width:this.options.box.width,height:this.options.box.height}),e.model.location="popout",this.addDisposables(this.window,{dispose:()=>{e.model.location="grid"}},this.window.onDidClose((()=>{this.dispose()}))),this.window.open(e.element)}}const Je=100,$e=100,Ue=100;class Xe extends f{get allIds(){return Object.keys(this.map)}constructor(e){super(),this.element=e,this.map={},this.addDisposables({dispose:()=>{for(const e of Object.values(this.map))e.disposable.dispose()}})}remove(e){return!!this.map[e.api.id]&&(this.map[e.api.id].disposable.dispose(),delete this.map[e.api.id],!0)}setReferenceContentContainer(e,t){var i;if(!this.map[e.api.id]){const t=function(){const e=document.createElement("div");return e.tabIndex=-1,e}();t.className="dv-render-overlay",this.map[e.api.id]={disposable:d.NONE,element:t}}null===(i=this.map[e.api.id])||void 0===i||i.disposable.dispose();const n=this.map[e.api.id].element;e.view.content.element.parentElement!==n&&n.appendChild(e.view.content.element),n.parentElement!==this.element&&this.element.appendChild(n);const s=()=>{const i=P(t.element),s=P(this.element);n.style.left=i.left-s.left+"px",n.style.top=i.top-s.top+"px",n.style.width=`${i.width}px`,n.style.height=`${i.height}px`,x(n,"dv-render-overlay-float","floating"===e.group.api.location)},o=()=>{e.api.isVisible&&s(),n.style.display=e.api.isVisible?"":"none"},r=new f(new se(n,{onDragEnd:e=>{t.dropTarget.dnd.onDragEnd(e)},onDragEnter:e=>{t.dropTarget.dnd.onDragEnter(e)},onDragLeave:e=>{t.dropTarget.dnd.onDragLeave(e)},onDrop:e=>{t.dropTarget.dnd.onDrop(e)},onDragOver:e=>{t.dropTarget.dnd.onDragOver(e)}}),e.api.onDidVisibilityChange((e=>{o()})),e.api.onDidDimensionsChange((()=>{e.api.isVisible&&s()})),{dispose:()=>{n.removeChild(e.view.content.element),this.element.removeChild(n)}});return queueMicrotask((()=>{this.isDisposed||o()})),this.map[e.api.id].disposable=r,n}}class Ye extends be{get orientation(){return this.gridview.orientation}get totalPanels(){return this.panels.length}get panels(){return this.groups.flatMap((e=>e.panels))}get options(){return this._options}get activePanel(){const e=this.activeGroup;if(e)return e.activePanel}get renderer(){var e;return null!==(e=this.options.defaultRenderer)&&void 0!==e?e:"onlyWhenVisibile"}constructor(e){var t;super({proportionalLayout:!0,orientation:null!==(t=e.orientation)&&void 0!==t?t:H.HORIZONTAL,styles:e.styles,parentElement:e.parentElement,disableAutoResizing:e.disableAutoResizing}),this.nextGroupId=k(),this._deserializer=new He(this),this.watermark=null,this._onWillDragPanel=new m,this.onWillDragPanel=this._onWillDragPanel.event,this._onWillDragGroup=new m,this.onWillDragGroup=this._onWillDragGroup.event,this._onDidDrop=new m,this.onDidDrop=this._onDidDrop.event,this._onDidRemovePanel=new m,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidAddPanel=new m,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidLayoutFromJSON=new m,this.onDidLayoutFromJSON=this._onDidLayoutFromJSON.event,this._onDidActivePanelChange=new m,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this._floatingGroups=[],this._popoutGroups=[];const i=document.createElement("div");i.className="dv-overlay-render-container",this.gridview.element.appendChild(i),this.overlayRenderContainer=new Xe(i),x(this.gridview.element,"dv-dockview",!0),x(this.element,"dv-debug",!!e.debug),this.addDisposables(this.overlayRenderContainer,this._onWillDragPanel,this._onWillDragGroup,this._onDidActivePanelChange,this._onDidAddPanel,this._onDidRemovePanel,this._onDidLayoutFromJSON,this._onDidDrop,l.any(this.onDidAddGroup,this.onDidRemoveGroup)((()=>{this.updateWatermark()})),l.any(this.onDidAddPanel,this.onDidRemovePanel,this.onDidActivePanelChange)((()=>{this._bufferOnDidLayoutChange.fire()})),d.from((()=>{for(const e of[...this._floatingGroups])e.dispose();for(const e of[...this._popoutGroups])e.dispose()}))),this._options=e,this.options.components||(this.options.components={}),this.options.frameworkComponents||(this.options.frameworkComponents={}),this.options.frameworkTabComponents||(this.options.frameworkTabComponents={}),this.options.tabComponents||(this.options.tabComponents={}),this.options.watermarkComponent||this.options.watermarkFrameworkComponent||(this.options.watermarkComponent=Te);const n=new ae(this.element,{canDisplayOverlay:(e,t)=>{const i=a();return i?i.viewId===this.id&&("center"!==t||0===this.gridview.length):!!this.options.showDndOverlay&&(("center"!==t||0===this.gridview.length)&&this.options.showDndOverlay({nativeEvent:e,position:t,target:he.Edge,getData:a}))},acceptedTargetZones:["top","bottom","left","right","center"],overlayModel:{activationSize:{type:"pixels",value:10},size:{type:"pixels",value:20}}});this.addDisposables(n.onDrop((e=>{var t;const i=a();i?this.moveGroupOrPanel(this.orthogonalize(e.position),i.groupId,null!==(t=i.panelId)&&void 0!==t?t:void 0,"center"):this._onDidDrop.fire(Object.assign(Object.assign({},e),{api:this._api,group:null,getData:a}))})),n),this._api=new ne(this),this.updateWatermark()}addPopoutGroup(e,t){var i;let n,s=null==t?void 0:t.position;if(e instanceof Me)n=this.createGroup(),this.removePanel(e,{removeEmptyGroup:!0,skipDispose:!0}),n.model.openPanel(e),s||(s=this.element.getBoundingClientRect());else{n=e,s||(s=n.element.getBoundingClientRect());"boolean"==typeof(null==t?void 0:t.skipRemoveGroup)&&t.skipRemoveGroup||this.doRemoveGroup(e,{skipDispose:!0})}const o=function(e){function t(e){const t=[];for(let i=0;i<e.classList.length;i++)t.push(e.classList.item(i));return t}let i,n=e;for(;null!==n&&(i=t(n).find((e=>e.startsWith("dockview-theme-"))),"string"!=typeof i);)n=n.parentElement;return i}(this.gridview.element),r=new Ze(n,{className:null!=o?o:"",popoutUrl:null!==(i=null==t?void 0:t.popoutUrl)&&void 0!==i?i:"/popout.html",box:{left:s.left,top:s.top,width:s.width,height:s.height}});r.addDisposables({dispose:()=>{G(this._popoutGroups,r)}},r.window.onDidClose((()=>{this.doAddGroup(n,[0])}))),this._popoutGroups.push(r)}addFloatingGroup(e,t,i){var n,s,o,r,a,h;let l;if(e instanceof Me)l=this.createGroup(),this.removePanel(e,{removeEmptyGroup:!0,skipDispose:!0}),l.model.openPanel(e);else{l=e;"boolean"==typeof(null==i?void 0:i.skipRemoveGroup)&&i.skipRemoveGroup||this.doRemoveGroup(e,{skipDispose:!0})}l.model.location="floating";const d="number"==typeof(null==t?void 0:t.x)?Math.max(t.x,0):$e,p="number"==typeof(null==t?void 0:t.y)?Math.max(t.y,0):Ue,c=new Be({container:this.gridview.element,content:l.element,height:null!==(n=null==t?void 0:t.height)&&void 0!==n?n:300,width:null!==(s=null==t?void 0:t.width)&&void 0!==s?s:300,left:d,top:p,minimumInViewportWidth:"boundedWithinViewport"===this.options.floatingGroupBounds?void 0:null!==(r=null===(o=this.options.floatingGroupBounds)||void 0===o?void 0:o.minimumWidthWithinViewport)&&void 0!==r?r:Je,minimumInViewportHeight:"boundedWithinViewport"===this.options.floatingGroupBounds?void 0:null!==(h=null===(a=this.options.floatingGroupBounds)||void 0===a?void 0:a.minimumHeightWithinViewport)&&void 0!==h?h:Je}),m=l.element.querySelector(".void-container");if(!m)throw new Error("failed to find drag handle");c.setupDrag(m,{inDragMode:"boolean"==typeof(null==i?void 0:i.inDragMode)&&i.inDragMode});const u=new We(l,c),v=_(l.element,(e=>{const{width:t,height:i}=e.contentRect;l.layout(t,i)}));u.addDisposables(c.onDidChange((()=>{l.layout(l.height,l.width)})),c.onDidChangeEnd((()=>{this._bufferOnDidLayoutChange.fire()})),l.onDidChange((e=>{c.setBounds({height:null==e?void 0:e.height,width:null==e?void 0:e.width})})),{dispose:()=>{v.dispose(),l.model.location="grid",G(this._floatingGroups,u),this.updateWatermark()}}),this._floatingGroups.push(u),this.updateWatermark()}orthogonalize(e){switch(e){case"top":case"bottom":this.gridview.orientation===H.HORIZONTAL&&this.gridview.insertOrthogonalSplitviewAtRoot();break;case"left":case"right":this.gridview.orientation===H.VERTICAL&&this.gridview.insertOrthogonalSplitviewAtRoot()}switch(e){case"top":case"left":case"center":return this.createGroupAtLocation([0]);case"bottom":case"right":return this.createGroupAtLocation([this.gridview.length]);default:throw new Error(`unsupported position ${e}`)}}updateOptions(e){var t,i;const n="string"==typeof e.orientation&&this.gridview.orientation!==e.orientation,s=void 0!==e.floatingGroupBounds&&e.floatingGroupBounds!==this.options.floatingGroupBounds;if(this._options=Object.assign(Object.assign({},this.options),e),n&&(this.gridview.orientation=e.orientation),s)for(const o of this._floatingGroups){switch(this.options.floatingGroupBounds){case"boundedWithinViewport":o.overlay.minimumInViewportHeight=void 0,o.overlay.minimumInViewportWidth=void 0;break;case void 0:o.overlay.minimumInViewportHeight=Je,o.overlay.minimumInViewportWidth=Je;break;default:o.overlay.minimumInViewportHeight=null===(t=this.options.floatingGroupBounds)||void 0===t?void 0:t.minimumHeightWithinViewport,o.overlay.minimumInViewportWidth=null===(i=this.options.floatingGroupBounds)||void 0===i?void 0:i.minimumWidthWithinViewport}o.overlay.setBounds({})}this.layout(this.gridview.width,this.gridview.height,!0)}layout(e,t,i){if(super.layout(e,t,i),this._floatingGroups)for(const n of this._floatingGroups)n.overlay.setBounds()}focus(){var e;null===(e=this.activeGroup)||void 0===e||e.focus()}getGroupPanel(e){return this.panels.find((t=>t.id===e))}setActivePanel(e){this.doSetGroupActive(e.group),e.group.model.openPanel(e)}moveToNext(e){var t;if(void 0===e&&(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}if(e.includePanel&&e.group&&e.group.activePanel!==e.group.panels[e.group.panels.length-1])return void e.group.model.moveToNext({suppressRoll:!0});const i=X(e.group.element),n=null===(t=this.gridview.next(i))||void 0===t?void 0:t.view;this.doSetGroupAndPanelActive(n)}moveToPrevious(e){var t;if(void 0===e&&(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}if(e.includePanel&&e.group&&e.group.activePanel!==e.group.panels[0])return void e.group.model.moveToPrevious({suppressRoll:!0});const i=X(e.group.element),n=null===(t=this.gridview.previous(i))||void 0===t?void 0:t.view;n&&this.doSetGroupAndPanelActive(n)}toJSON(){var e;const t=this.gridview.serialize(),i=this.panels.reduce(((e,t)=>(e[t.id]=t.toJSON(),e)),{}),n=this._floatingGroups.map((e=>({data:e.group.toJSON(),position:e.overlay.toJSON()}))),s=this._popoutGroups.map((e=>({data:e.group.toJSON(),position:e.window.dimensions()}))),o={grid:t,panels:i,activeGroup:null===(e=this.activeGroup)||void 0===e?void 0:e.id};return n.length>0&&(o.floatingGroups=n),s.length>0&&(o.popoutGroups=s),o}fromJSON(e){var t,i;if(this.clear(),"object"!=typeof e||null===e)throw new Error("serialized layout must be a non-null object");const{grid:n,panels:s,activeGroup:o}=e;if("branch"!==n.root.type||!Array.isArray(n.root.data))throw new Error("root must be of type branch");try{const r=this.width,a=this.height,h=e=>{const{id:t,locked:i,hideHeader:n,views:o,activeView:r}=e;if("string"!=typeof t)throw new Error("group id must be of type string");const a=this.createGroup({id:t,locked:!!i,hideHeader:!!n}),h=[];for(const l of o){const e=this._deserializer.fromJSON(s[l],a);h.push(e)}this._onDidAddGroup.fire(a);for(let s=0;s<o.length;s++){const e=h[s],t="string"==typeof r&&r===e.id;a.model.openPanel(e,{skipSetPanelActive:!t,skipSetGroupActive:!0})}return!a.activePanel&&a.panels.length>0&&a.model.openPanel(a.panels[a.panels.length-1],{skipSetGroupActive:!0}),a};this.gridview.deserialize(n,{fromJSON:e=>h(e.data)}),this.layout(r,a,!0);const l=null!==(t=e.floatingGroups)&&void 0!==t?t:[];for(const e of l){const{data:t,position:i}=e,n=h(t);this.addFloatingGroup(n,{x:i.left,y:i.top,height:i.height,width:i.width},{skipRemoveGroup:!0,inDragMode:!1})}const d=null!==(i=e.popoutGroups)&&void 0!==i?i:[];for(const e of d){const{data:t,position:i}=e,n=h(t);this.addPopoutGroup(n,{skipRemoveGroup:!0,position:null!=i?i:void 0})}for(const e of this._floatingGroups)e.overlay.setBounds();if("string"==typeof o){const e=this.getPanel(o);e&&this.doSetGroupAndPanelActive(e)}}catch(r){for(const e of this.groups)for(const t of e.panels)this.removePanel(t,{removeEmptyGroup:!1,skipDispose:!1});for(const e of this.groups)e.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e);for(const e of[...this._floatingGroups])e.dispose();throw this.clear(),r}this._onDidLayoutFromJSON.fire()}clear(){const e=Array.from(this._groups.values()).map((e=>e.value)),t=!!this.activeGroup,i=!!this.activePanel;for(const n of e)this.removeGroup(n,{skipActive:!0});t&&this.doSetGroupAndPanelActive(void 0),i&&this._onDidActivePanelChange.fire(void 0),this.gridview.clear()}closeAllGroups(){for(const e of this._groups.entries()){const[t,i]=e;i.value.model.closeAllPanels()}}addPanel(e){var t,i;if(this.panels.find((t=>t.id===e.id)))throw new Error(`panel with id ${e.id} already exists`);let n;if(e.position&&e.floating)throw new Error("you can only provide one of: position, floating as arguments to .addPanel(...)");if(e.position)if(e.position.referencePanel){const t="string"==typeof e.position.referencePanel?this.getGroupPanel(e.position.referencePanel):e.position.referencePanel;if(!t)throw new Error(`referencePanel ${e.position.referencePanel} does not exist`);n=this.findGroup(t)}else{if(!function(e){return!!e.referenceGroup}(e.position)){const t=this.orthogonalize(oe(e.position.direction)),i=this.createPanel(e,t);return t.model.openPanel(i),i}if(n="string"==typeof e.position.referenceGroup?null===(t=this._groups.get(e.position.referenceGroup))||void 0===t?void 0:t.value:e.position.referenceGroup,!n)throw new Error(`referencePanel ${e.position.referenceGroup} does not exist`)}else n=this.activeGroup;let s;if(n){const t=_e((null===(i=e.position)||void 0===i?void 0:i.direction)||"within");if(e.floating){const t=this.createGroup(),i="object"==typeof e.floating&&null!==e.floating?e.floating:{};this.addFloatingGroup(t,i,{inDragMode:!1,skipRemoveGroup:!0}),this._onDidAddGroup.fire(t),s=this.createPanel(e,t),t.model.openPanel(s),this.doSetGroupAndPanelActive(t)}else if("floating"===n.api.location||"center"===t)s=this.createPanel(e,n),n.model.openPanel(s);else{const i=X(n.element),o=Y(this.gridview.orientation,i,t),r=this.createGroupAtLocation(o);s=this.createPanel(e,r),r.model.openPanel(s)}}else if(e.floating){const t=this.createGroup(),i="object"==typeof e.floating&&null!==e.floating?e.floating:{};this.addFloatingGroup(t,i,{inDragMode:!1,skipRemoveGroup:!0}),this._onDidAddGroup.fire(t),s=this.createPanel(e,t),t.model.openPanel(s),this.doSetGroupAndPanelActive(t)}else{const t=this.createGroupAtLocation();s=this.createPanel(e,t),t.model.openPanel(s)}return s}removePanel(e,t){void 0===t&&(t={removeEmptyGroup:!0,skipDispose:!1});const i=e.group;if(!i)throw new Error(`cannot remove panel ${e.id}. it's missing a group.`);i.model.removePanel(e),t.skipDispose||(this.overlayRenderContainer.remove(e),e.dispose()),0===i.size&&t.removeEmptyGroup&&this.removeGroup(i)}createWatermarkComponent(){var e;return Re("watermark-id","watermark-name",this.options.watermarkComponent?{"watermark-name":this.options.watermarkComponent}:{},this.options.watermarkFrameworkComponent?{"watermark-name":this.options.watermarkFrameworkComponent}:{},null===(e=this.options.frameworkComponentFactory)||void 0===e?void 0:e.watermark)}updateWatermark(){var e,t;if(0===this.groups.filter((e=>"grid"===e.api.location)).length){if(!this.watermark){this.watermark=this.createWatermarkComponent(),this.watermark.init({containerApi:new ne(this)});const e=document.createElement("div");e.className="dv-watermark-container",e.appendChild(this.watermark.element),this.gridview.element.appendChild(e)}}else this.watermark&&(this.watermark.element.parentElement.remove(),null===(t=(e=this.watermark).dispose)||void 0===t||t.call(e),this.watermark=null)}addGroup(e){var t;const i=this.createGroup();if(e){let n;if(e.referencePanel){const t="string"==typeof e.referencePanel?this.panels.find((t=>t.id===e.referencePanel)):e.referencePanel;if(!t)throw new Error(`reference panel ${e.referencePanel} does not exist`);if(n=this.findGroup(t),!n)throw new Error(`reference group for reference panel ${e.referencePanel} does not exist`)}else{if(!function(e){return!!e.referenceGroup}(e)){return this.orthogonalize(oe(e.direction))}if(n="string"==typeof e.referenceGroup?null===(t=this._groups.get(e.referenceGroup))||void 0===t?void 0:t.value:e.referenceGroup,!n)throw new Error(`reference group ${e.referenceGroup} does not exist`)}const s=_e(e.direction||"within"),o=X(n.element),r=Y(this.gridview.orientation,o,s);return this.doAddGroup(i,r),i}return this.doAddGroup(i),i}removeGroup(e,t){var i;const n=[...e.panels];for(const o of n)this.removePanel(o,{removeEmptyGroup:!1,skipDispose:null!==(i=null==t?void 0:t.skipDispose)&&void 0!==i&&i});const s=this.activePanel;this.doRemoveGroup(e,t),this.activePanel!==s&&this._onDidActivePanelChange.fire(this.activePanel)}doRemoveGroup(e,t){if("floating"===e.api.location){const i=this._floatingGroups.find((t=>t.group===e));if(i){if((null==t?void 0:t.skipDispose)||(i.group.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e)),G(this._floatingGroups,i),i.dispose(),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){const e=Array.from(this._groups.values());this.doSetGroupActive(e.length>0?e[0].value:void 0)}return i.group}throw new Error("failed to find floating group")}if("popout"===e.api.location){const i=this._popoutGroups.find((t=>t.group===e));if(i){if((null==t?void 0:t.skipDispose)||(i.group.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e)),i.dispose(),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){const e=Array.from(this._groups.values());this.doSetGroupActive(e.length>0?e[0].value:void 0)}return i.group}throw new Error("failed to find popout group")}return super.doRemoveGroup(e,t)}moveGroupOrPanel(e,t,i,n,s){var o,r,a;const h=t?null===(o=this._groups.get(t))||void 0===o?void 0:o.value:void 0;if(void 0!==i)if(n&&"center"!==n){const t=X(e.element),s=Y(this.gridview.orientation,t,n);if(h&&h.size<2){const[t,i]=I(s);if("grid"===h.api.location){const e=X(h.element),[n,s]=I(e);N(n,t)&&this.gridview.moveView(n,s,i)}const o=this.doRemoveGroup(h,{skipActive:!0,skipDispose:!0}),r=X(e.element),a=Y(this.gridview.orientation,r,n);this.doAddGroup(o,a)}else{const e=null!==(a=null==h?void 0:h.model.removePanel(i))&&void 0!==a?a:this.panels.find((e=>e.id===i));if(!e)throw new Error(`No panel with id ${i}`);const s=Y(this.gridview.orientation,t,n);this.createGroupAtLocation(s).model.openPanel(e)}}else{const t=null!==(r=null==h?void 0:h.model.removePanel(i))&&void 0!==r?r:this.panels.find((e=>e.id===i));if(!t)throw new Error(`No panel with id ${i}`);0===(null==h?void 0:h.model.size)&&this.doRemoveGroup(h),e.model.openPanel(t,{index:s})}else h&&this.moveGroup(h,e,n)}moveGroup(e,t,i){if(e)if(i&&"center"!==i){switch(e.api.location){case"grid":this.gridview.removeView(X(e.element));break;case"floating":{const t=this._floatingGroups.find((t=>t.group===e));if(!t)throw new Error("failed to find floating group");t.dispose();break}case"popout":{const t=this._popoutGroups.find((t=>t.group===e));if(!t)throw new Error("failed to find popout group");t.dispose()}}const n=X(t.element),s=Y(this.gridview.orientation,n,i);this.gridview.addView(e,B.Distribute,s)}else{const i=e.activePanel,n=[...e.panels].map((t=>e.model.removePanel(t.id)));0===(null==e?void 0:e.model.size)&&this.doRemoveGroup(e);for(const e of n)t.model.openPanel(e,{skipSetPanelActive:e!==i})}}doSetGroupAndPanelActive(e,t){var i,n;const s=this.activePanel;super.doSetGroupActive(e,t),(null===(i=this._activeGroup)||void 0===i?void 0:i.activePanel)!==s&&this._onDidActivePanelChange.fire(null===(n=this._activeGroup)||void 0===n?void 0:n.activePanel)}createGroup(e){e||(e={});let t=null==e?void 0:e.id;if(t&&this._groups.has(e.id)&&(console.warn(`Duplicate group id ${null==e?void 0:e.id}. reassigning group id to avoid errors`),t=void 0),!t)for(t=this.nextGroupId.next();this._groups.has(t);)t=this.nextGroupId.next();const i=new Ne(this,t,e);if(i.init({params:{},accessor:null}),!this._groups.has(i.id)){const e=new f(i.model.onTabDragStart((e=>{this._onWillDragPanel.fire(e)})),i.model.onGroupDragStart((e=>{this._onWillDragGroup.fire(e)})),i.model.onMove((e=>{const{groupId:t,itemId:n,target:s,index:o}=e;this.moveGroupOrPanel(i,t,n,s,o)})),i.model.onDidDrop((e=>{this._onDidDrop.fire(Object.assign(Object.assign({},e),{api:this._api,group:i}))})),i.model.onDidAddPanel((e=>{this._onDidAddPanel.fire(e.panel)})),i.model.onDidRemovePanel((e=>{this._onDidRemovePanel.fire(e.panel)})),i.model.onDidActivePanelChange((e=>{this._onDidActivePanelChange.fire(e.panel)})));this._groups.set(i.id,{value:i,disposable:e})}return i.initialize(),i}createPanel(e,t){var i,n,s;const o=e.component,r=null!==(i=e.tabComponent)&&void 0!==i?i:this.options.defaultTabComponent,a=new Le(this,e.id,o,r),h=new Me(e.id,this,this._api,t,a,{renderer:e.renderer});return h.init({title:null!==(n=e.title)&&void 0!==n?n:e.id,params:null!==(s=null==e?void 0:e.params)&&void 0!==s?s:{}}),h}createGroupAtLocation(e){void 0===e&&(e=[0]);const t=this.createGroup();return this.doAddGroup(t,e),t}findGroup(e){var t;return null===(t=Array.from(this._groups.values()).find((t=>t.value.model.containsPanel(e))))||void 0===t?void 0:t.value}}class Ke extends be{get orientation(){return this.gridview.orientation}set orientation(e){this.gridview.orientation=e}get options(){return this._options}get deserializer(){return this._deserializer}set deserializer(e){this._deserializer=e}constructor(e){super({parentElement:e.parentElement,proportionalLayout:e.proportionalLayout,orientation:e.orientation,styles:e.styles,disableAutoResizing:e.disableAutoResizing}),this._onDidLayoutfromJSON=new m,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._options=e,this.options.components||(this.options.components={}),this.options.frameworkComponents||(this.options.frameworkComponents={})}updateOptions(e){const t="string"==typeof e.orientation&&this.gridview.orientation!==e.orientation;this._options=Object.assign(Object.assign({},this.options),e),t&&(this.gridview.orientation=e.orientation),this.layout(this.gridview.width,this.gridview.height,!0)}removePanel(e){this.removeGroup(e)}toJSON(){var e;return{grid:this.gridview.serialize(),activePanel:null===(e=this.activeGroup)||void 0===e?void 0:e.id}}setVisible(e,t){this.gridview.setViewVisible(X(e.element),t)}setActive(e){this._groups.forEach(((t,i)=>{t.value.setActive(e===t.value)}))}focus(){var e;null===(e=this.activeGroup)||void 0===e||e.focus()}fromJSON(e){this.clear();const{grid:t,activePanel:i}=e;try{const e=[],n=this.width,s=this.height;if(this.gridview.deserialize(t,{fromJSON:t=>{var i,n;const{data:s}=t,o=Re(s.id,s.component,null!==(i=this.options.components)&&void 0!==i?i:{},null!==(n=this.options.frameworkComponents)&&void 0!==n?n:{},this.options.frameworkComponentFactory?{createComponent:this.options.frameworkComponentFactory.createComponent}:void 0);return e.push((()=>o.init({params:s.params,minimumWidth:s.minimumWidth,maximumWidth:s.maximumWidth,minimumHeight:s.minimumHeight,maximumHeight:s.maximumHeight,priority:s.priority,snap:!!s.snap,accessor:this,isVisible:t.visible}))),this._onDidAddGroup.fire(o),this.registerPanel(o),o}}),this.layout(n,s,!0),e.forEach((e=>e())),"string"==typeof i){const e=this.getPanel(i);e&&this.doSetGroupActive(e)}}catch(n){for(const e of this.groups)e.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e);throw this.clear(),n}this._onDidLayoutfromJSON.fire()}clear(){const e=this.activeGroup,t=Array.from(this._groups.values());for(const i of t)i.disposable.dispose(),this.doRemoveGroup(i.value,{skipActive:!0});e&&this.doSetGroupActive(void 0),this.gridview.clear()}movePanel(e,t){var i;let n;const s=this.gridview.remove(e),o=null===(i=this._groups.get(t.reference))||void 0===i?void 0:i.value;if(!o)throw new Error(`reference group ${t.reference} does not exist`);const r=_e(t.direction);if("center"===r)throw new Error(`${r} not supported as an option`);{const e=X(o.element);n=Y(this.gridview.orientation,e,r)}this.doAddGroup(s,n,t.size)}addPanel(e){var t,i,n,s,o,r;let a=null!==(t=e.location)&&void 0!==t?t:[0];if(null===(i=e.position)||void 0===i?void 0:i.referencePanel){const t=null===(n=this._groups.get(e.position.referencePanel))||void 0===n?void 0:n.value;if(!t)throw new Error(`reference group ${e.position.referencePanel} does not exist`);const i=_e(e.position.direction);if("center"===i)throw new Error(`${i} not supported as an option`);{const e=X(t.element);a=Y(this.gridview.orientation,e,i)}}const h=Re(e.id,e.component,null!==(s=this.options.components)&&void 0!==s?s:{},null!==(o=this.options.frameworkComponents)&&void 0!==o?o:{},this.options.frameworkComponentFactory?{createComponent:this.options.frameworkComponentFactory.createComponent}:void 0);return h.init({params:null!==(r=e.params)&&void 0!==r?r:{},minimumWidth:e.minimumWidth,maximumWidth:e.maximumWidth,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,priority:e.priority,snap:!!e.snap,accessor:this,isVisible:!0}),this.registerPanel(h),this.doAddGroup(h,a,e.size),h}registerPanel(e){const t=new f(e.api.onDidFocusChange((t=>{t.isFocused&&this._groups.forEach((t=>{const i=t.value;i!==e?i.setActive(!1):i.setActive(!0)}))})));this._groups.set(e.id,{value:e,disposable:t})}moveGroup(e,t,i){const n=this.getPanel(t);if(!n)throw new Error("invalid operation");const s=X(e.element),o=Y(this.gridview.orientation,s,i),[r,a]=I(o),h=X(n.element),[l,d]=I(h);if(N(l,r))return void this.gridview.moveView(l,d,a);const p=this.doRemoveGroup(n,{skipActive:!0,skipDispose:!0}),c=X(e.element),m=Y(this.gridview.orientation,c,i);this.doAddGroup(p,m)}removeGroup(e){super.removeGroup(e)}dispose(){super.dispose(),this._onDidLayoutfromJSON.dispose()}}class Qe extends fe{get panels(){return this.splitview.getViews()}get options(){return this._options}get length(){return this._panels.size}get orientation(){return this.splitview.orientation}get splitview(){return this._splitview}set splitview(e){this._splitview=e,this._splitviewChangeDisposable.value=new f(this._splitview.onDidSashEnd((()=>{this._onDidLayoutChange.fire(void 0)})),this._splitview.onDidAddView((e=>this._onDidAddView.fire(e))),this._splitview.onDidRemoveView((e=>this._onDidRemoveView.fire(e))))}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get height(){return this.splitview.orientation===H.HORIZONTAL?this.splitview.orthogonalSize:this.splitview.size}get width(){return this.splitview.orientation===H.HORIZONTAL?this.splitview.size:this.splitview.orthogonalSize}constructor(e){super(e.parentElement,e.disableAutoResizing),this._splitviewChangeDisposable=new w,this._panels=new Map,this._onDidLayoutfromJSON=new m,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._onDidAddView=new m,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new m,this.onDidRemoveView=this._onDidRemoveView.event,this._onDidLayoutChange=new m,this.onDidLayoutChange=this._onDidLayoutChange.event,this._options=e,e.components||(e.components={}),e.frameworkComponents||(e.frameworkComponents={}),this.splitview=new W(this.element,e),this.addDisposables(this._onDidAddView,this._onDidLayoutfromJSON,this._onDidRemoveView,this._onDidLayoutChange)}updateOptions(e){const t="string"==typeof e.orientation&&this.options.orientation!==e.orientation;this._options=Object.assign(Object.assign({},this.options),e),t&&(this.splitview.orientation=e.orientation),this.splitview.layout(this.splitview.size,this.splitview.orthogonalSize)}focus(){var e;null===(e=this._activePanel)||void 0===e||e.focus()}movePanel(e,t){this.splitview.moveView(e,t)}setVisible(e,t){const i=this.panels.indexOf(e);this.splitview.setViewVisible(i,t)}setActive(e,t){this._activePanel=e,this.panels.filter((t=>t!==e)).forEach((e=>{e.api._onDidActiveChange.fire({isActive:!1}),t||e.focus()})),e.api._onDidActiveChange.fire({isActive:!0}),t||e.focus()}removePanel(e,t){const i=this._panels.get(e.id);if(!i)throw new Error(`unknown splitview panel ${e.id}`);i.dispose(),this._panels.delete(e.id);const n=this.panels.findIndex((t=>t===e));this.splitview.removeView(n,t).dispose();const s=this.panels;s.length>0&&this.setActive(s[s.length-1])}getPanel(e){return this.panels.find((t=>t.id===e))}addPanel(e){var t,i,n;if(this._panels.has(e.id))throw new Error(`panel ${e.id} already exists`);const s=Re(e.id,e.component,null!==(t=this.options.components)&&void 0!==t?t:{},null!==(i=this.options.frameworkComponents)&&void 0!==i?i:{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.createComponent}:void 0);s.orientation=this.splitview.orientation,s.init({params:null!==(n=e.params)&&void 0!==n?n:{},minimumSize:e.minimumSize,maximumSize:e.maximumSize,snap:e.snap,priority:e.priority,accessor:this});const o="number"==typeof e.size?e.size:B.Distribute,r="number"==typeof e.index?e.index:void 0;return this.splitview.addView(s,o,r),this.doAddView(s),this.setActive(s),s}layout(e,t){const[i,n]=this.splitview.orientation===H.HORIZONTAL?[e,t]:[t,e];this.splitview.layout(i,n)}doAddView(e){const t=e.api.onDidFocusChange((t=>{t.isFocused&&this.setActive(e,!0)}));this._panels.set(e.id,t)}toJSON(){var e;return{views:this.splitview.getViews().map(((e,t)=>({size:this.splitview.getViewSize(t),data:e.toJSON(),snap:!!e.snap,priority:e.priority}))),activeView:null===(e=this._activePanel)||void 0===e?void 0:e.id,size:this.splitview.size,orientation:this.splitview.orientation}}fromJSON(e){this.clear();const{views:t,orientation:i,size:n,activeView:s}=e,o=[],r=this.width,a=this.height;if(this.splitview=new W(this.element,{orientation:i,proportionalLayout:this.options.proportionalLayout,descriptor:{size:n,views:t.map((e=>{var t,n;const s=e.data;if(this._panels.has(s.id))throw new Error(`panel ${s.id} already exists`);const r=Re(s.id,s.component,null!==(t=this.options.components)&&void 0!==t?t:{},null!==(n=this.options.frameworkComponents)&&void 0!==n?n:{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.createComponent}:void 0);return o.push((()=>{var t;r.init({params:null!==(t=s.params)&&void 0!==t?t:{},minimumSize:s.minimumSize,maximumSize:s.maximumSize,snap:e.snap,priority:e.priority,accessor:this})})),r.orientation=i,this.doAddView(r),setTimeout((()=>{this._onDidAddView.fire(r)}),0),{size:e.size,view:r}}))}}),this.layout(r,a),o.forEach((e=>e())),"string"==typeof s){const e=this.getPanel(s);e&&this.setActive(e)}this._onDidLayoutfromJSON.fire()}clear(){for(const e of this._panels.values())e.dispose();for(this._panels.clear();this.splitview.length>0;){this.splitview.removeView(0,B.Distribute,!0).dispose()}}dispose(){for(const t of this._panels.values())t.dispose();this._panels.clear();const e=this.splitview.getViews();this._splitviewChangeDisposable.dispose(),this.splitview.dispose();for(const t of e)t.dispose();super.dispose()}}class qe extends f{get element(){return this._element}constructor(){super(),this._expandedIcon=Ge({width:"11",height:"11",viewbox:"0 0 24 15",path:"M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z"}),this._collapsedIcon=Ge({width:"11",height:"11",viewbox:"0 0 15 25",path:"M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z"}),this.disposable=new w,this.apiRef={api:null},this._element=document.createElement("div"),this.element.className="default-header",this._content=document.createElement("span"),this._expander=document.createElement("div"),this._expander.className="dockview-pane-header-icon",this.element.appendChild(this._expander),this.element.appendChild(this._content),this.addDisposables(v(this._element,"click",(()=>{var e;null===(e=this.apiRef.api)||void 0===e||e.setExpanded(!this.apiRef.api.isExpanded)})))}init(e){this.apiRef.api=e.api,this._content.textContent=e.title,this.updateIcon(),this.disposable.value=e.api.onDidExpansionChange((()=>{this.updateIcon()}))}updateIcon(){var e;const t=!!(null===(e=this.apiRef.api)||void 0===e?void 0:e.isExpanded);x(this._expander,"collapsed",!t),t?(this._expander.contains(this._collapsedIcon)&&this._collapsedIcon.remove(),this._expander.contains(this._expandedIcon)||this._expander.appendChild(this._expandedIcon)):(this._expander.contains(this._expandedIcon)&&this._expandedIcon.remove(),this._expander.contains(this._collapsedIcon)||this._expander.appendChild(this._collapsedIcon))}update(e){}dispose(){this.disposable.dispose(),super.dispose()}}const et=k();class tt extends ze{constructor(e){super(e.accessor,e.id,e.component,e.headerComponent,e.orientation,e.isExpanded,e.disableDnd),this.options=e}getBodyComponent(){return this.options.body}getHeaderComponent(){return this.options.header}}class it extends fe{get id(){return this._id}get panels(){return this.paneview.getPanes()}set paneview(e){this._paneview=e,this._disposable.value=new f(this._paneview.onDidChange((()=>{this._onDidLayoutChange.fire(void 0)})),this._paneview.onDidAddView((e=>this._onDidAddView.fire(e))),this._paneview.onDidRemoveView((e=>this._onDidRemoveView.fire(e))))}get paneview(){return this._paneview}get minimumSize(){return this.paneview.minimumSize}get maximumSize(){return this.paneview.maximumSize}get height(){return this.paneview.orientation===H.HORIZONTAL?this.paneview.orthogonalSize:this.paneview.size}get width(){return this.paneview.orientation===H.HORIZONTAL?this.paneview.size:this.paneview.orthogonalSize}get options(){return this._options}constructor(e){super(e.parentElement,e.disableAutoResizing),this._id=et.next(),this._disposable=new w,this._viewDisposables=new Map,this._onDidLayoutfromJSON=new m,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._onDidLayoutChange=new m,this.onDidLayoutChange=this._onDidLayoutChange.event,this._onDidDrop=new m,this.onDidDrop=this._onDidDrop.event,this._onDidAddView=new m,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new m,this.onDidRemoveView=this._onDidRemoveView.event,this.addDisposables(this._onDidLayoutChange,this._onDidLayoutfromJSON,this._onDidDrop,this._onDidAddView,this._onDidRemoveView),this._options=e,e.components||(e.components={}),e.frameworkComponents||(e.frameworkComponents={}),this.paneview=new F(this.element,{orientation:H.VERTICAL}),this.addDisposables(this._disposable)}focus(){}updateOptions(e){this._options=Object.assign(Object.assign({},this.options),e)}addPanel(e){var t,i,n,s;const o=Re(e.id,e.component,null!==(t=this.options.components)&&void 0!==t?t:{},null!==(i=this.options.frameworkComponents)&&void 0!==i?i:{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.body.createComponent}:void 0);let r;r=e.headerComponent?Re(e.id,e.headerComponent,null!==(n=this.options.headerComponents)&&void 0!==n?n:{},this.options.headerframeworkComponents,this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.header.createComponent}:void 0):new qe;const a=new tt({id:e.id,component:e.component,headerComponent:e.headerComponent,header:r,body:o,orientation:H.VERTICAL,isExpanded:!!e.isExpanded,disableDnd:!!this.options.disableDnd,accessor:this});this.doAddPanel(a);const h="number"==typeof e.size?e.size:B.Distribute,l="number"==typeof e.index?e.index:void 0;return a.init({params:null!==(s=e.params)&&void 0!==s?s:{},minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize,isExpanded:e.isExpanded,title:e.title,containerApi:new te(this)}),this.paneview.addPane(a,h,l),a.orientation=this.paneview.orientation,a}removePanel(e){const t=this.panels.findIndex((t=>t===e));this.paneview.removePane(t),this.doRemovePanel(e)}movePanel(e,t){this.paneview.moveView(e,t)}getPanel(e){return this.panels.find((t=>t.id===e))}layout(e,t){const[i,n]=this.paneview.orientation===H.HORIZONTAL?[e,t]:[t,e];this.paneview.layout(i,n)}toJSON(){const e=e=>e===Number.MAX_SAFE_INTEGER||e===Number.POSITIVE_INFINITY?void 0:e;return{views:this.paneview.getPanes().map(((t,i)=>{return{size:this.paneview.getViewSize(i),data:t.toJSON(),minimumSize:(n=t.minimumBodySize,n<=0?void 0:n),maximumSize:e(t.maximumBodySize),expanded:t.isExpanded()};var n})),size:this.paneview.size}}fromJSON(e){this.clear();const{views:t,size:i}=e,n=[],s=this.width,o=this.height;this.paneview=new F(this.element,{orientation:H.VERTICAL,descriptor:{size:i,views:t.map((e=>{var t,i,s,o;const r=e.data,a=Re(r.id,r.component,null!==(t=this.options.components)&&void 0!==t?t:{},null!==(i=this.options.frameworkComponents)&&void 0!==i?i:{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.body.createComponent}:void 0);let h;h=r.headerComponent?Re(r.id,r.headerComponent,null!==(s=this.options.headerComponents)&&void 0!==s?s:{},null!==(o=this.options.headerframeworkComponents)&&void 0!==o?o:{},this.options.frameworkWrapper?{createComponent:this.options.frameworkWrapper.header.createComponent}:void 0):new qe;const l=new tt({id:r.id,component:r.component,headerComponent:r.headerComponent,header:h,body:a,orientation:H.VERTICAL,isExpanded:!!e.expanded,disableDnd:!!this.options.disableDnd,accessor:this});return this.doAddPanel(l),n.push((()=>{var t;l.init({params:null!==(t=r.params)&&void 0!==t?t:{},minimumBodySize:e.minimumSize,maximumBodySize:e.maximumSize,title:r.title,isExpanded:!!e.expanded,containerApi:new te(this)}),l.orientation=this.paneview.orientation})),setTimeout((()=>{this._onDidAddView.fire(l)}),0),{size:e.size,view:l}}))}}),this.layout(s,o),n.forEach((e=>e())),this._onDidLayoutfromJSON.fire()}clear(){for(const[e,t]of this._viewDisposables.entries())t.dispose();this._viewDisposables.clear(),this.paneview.dispose()}doAddPanel(e){const t=e.onDidDrop((e=>{this._onDidDrop.fire(e)}));this._viewDisposables.set(e.id,t)}doRemovePanel(e){const t=this._viewDisposables.get(e.id);t&&(t.dispose(),this._viewDisposables.delete(e.id))}dispose(){super.dispose();for(const[e,t]of this._viewDisposables.entries())t.dispose();this._viewDisposables.clear(),this.paneview.dispose()}}class nt extends ye{get priority(){return this._priority}set orientation(e){this._orientation=e}get orientation(){return this._orientation}get minimumSize(){const e="function"==typeof this._minimumSize?this._minimumSize():this._minimumSize;return e!==this._evaluatedMinimumSize&&(this._evaluatedMinimumSize=e,this.updateConstraints()),e}get maximumSize(){const e="function"==typeof this._maximumSize?this._maximumSize():this._maximumSize;return e!==this._evaluatedMaximumSize&&(this._evaluatedMaximumSize=e,this.updateConstraints()),e}get snap(){return this._snap}constructor(e,t){super(e,t,new xe(e)),this._evaluatedMinimumSize=0,this._evaluatedMaximumSize=Number.POSITIVE_INFINITY,this._minimumSize=0,this._maximumSize=Number.POSITIVE_INFINITY,this._snap=!1,this._onDidChange=new m,this.onDidChange=this._onDidChange.event,this.api.initialize(this),this.addDisposables(this._onDidChange,this.api.onVisibilityChange((e=>{const{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)})),this.api.onActiveChange((()=>{const{accessor:e}=this._params;e.setActive(this)})),this.api.onDidConstraintsChangeInternal((e=>{"number"!=typeof e.minimumSize&&"function"!=typeof e.minimumSize||(this._minimumSize=e.minimumSize),"number"!=typeof e.maximumSize&&"function"!=typeof e.maximumSize||(this._maximumSize=e.maximumSize),this.updateConstraints()})),this.api.onDidSizeChange((e=>{this._onDidChange.fire({size:e.size})})))}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}layout(e,t){const[i,n]=this.orientation===H.HORIZONTAL?[e,t]:[t,e];super.layout(i,n)}init(e){super.init(e),this._priority=e.priority,e.minimumSize&&(this._minimumSize=e.minimumSize),e.maximumSize&&(this._maximumSize=e.maximumSize),e.snap&&(this._snap=e.snap)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{minimumSize:(e=this.minimumSize,e<=0?void 0:e),maximumSize:(e=>e===Number.MAX_SAFE_INTEGER||e===Number.POSITIVE_INFINITY?void 0:e)(this.maximumSize)});var e}updateConstraints(){this.api._onDidConstraintsChange.fire({maximumSize:this._evaluatedMaximumSize,minimumSize:this._evaluatedMinimumSize})}}},6376:(e,t,i)=>{i.d(t,{Pg:()=>b,tu:()=>f,$R:()=>y,g1:()=>n.g1,i5:()=>n.i5,Vm:()=>z,TU:()=>x,M:()=>n.M});var n=i(2825),s=i(6204),o=i(2457);const r=(e,t)=>{const[i,n]=s.useState(),o=s.useRef(e.componentProps);return s.useImperativeHandle(t,(()=>({update:e=>{o.current=Object.assign(Object.assign({},o.current),e),n(Date.now())}})),[]),s.createElement(e.component,o.current)};r.displayName="DockviewReactJsBridge";const a=(()=>{let e=1;return{next:()=>`dockview_react_portal_key_${(e++).toString()}`}})(),h=s.createContext({});class l{constructor(e,t,i,n,s){this.parent=e,this.portalStore=t,this.component=i,this.parameters=n,this.context=s,this._initialProps={},this.disposed=!1,this.createPortal()}update(e){if(this.disposed)throw new Error("invalid operation: resource is already disposed");this.componentInstance?this.componentInstance.update(e):this._initialProps=Object.assign(Object.assign({},this._initialProps),e)}createPortal(){if(this.disposed)throw new Error("invalid operation: resource is already disposed");if("function"!=typeof this.component)throw new Error("Invalid Operation. dockview only supports React Functional Components.");const e=s.createElement(s.forwardRef(r),{component:this.component,componentProps:this.parameters,ref:e=>{this.componentInstance=e,Object.keys(this._initialProps).length>0&&(this.componentInstance.update(this._initialProps),this._initialProps={})}}),t=this.context?s.createElement(h.Provider,{value:this.context},e):e,i=o.createPortal(t,this.parent,a.next());this.ref={portal:i,disposable:this.portalStore.addPortal(i)}}dispose(){var e;null===(e=this.ref)||void 0===e||e.disposable.dispose(),this.disposed=!0}}const d=()=>{const[e,t]=s.useState([]);s.useDebugValue(`Portal count: ${e.length}`);return[e,s.useCallback((e=>{t((t=>[...t,e]));let i=!1;return{dispose:()=>{if(i)throw new Error("invalid operation: resource already disposed");i=!0,t((t=>t.filter((t=>t!==e))))}}}),[])]};class p{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._onDidFocus=new n.O4,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new n.O4,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dockview-react-part"}focus(){}init(e){this.part=new l(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi})}update(e){var t;null===(t=this.part)||void 0===t||t.update(e.params)}layout(e,t){}dispose(){var e;this._onDidFocus.dispose(),this._onDidBlur.dispose(),null===(e=this.part)||void 0===e||e.dispose()}}class c{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.className="dockview-react-part"}focus(){}init(e){this.part=new l(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi})}update(e){var t;null===(t=this.part)||void 0===t||t.update(e.params)}layout(e,t){}dispose(){var e;null===(e=this.part)||void 0===e||e.dispose()}}class m{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.className="dockview-react-part"}init(e){this.part=new l(this.element,this.reactPortalStore,this.component,{group:e.group,containerApi:e.containerApi,close:()=>{e.group&&e.containerApi.removeGroup(e.group)}})}focus(){}update(e){var t,i,n;this.parameters&&(this.parameters.params=e.params),null===(t=this.part)||void 0===t||t.update({params:null!==(n=null===(i=this.parameters)||void 0===i?void 0:i.params)&&void 0!==n?n:{}})}layout(e,t){}updateParentGroup(e,t){}dispose(){var e;null===(e=this.part)||void 0===e||e.dispose()}}class u{get element(){return this._element}get part(){return this._part}get group(){return this._group}constructor(e,t,i){this.component=e,this.reactPortalStore=t,this._group=i,this.mutableDisposable=new n.Gi,this._element=document.createElement("div"),this._element.className="dockview-react-part"}focus(){}init(e){this.mutableDisposable.value=new n.KU(this._group.model.onDidAddPanel((()=>{this.updatePanels()})),this._group.model.onDidRemovePanel((()=>{this.updatePanels()})),this._group.model.onDidActivePanelChange((()=>{this.updateActivePanel()})),e.api.onDidActiveChange((()=>{this.updateGroupActive()}))),this._part=new l(this.element,this.reactPortalStore,this.component,{api:e.api,containerApi:e.containerApi,panels:this._group.model.panels,activePanel:this._group.model.activePanel,isGroupActive:this._group.api.isActive,group:this._group})}update(e){var t;null===(t=this._part)||void 0===t||t.update(e.params)}dispose(){var e;this.mutableDisposable.dispose(),null===(e=this._part)||void 0===e||e.dispose()}updatePanels(){this.update({params:{panels:this._group.model.panels}})}updateActivePanel(){this.update({params:{activePanel:this._group.model.activePanel}})}updateGroupActive(){this.update({params:{isGroupActive:this._group.api.isActive}})}}function v(e,t){return e?i=>new u(e,t,i):void 0}const g="props.defaultTabComponent",f=s.forwardRef(((e,t)=>{const i=s.useRef(null),o=s.useRef(),[r,a]=d();return s.useImperativeHandle(t,(()=>i.current),[]),s.useEffect((()=>{var t;if(!i.current)return()=>{};const s={content:{createComponent:(e,t,i)=>new p(t,i,{addPortal:a})},tab:{createComponent:(e,t,i)=>new c(t,i,{addPortal:a})},watermark:{createComponent:(e,t,i)=>new m(t,i,{addPortal:a})}},r=null!==(t=e.tabComponents)&&void 0!==t?t:{};e.defaultTabComponent&&(r[g]=e.defaultTabComponent);const h=new n.CJ({parentElement:i.current,frameworkComponentFactory:s,frameworkComponents:e.components,disableAutoResizing:e.disableAutoResizing,frameworkTabComponents:r,watermarkFrameworkComponent:e.watermarkComponent,defaultTabComponent:e.defaultTabComponent?g:void 0,styles:e.hideBorders?{separatorBorder:"transparent"}:void 0,showDndOverlay:e.showDndOverlay,createLeftHeaderActionsElement:v(e.leftHeaderActionsComponent,{addPortal:a}),createRightHeaderActionsElement:v(e.rightHeaderActionsComponent,{addPortal:a}),createPrefixHeaderActionsElement:v(e.prefixHeaderActionsComponent,{addPortal:a}),singleTabMode:e.singleTabMode,disableFloatingGroups:e.disableFloatingGroups,floatingGroupBounds:e.floatingGroupBounds,defaultRenderer:e.defaultRenderer,debug:e.debug}),{clientWidth:l,clientHeight:d}=i.current;return h.layout(l,d),e.onReady&&e.onReady({api:new n.QW(h)}),o.current=h,()=>{h.dispose()}}),[]),s.useEffect((()=>{if(!o.current)return()=>{};const t=o.current.onDidDrop((t=>{e.onDidDrop&&e.onDidDrop(t)}));return()=>{t.dispose()}}),[e.onDidDrop]),s.useEffect((()=>{o.current&&o.current.updateOptions({frameworkComponents:e.components})}),[e.components]),s.useEffect((()=>{o.current&&o.current.updateOptions({floatingGroupBounds:e.floatingGroupBounds})}),[e.floatingGroupBounds]),s.useEffect((()=>{o.current&&o.current.updateOptions({watermarkFrameworkComponent:e.watermarkComponent})}),[e.watermarkComponent]),s.useEffect((()=>{o.current&&o.current.updateOptions({showDndOverlay:e.showDndOverlay})}),[e.showDndOverlay]),s.useEffect((()=>{o.current&&o.current.updateOptions({frameworkTabComponents:e.tabComponents})}),[e.tabComponents]),s.useEffect((()=>{o.current&&o.current.updateOptions({disableFloatingGroups:e.disableFloatingGroups})}),[e.disableFloatingGroups]),s.useEffect((()=>{var t;if(!o.current)return;const i=null!==(t=e.tabComponents)&&void 0!==t?t:{};e.defaultTabComponent&&(i[g]=e.defaultTabComponent),o.current.updateOptions({defaultTabComponent:e.defaultTabComponent?g:void 0,frameworkTabComponents:i})}),[e.defaultTabComponent]),s.useEffect((()=>{o.current&&o.current.updateOptions({createRightHeaderActionsElement:v(e.rightHeaderActionsComponent,{addPortal:a})})}),[e.rightHeaderActionsComponent]),s.useEffect((()=>{o.current&&o.current.updateOptions({createLeftHeaderActionsElement:v(e.leftHeaderActionsComponent,{addPortal:a})})}),[e.leftHeaderActionsComponent]),s.useEffect((()=>{o.current&&o.current.updateOptions({createPrefixHeaderActionsElement:v(e.prefixHeaderActionsComponent,{addPortal:a})})}),[e.prefixHeaderActionsComponent]),s.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));f.displayName="DockviewComponent";const w=()=>s.createElement("svg",{height:"11",width:"11",viewBox:"0 0 28 28","aria-hidden":"false",focusable:!1,className:"dockview-svg"},s.createElement("path",{d:"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z"}));var _=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const b=e=>{var{api:t,containerApi:i,params:n,hideClose:o,closeActionOverride:r}=e,a=_(e,["api","containerApi","params","hideClose","closeActionOverride"]);const h=s.useCallback((e=>{e.preventDefault(),r?r():t.close()}),[t,r]),l=s.useCallback((e=>{e.preventDefault()}),[]),d=s.useCallback((e=>{e.defaultPrevented||(t.setActive(),a.onClick&&a.onClick(e))}),[t,a.onClick]);return s.createElement("div",Object.assign({"data-testid":"dockview-default-tab"},a,{onClick:d,className:"dockview-react-tab"}),s.createElement("span",{className:"dockview-react-tab-title"},t.title),!o&&s.createElement("div",{className:"dv-react-tab-close-btn",onMouseDown:l,onClick:h},s.createElement(w,null)))};class D extends n.hJ{constructor(e,t,i,n){super(e,t),this.reactComponent=i,this.reactPortalStore=n}getComponent(){var e,t;return new l(this.element,this.reactPortalStore,this.reactComponent,{params:null!==(t=null===(e=this._params)||void 0===e?void 0:e.params)&&void 0!==t?t:{},api:this.api,containerApi:new n.fX(this._params.accessor)})}}const x=s.forwardRef(((e,t)=>{const i=s.useRef(null),o=s.useRef(),[r,a]=d();return s.useImperativeHandle(t,(()=>i.current),[]),s.useEffect((()=>{var t;const s=new n.Cx({parentElement:i.current,disableAutoResizing:e.disableAutoResizing,orientation:null!==(t=e.orientation)&&void 0!==t?t:n.i5.HORIZONTAL,frameworkComponents:e.components,frameworkWrapper:{createComponent:(e,t,i)=>new D(e,t,i,{addPortal:a})},proportionalLayout:"boolean"!=typeof e.proportionalLayout||e.proportionalLayout,styles:e.hideBorders?{separatorBorder:"transparent"}:void 0}),{clientWidth:r,clientHeight:h}=i.current;return s.layout(r,h),e.onReady&&e.onReady({api:new n.fX(s)}),o.current=s,()=>{s.dispose()}}),[]),s.useEffect((()=>{o.current&&o.current.updateOptions({frameworkComponents:e.components})}),[e.components]),s.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));x.displayName="SplitviewComponent";class C extends n.Tg{constructor(e,t,i,n){super(e,t),this.reactComponent=i,this.reactPortalStore=n}getComponent(){var e,t;return new l(this.element,this.reactPortalStore,this.reactComponent,{params:null!==(t=null===(e=this._params)||void 0===e?void 0:e.params)&&void 0!==t?t:{},api:this.api,containerApi:new n.Tn(this._params.accessor)})}}const y=s.forwardRef(((e,t)=>{const i=s.useRef(null),o=s.useRef(),[r,a]=d();return s.useImperativeHandle(t,(()=>i.current),[]),s.useEffect((()=>{var t;if(!i.current)return()=>{};const s=new n.Jf({parentElement:i.current,disableAutoResizing:e.disableAutoResizing,proportionalLayout:"boolean"!=typeof e.proportionalLayout||e.proportionalLayout,orientation:null!==(t=e.orientation)&&void 0!==t?t:n.i5.HORIZONTAL,frameworkComponents:e.components,frameworkComponentFactory:{createComponent:(e,t,i)=>new C(e,t,i,{addPortal:a})},styles:e.hideBorders?{separatorBorder:"transparent"}:void 0}),{clientWidth:r,clientHeight:h}=i.current;return s.layout(r,h),e.onReady&&e.onReady({api:new n.Tn(s)}),o.current=s,()=>{s.dispose()}}),[]),s.useEffect((()=>{o.current&&o.current.updateOptions({frameworkComponents:e.components})}),[e.components]),s.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));y.displayName="GridviewComponent";class E{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.style.height="100%",this._element.style.width="100%"}init(e){this.part=new l(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,title:e.title,containerApi:e.containerApi})}toJSON(){return{id:this.id}}update(e){var t;null===(t=this.part)||void 0===t||t.update(e.params)}dispose(){var e;null===(e=this.part)||void 0===e||e.dispose()}}const z=s.forwardRef(((e,t)=>{const i=s.useRef(null),o=s.useRef(),[r,a]=d();return s.useImperativeHandle(t,(()=>i.current),[]),s.useEffect((()=>{const t=(e,t,i)=>new E(e,i,{addPortal:a}),s=new n.W({parentElement:i.current,disableAutoResizing:e.disableAutoResizing,frameworkComponents:e.components,components:{},headerComponents:{},disableDnd:e.disableDnd,headerframeworkComponents:e.headerComponents,frameworkWrapper:{header:{createComponent:t},body:{createComponent:t}},showDndOverlay:e.showDndOverlay}),r=new n.y0(s),{clientWidth:h,clientHeight:l}=i.current;return s.layout(h,l),e.onReady&&e.onReady({api:r}),o.current=s,()=>{s.dispose()}}),[]),s.useEffect((()=>{o.current&&o.current.updateOptions({frameworkComponents:e.components})}),[e.components]),s.useEffect((()=>{o.current&&o.current.updateOptions({headerframeworkComponents:e.headerComponents})}),[e.headerComponents]),s.useEffect((()=>{if(!o.current)return()=>{};const t=o.current,i=t.onDidDrop((i=>{e.onDidDrop&&e.onDidDrop(Object.assign(Object.assign({},i),{api:new n.y0(t)}))}));return()=>{i.dispose()}}),[e.onDidDrop]),s.useEffect((()=>{o.current&&o.current.updateOptions({showDndOverlay:e.showDndOverlay})}),[e.showDndOverlay]),s.createElement("div",{className:e.className,style:{height:"100%",width:"100%"},ref:i},r)}));z.displayName="PaneviewComponent"},2484:(e,t,i)=>{i.d(t,{W2:()=>d,Qj:()=>g,JE:()=>u});var n=i(6204),s=i(3188);const o=()=>{return e={width:"16",height:"16",viewbox:"0 0 50 58",path:"M22.5581 50.9938V30.1717L4.65116 19.869V31.7386L12.8536 36.4939V45.4198L22.5581 50.9938ZM27.2093 51.1162L37.0931 45.4226V36.2851L45.3488 31.501V19.7801L27.2093 30.2529V51.1162ZM42.9633 15.7867L33.4288 10.2615L25.0571 15.1193L16.6219 10.2567L7.00237 15.8557L24.9542 26.1842L42.9633 15.7867ZM0 43.4008V14.5498L24.9974 0L50 14.4887V43.3552L24.9969 57.7584L0 43.4008Z"},(0,s.jsx)("svg",{height:e.height,width:e.width,viewBox:e.viewbox,focusable:!1,className:"dockview-svg",children:(0,s.jsx)("path",{d:e.path})});var e},r=e=>{const t=n.useMemo((()=>e.id?`https://codesandbox.io/s/github/mathuo/dockview/tree/master/packages/docs/sandboxes/${e.id}`:""),[e.id]);return(0,s.jsxs)(s.Fragment,{children:[!e.hideThemePicker&&(0,s.jsx)(u,{}),(0,s.jsxs)("span",{className:"codesandbox-button",style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("span",{className:"codesandbox-button-pretext",children:"Open in "}),(0,s.jsxs)("a",{href:t,target:"_blank",className:"codesandbox-button-content",children:[(0,s.jsx)("span",{style:{fontWeight:"bold",paddingRight:"4px"},children:"CodeSandbox"}),(0,s.jsx)(o,{})]})]})]})};var a=i(6261);const h=()=>(0,s.jsxs)("div",{className:"lds-ellipsis",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{})]});var l=i(4940);const d=e=>{const t=n.useRef(null);return n.useEffect((()=>{e.injectVanillaJS&&e.injectVanillaJS(t.current)}),[e.injectVanillaJS]),(0,s.jsx)(l.Z,{children:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:t,style:{height:e.height?`${e.height}px`:"300px"},children:e.children}),(0,s.jsxs)("div",{style:{padding:"2px 0px",display:"flex",alignItems:"center",fontSize:"14px"},children:[(0,s.jsx)("span",{style:{flexGrow:1}}),e.sandboxId&&(0,s.jsx)(r,{id:e.sandboxId})]})]})})},p=e=>(0,s.jsx)("img",{style:{marginRight:"0px 4px"},height:e.height,width:e.width,src:(0,a.Z)("img/react-icon.svg")}),c=e=>(0,s.jsx)("img",{style:{marginRight:"0px 4px"},height:e.height,width:e.width,src:(0,a.Z)("img/js-icon.svg")}),m=["dockview-theme-abyss","dockview-theme-dark","dockview-theme-light","dockview-theme-vs","dockview-theme-dracula","dockview-theme-replit"];const u=()=>{const[e,t]=n.useState(localStorage.getItem("dv-theme-class-name")||m[0]);return n.useEffect((()=>{localStorage.setItem("dv-theme-class-name",e),window.dispatchEvent(new StorageEvent("storage"))}),[e]),(0,s.jsxs)("div",{style:{height:"20px",display:"flex",alignItems:"center",padding:"0px 0px 0px 4px"},children:[(0,s.jsx)("span",{style:{paddingRight:"4px"},children:"Theme: "}),(0,s.jsx)("select",{style:{backgroundColor:"inherit",color:"inherit"},onChange:e=>t(e.target.value),value:e,children:m.map((e=>(0,s.jsx)("option",{value:e,children:e},e)))})]})},v=e=>{const t=n.useRef(null),[i,o]=n.useState("React"),[a,l]=n.useState(!1),d=function(e,t){const[i,s]=n.useState(localStorage.getItem(e));return n.useEffect((()=>{const t=t=>{s(localStorage.getItem(e))};return window.addEventListener("storage",t),s(localStorage.getItem(e)),()=>{window.removeEventListener("storage",t)}}),[e]),null===i?t:i}("dv-theme-class-name","dockview-theme-abyss");n.useEffect((()=>{l(!0),setTimeout((()=>{l(!1)}),500)}),[i]),n.useEffect((()=>{if(t.current&&"Javascript"===i){const i=e.typescript(t.current);return()=>{i.dispose()}}}),[e.typescript,i]);const m=n.useMemo((()=>"Javascript"===i?`javascript/${e.sandboxId}`:e.sandboxId),[e.sandboxId,i]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{ref:t,style:{position:"relative",height:e.height?`${e.height}px`:"300px"},children:[a&&(0,s.jsx)("div",{style:{background:"rgba(30,30,30)",position:"absolute",zIndex:9999,top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(h,{})}),"React"===i&&(0,s.jsx)(e.react,{theme:d})]}),(0,s.jsxs)("div",{style:{margin:"2px 0px",padding:"2px 0px",display:"flex",alignItems:"center",fontSize:"14px",height:"24px"},children:[(0,s.jsxs)("div",{className:"framework-button",style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[e.typescript&&("React"===i?(0,s.jsx)(p,{height:16,width:16}):(0,s.jsx)(c,{height:16,width:16})),e.typescript&&(0,s.jsxs)("select",{style:{border:"none",fontWeight:"bold",backgroundColor:"inherit",cursor:"inherit",color:"inherit",height:"24px"},onChange:e=>{const t=e.target;o(t.value)},children:[(0,s.jsx)("option",{value:"React",children:"React"}),(0,s.jsx)("option",{value:"Javascript",children:"Javascript"})]})]}),(0,s.jsx)("span",{style:{flexGrow:1}}),(0,s.jsx)(r,{id:m,hideThemePicker:e.hideThemePicker})]})]})},g=e=>(0,s.jsx)(l.Z,{children:()=>(0,s.jsx)(v,{...e})})},3777:(e,t,i)=>{i.r(t),i.d(t,{default:()=>V});var n=i(6204),s=i(489),o=i(6223),r=i(5514),a=i(5136),h=i(6261);const l={features:"features_t9lD",featureSvg:"featureSvg_GfXr"};var d=i(3188);const p=[{title:"",Svg:i(9368).Z,description:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Serializable Layouts"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Add and remove panels using the provided api or use the serialziation methods to persist layouts."})]}),(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Customizable Theme"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Adjust a number of provided CSS Properties for a simple change or target specific classes for a more customized approach."})]}),(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Choose Your Control"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Choose from a simple splitview, gridview, collapsable panes or a full docking solution. Combine multiple for complex layouts."})]})]})},{title:"",Svg:i(7885).Z,description:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Rich Feature Control"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Customize header features to add additional icons and more as well as custom tab rendering."})]}),(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Floating Group Support"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Built-in support for floating groups with a supporting api for progmatic control."})]}),(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Drag And Drop"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Drag and Drop tab to position your layout as well as interacting with external drag events."})]})]})},{title:"",Svg:i(2614).Z,description:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Zero Dependencies"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Zero dependencies, that's all."})]}),(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"Code Quality and Transparency"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"All of the code is run through Sonarcloud Code Analysis, which along with the source code and high test coverage can be viewed from the Github page."})]}),(0,d.jsxs)("div",{className:"feature-banner",children:[(0,d.jsx)("h3",{className:"feature-banner-header",children:"React or Vanilla TypeScript"}),(0,d.jsx)("p",{className:"feature-banner-content",children:"Exposes native support for both ReactJS components and Vanilla TypeScript."})]})]})}];function c(e){let{title:t,Svg:i,description:n}=e;return(0,d.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",margin:"auto",justifyContent:"center"},className:"dockview-feature",children:[(0,d.jsx)(i,{className:l.featureSvg,role:"img"}),(0,d.jsxs)("div",{style:{maxWidth:"400px",padding:"0px 20px"},children:[(0,d.jsx)("h3",{children:t}),n]})]})}function m(){return(0,d.jsx)("section",{className:l.features,children:(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row",children:p.map(((e,t)=>(0,d.jsx)(c,{...e},t)))})})})}const u=()=>(0,d.jsxs)("div",{style:{height:"30px",borderBottom:"1px solid #BABABA",backgroundColor:"#DCDCDC",borderTopLeftRadius:"15px",borderTopRightRadius:"15px",padding:"0px 15px",display:"flex",alignItems:"center"},children:[(0,d.jsx)("div",{style:{height:"14px",width:"14px",borderRadius:"100%",backgroundColor:"#FD605E",marginRight:7}}),(0,d.jsx)("div",{style:{height:"14px",width:"14px",borderRadius:"100%",backgroundColor:"#FBBC3F",marginRight:7}}),(0,d.jsx)("div",{style:{height:"14px",width:"14px",borderRadius:"100%",backgroundColor:"#34C942",marginRight:7}})]});var v=i(2484),g=i(6376);i(2457);const f={default:e=>(0,d.jsx)("div",{style:{height:"100%",overflow:"auto",color:"white"},children:""})},w={default:e=>(0,d.jsx)(g.Pg,{onContextMenu:e=>{e.preventDefault(),alert("context menu")},...e})},_=e=>(0,d.jsx)("div",{className:"action",onClick:e.onClick,children:(0,d.jsx)("span",{style:{fontSize:"inherit"},className:"material-symbols-outlined",children:e.icon})}),b={panel_1:()=>(0,d.jsx)(_,{icon:"file_download"})},D=e=>{const t=n.useMemo((()=>e.isGroupActive&&e.activePanel?b[e.activePanel.id]:null),[e.isGroupActive,e.activePanel]),[i,s]=n.useState(e.containerApi.hasMaximizedGroup()?"collapse_content":"expand_content"),[o,r]=n.useState("popout"===e.api.location?"close_fullscreen":"open_in_new");n.useEffect((()=>{const t=e.containerApi.onDidMaxmizedGroupChange((()=>{s(e.containerApi.hasMaximizedGroup()?"collapse_content":"expand_content")})),i=e.api.onDidLocationChange((()=>{r("popout"===e.api.location?"close_fullscreen":"open_in_new")}));return()=>{t.dispose(),i.dispose()}}),[e.containerApi]);return(0,d.jsxs)("div",{className:"group-control",style:{display:"flex",alignItems:"center",padding:"0px 8px",height:"100%",color:"var(--dv-activegroup-visiblepanel-tab-color)"},children:[e.isGroupActive&&(0,d.jsx)(_,{icon:"star"}),t&&(0,d.jsx)(t,{}),(0,d.jsx)(_,{icon:o,onClick:()=>{"popout"!==e.api.location?e.containerApi.addPopoutGroup(e.group):e.api.moveTo({position:"right"})}}),(0,d.jsx)(_,{icon:i,onClick:()=>{e.containerApi.hasMaximizedGroup()?e.containerApi.exitMaxmizedGroup():e.activePanel?.api.maximize()}})]})};let x=0;const C=e=>(0,d.jsx)("div",{className:"group-control",style:{display:"flex",alignItems:"center",padding:"0px 8px",height:"100%",color:"var(--dv-activegroup-visiblepanel-tab-color)"},children:(0,d.jsx)(_,{onClick:()=>{e.containerApi.addPanel({id:`id_${Date.now().toString()}`,component:"default",title:"Tab "+x++,position:{referenceGroup:e.group}})},icon:"add"})}),y=e=>(0,d.jsx)("div",{className:"group-control",style:{display:"flex",alignItems:"center",padding:"0px 8px",height:"100%",color:"var(--dv-activegroup-visiblepanel-tab-color)"},children:(0,d.jsx)(_,{icon:"Menu"})}),E=e=>(0,d.jsx)(g.tu,{components:f,defaultTabComponent:w.default,rightHeaderActionsComponent:D,leftHeaderActionsComponent:C,prefixHeaderActionsComponent:y,onReady:e=>{e.api.addPanel({id:"panel_1",component:"default",title:"Panel 1"}),e.api.addPanel({id:"panel_2",component:"default",title:"Panel 2",position:{referencePanel:"panel_1",direction:"right"}}),e.api.addPanel({id:"panel_3",component:"default",title:"Panel 3",position:{referencePanel:"panel_2",direction:"below"}}),e.api.addPanel({id:"panel_4",component:"default",title:"Panel 4",position:{referencePanel:"panel_3",direction:"right"}}),e.api.addPanel({id:"panel_5",component:"default",title:"Panel 5",position:{referencePanel:"panel_3",direction:"below"}}),e.api.addPanel({id:"panel_6",component:"default",title:"Panel 6",position:{referencePanel:"panel_3",direction:"right"}}),e.api.getPanel("panel_1").api.setActive(),console.log(e.api.toJSON())},className:e.theme||"dockview-theme-abyss"}),z={default:e=>(0,d.jsx)("div",{style:{height:"100%",padding:"20px",background:"var(--dv-group-view-background-color)"},children:e.params.title})},S={default:e=>(0,d.jsx)("div",{style:{height:"100%",padding:"20px",background:"var(--dv-group-view-background-color)"},children:e.params.title}),panes:e=>(0,d.jsx)(g.Vm,{onReady:e=>{e.api.addPanel({id:"pane_1",component:"default",title:"Pane 1",isExpanded:!1}),e.api.addPanel({id:"pane_2",component:"default",title:"Pane 2",isExpanded:!0}),e.api.addPanel({id:"pane_3",component:"default",title:"Pane 3",isExpanded:!0}),e.api.addPanel({id:"pane_4",component:"default",title:"Pane 4",isExpanded:!1})},components:z})},A=e=>(0,d.jsx)(g.$R,{onReady:e=>{e.api.addPanel({id:"panes",component:"panes",minimumHeight:100,minimumWidth:100}),e.api.addPanel({id:"panel_1",component:"default",position:{referencePanel:"panes",direction:"right"},minimumHeight:100,minimumWidth:100}),e.api.addPanel({id:"panel_2",component:"default",position:{referencePanel:"panel_1",direction:"below"},minimumHeight:100,minimumWidth:100}),e.api.addPanel({id:"panel_3",component:"default",position:{referencePanel:"panel_2",direction:"below"},minimumHeight:100,minimumWidth:100})},components:S,className:`${e.theme||"dockview-theme-abyss"}`}),P=()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{}),(0,d.jsxs)("div",{id:"live-demo",style:{height:"30px",display:"flex",alignItems:"center",fontSize:"1.5em",fontWeight:"bold"},children:[(0,d.jsx)("img",{src:(0,h.Z)("/img/dockview_logo.svg"),height:30}),(0,d.jsx)("span",{style:{paddingLeft:"8px"},children:"Dockview Live Demos"})]}),(0,d.jsxs)("div",{style:{padding:"20px"},children:[(0,d.jsx)(u,{}),(0,d.jsx)(v.Qj,{height:500,sandboxId:"demo-dockview",react:E})]}),(0,d.jsxs)("div",{style:{padding:"20px"},children:[(0,d.jsx)(u,{}),(0,d.jsx)(v.Qj,{height:500,react:A,sandboxId:"dockview-app"})]})]}),I={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN"};function N(){const{siteConfig:e}=(0,a.Z)();return(0,d.jsx)("header",{className:(0,s.Z)("hero hero--primary",I.heroBanner),children:(0,d.jsxs)("div",{className:"container homepage",children:[(0,d.jsx)("img",{src:(0,h.Z)("/img/dockview_logo.svg")}),(0,d.jsx)("h1",{className:"hero__title",children:e.title}),(0,d.jsx)("p",{className:"hero__subtitle",children:e.tagline}),(0,d.jsxs)("div",{className:I.buttons,children:[(0,d.jsx)(r.Z,{className:"button button--secondary button--lg",to:(0,h.Z)("docs/"),children:"Get Started"}),(0,d.jsx)(r.Z,{className:"button button--secondary button--lg",to:"#live-demo",children:"Live Demo"})]})]})})}function V(){const{siteConfig:e}=(0,a.Z)();return(0,d.jsxs)(o.Z,{title:`${e.tagline}`,description:`${e.description}`,children:[(0,d.jsx)(N,{}),(0,d.jsx)("main",{className:"container",children:(0,d.jsx)(P,{})})]})}},9368:(e,t,i)=>{i.d(t,{Z:()=>ee});var n,s,o,r,a,h,l,d,p,c,m,u,v,g,f,w,_,b,D,x,C,y,E,z,S,A,P,I,N,V,M,G,O,k,R,L,H,T,j,B,W,F,Z,J,$,U,X,Y,K,Q=i(6204);function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},q.apply(this,arguments)}const ee=e=>{let{title:t,titleId:i,...ee}=e;return Q.createElement("svg",q({width:312,height:200,viewBox:"0 0 312 200",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":i},ee),t?Q.createElement("title",{id:i},t):null,n||(n=Q.createElement("rect",{width:311.504,height:200,rx:5,fill:"#fff"})),s||(s=Q.createElement("path",{d:"M0 5a5 5 0 0 1 5-5h302a5 5 0 0 1 5 5v6H0V5Z",fill:"#DCDCDC"})),o||(o=Q.createElement("path",{fill:"#BABABA",d:"M0 10h312v1H0z"})),r||(r=Q.createElement("path",{fill:"#A8A8A8",d:"M0 11h156v189H0z"})),a||(a=Q.createElement("path",{fill:"#000C18",d:"M156 11h156v91H156zM234 102h78v98h-78zM156 102h78v98h-78zM0 24h156v176H0z"})),h||(h=Q.createElement("path",{fill:"#2B2B4A",d:"M157 102h155v1H157zM157 11h-1v189h1zM234 103h-1v97h1v-97Z"})),l||(l=Q.createElement("path",{fill:"#1C1C2A",d:"M0 11h156v14H0z"})),d||(d=Q.createElement("path",{fill:"#10192C",d:"M0 11h30v14H0zM31 11h30v14H31z"})),p||(p=Q.createElement("path",{fill:"#000C18",d:"M62 11h30v14H62z"})),c||(c=Q.createElement("path",{fill:"#2B2B4A",d:"M30 11h1v14h-1zM61 11h1v14h-1zM92 11h1v14h-1z"})),m||(m=Q.createElement("path",{fill:"#1C1C2A",d:"M157 11h155v14H157z"})),u||(u=Q.createElement("path",{fill:"#10192C",d:"M157 11h30v14h-30z"})),v||(v=Q.createElement("path",{fill:"#000C18",d:"M188 11h30v14h-30z"})),g||(g=Q.createElement("path",{fill:"#2B2B4A",d:"M187 11h1v14h-1zM218 11h1v14h-1z"})),f||(f=Q.createElement("path",{fill:"#1C1C2A",d:"M234 103h78v14h-78z"})),w||(w=Q.createElement("path",{fill:"#10192C",d:"M234 103h24v14h-24z"})),_||(_=Q.createElement("path",{fill:"#000C18",d:"M258 103h24v14h-24z"})),b||(b=Q.createElement("path",{fill:"#2B2B4A",d:"M258 103h.503v14H258zM282 103h.503v14H282z"})),D||(D=Q.createElement("rect",{x:66,y:16,width:7,height:4,rx:2,fill:"#fff"})),x||(x=Q.createElement("rect",{x:76,y:16,width:12,height:4,rx:2,fill:"#fff"})),C||(C=Q.createElement("rect",{x:191,y:16,width:12,height:4,rx:2,fill:"#777"})),y||(y=Q.createElement("rect",{x:260,y:108,width:7,height:4,rx:2,fill:"#777"})),E||(E=Q.createElement("rect",{x:268,y:108,width:11,height:4,rx:2,fill:"#777"})),z||(z=Q.createElement("rect",{x:206,y:16,width:4,height:4,rx:2,fill:"#777"})),S||(S=Q.createElement("rect",{x:160,y:16,width:5,height:4,rx:2,fill:"#282828"})),A||(A=Q.createElement("rect",{x:166,y:16,width:16,height:4,rx:2,fill:"#282828"})),P||(P=Q.createElement("rect",{x:237,y:108,width:16,height:4,rx:2,fill:"#282828"})),I||(I=Q.createElement("rect",{x:33,y:16,width:15,height:4,rx:2,fill:"#777"})),N||(N=Q.createElement("rect",{x:4,y:3,width:4,height:4,rx:2,fill:"#FD605E"})),V||(V=Q.createElement("rect",{x:10,y:3,width:4,height:4,rx:2,fill:"#FBBC3F"})),M||(M=Q.createElement("rect",{x:16,y:3,width:4,height:4,rx:2,fill:"#34C942"})),G||(G=Q.createElement("rect",{x:2,y:16,width:6,height:4,rx:2,fill:"#777"})),O||(O=Q.createElement("rect",{x:10,y:16,width:18,height:4,rx:2,fill:"#777"})),k||(k=Q.createElement("path",{fill:"#E1E1E1",fillOpacity:.25,d:"M297 11h15v189h-15z"})),R||(R=Q.createElement("path",{fill:"#000C18",stroke:"#2B2B4A",d:"M90.5 18.5h48v13h-48z"})),L||(L=Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M140.344 22.265a.295.295 0 0 0-.017-.495l-4.147-2.48a.295.295 0 0 0-.441.31l.912 4.744c.04.21.284.309.459.186l.662-.463a.296.296 0 0 0 .12-.298l-.29-1.508a.296.296 0 0 1 .442-.309l1.318.788c.1.06.226.055.321-.011l.661-.464Z",fill:"#fff"})),H||(H=Q.createElement("path",{stroke:"#fff",strokeDasharray:"0.25 0.25",d:"M139.5 23.5h4v2h-4z"})),T||(T=Q.createElement("path",{d:"M97.33 23.09h.421l.989 2.416h.034l.989-2.415h.42V26h-.33v-2.21h-.028L98.916 26h-.318l-.91-2.21h-.028V26h-.33v-2.91Zm4.889 2.018v-1.29h.335V26h-.335v-.37h-.023a.713.713 0 0 1-.238.283.692.692 0 0 1-.41.115.727.727 0 0 1-.363-.09.623.623 0 0 1-.25-.272 1.03 1.03 0 0 1-.091-.462v-1.386h.335v1.364c0 .159.045.286.134.38.09.095.204.142.343.142a.571.571 0 0 0 .563-.596Zm1.284-2.017V26h-.335v-2.91h.335Zm1.563.727v.284h-1.13v-.284h1.13Zm-.801-.523h.335v2.08c0 .095.014.166.042.213a.212.212 0 0 0 .107.094.438.438 0 0 0 .141.023.598.598 0 0 0 .091-.006l.057-.012.068.302a.7.7 0 0 1-.528-.021.556.556 0 0 1-.225-.187.532.532 0 0 1-.088-.315v-2.17ZM105.57 26v-2.182h.336V26h-.336Zm.171-2.546a.238.238 0 0 1-.169-.066.216.216 0 0 1-.07-.16c0-.063.024-.117.07-.161a.238.238 0 0 1 .169-.067c.065 0 .121.022.168.067a.214.214 0 0 1 .071.16.214.214 0 0 1-.071.16.236.236 0 0 1-.168.067Zm.779 3.364v-3h.324v.347h.039c.025-.038.059-.086.103-.145a.596.596 0 0 1 .19-.16.683.683 0 0 1 .338-.07c.184 0 .346.046.486.138a.92.92 0 0 1 .328.39c.079.169.118.368.118.597 0 .23-.039.431-.118.6a.935.935 0 0 1-.327.393.852.852 0 0 1-.481.137.7.7 0 0 1-.337-.07.636.636 0 0 1-.195-.16c-.045-.06-.08-.11-.105-.15h-.028v1.153h-.335Zm.329-1.909c0 .165.024.31.073.436a.661.661 0 0 0 .211.294.55.55 0 0 0 .341.105.55.55 0 0 0 .351-.11.672.672 0 0 0 .213-.302c.048-.127.073-.268.073-.423 0-.153-.024-.292-.071-.415a.644.644 0 0 0-.212-.294.56.56 0 0 0-.354-.11.556.556 0 0 0-.343.105.627.627 0 0 0-.211.287 1.187 1.187 0 0 0-.071.427Zm2.443-1.818V26h-.335v-2.91h.335Zm1.529 2.954c-.21 0-.391-.046-.544-.139a.942.942 0 0 1-.351-.392 1.343 1.343 0 0 1-.122-.588c0-.223.041-.42.122-.59a.967.967 0 0 1 .344-.401.924.924 0 0 1 .517-.145c.114 0 .226.019.337.057.111.037.211.099.302.184a.884.884 0 0 1 .218.335c.054.14.081.311.081.515v.142h-1.682v-.29h1.341a.718.718 0 0 0-.074-.33.556.556 0 0 0-.523-.312.6.6 0 0 0-.346.1.65.65 0 0 0-.223.255.74.74 0 0 0-.079.338v.193c0 .165.029.305.086.42.057.113.137.2.24.26a.701.701 0 0 0 .356.087.728.728 0 0 0 .239-.037.511.511 0 0 0 .186-.113.526.526 0 0 0 .121-.19l.324.09a.734.734 0 0 1-.172.29.84.84 0 0 1-.299.193 1.104 1.104 0 0 1-.399.069Zm2.539.773v-3h.323v.347h.04a3.76 3.76 0 0 1 .102-.145.6.6 0 0 1 .191-.16.683.683 0 0 1 .338-.07c.184 0 .346.046.486.138a.92.92 0 0 1 .328.39c.078.169.118.368.118.597 0 .23-.04.431-.118.6a.935.935 0 0 1-.327.393.854.854 0 0 1-.481.137.697.697 0 0 1-.337-.07.636.636 0 0 1-.195-.16c-.045-.06-.08-.11-.105-.15h-.028v1.153h-.335Zm.329-1.909c0 .165.024.31.073.436a.653.653 0 0 0 .211.294.55.55 0 0 0 .341.105.55.55 0 0 0 .351-.11.672.672 0 0 0 .213-.302c.048-.127.072-.268.072-.423 0-.153-.023-.292-.071-.415a.642.642 0 0 0-.211-.294.56.56 0 0 0-.354-.11.561.561 0 0 0-.344.105.625.625 0 0 0-.21.287 1.187 1.187 0 0 0-.071.427Zm2.75 1.142a.883.883 0 0 1-.376-.078.643.643 0 0 1-.269-.229.647.647 0 0 1-.099-.363c0-.125.024-.227.074-.304a.522.522 0 0 1 .197-.185c.082-.044.173-.078.273-.1.1-.022.201-.04.302-.053.133-.017.24-.03.323-.039a.5.5 0 0 0 .182-.047c.038-.021.058-.06.058-.113v-.012a.444.444 0 0 0-.115-.326c-.076-.078-.191-.117-.345-.117a.605.605 0 0 0-.377.105.622.622 0 0 0-.192.225l-.318-.114a.764.764 0 0 1 .228-.31.843.843 0 0 1 .312-.156c.114-.03.225-.045.335-.045.07 0 .151.008.242.025.092.016.18.05.265.101a.59.59 0 0 1 .215.232.86.86 0 0 1 .085.415V26h-.335v-.296h-.017a.653.653 0 0 1-.325.29.82.82 0 0 1-.323.057Zm.051-.301a.66.66 0 0 0 .335-.078.537.537 0 0 0 .279-.462v-.307c-.014.018-.046.033-.094.047a1.55 1.55 0 0 1-.165.036 6.889 6.889 0 0 1-.321.042c-.087.012-.168.03-.244.056a.424.424 0 0 0-.182.112.288.288 0 0 0-.068.202.3.3 0 0 0 .129.264.581.581 0 0 0 .331.088Zm1.896-1.063V26h-.335v-2.182h.324v.341h.028c.051-.11.129-.2.233-.267a.726.726 0 0 1 .404-.102c.147 0 .277.03.387.09.111.06.197.151.259.273.061.122.092.275.092.46V26h-.335v-1.364c0-.171-.045-.305-.134-.4a.473.473 0 0 0-.366-.145.585.585 0 0 0-.287.07.497.497 0 0 0-.197.203.663.663 0 0 0-.073.323Zm2.92 1.358c-.211 0-.392-.046-.544-.139a.929.929 0 0 1-.351-.392 1.33 1.33 0 0 1-.122-.588c0-.223.04-.42.122-.59a.964.964 0 0 1 .343-.401.926.926 0 0 1 .517-.145c.114 0 .226.019.337.057a.835.835 0 0 1 .52.52c.054.139.081.31.081.514v.142h-1.682v-.29h1.341a.718.718 0 0 0-.074-.33.554.554 0 0 0-.523-.312.6.6 0 0 0-.346.1.65.65 0 0 0-.223.255.752.752 0 0 0-.078.338v.193c0 .165.028.305.085.42.058.113.138.2.24.26a.702.702 0 0 0 .357.087.722.722 0 0 0 .238-.037.511.511 0 0 0 .186-.113.513.513 0 0 0 .121-.19l.324.09a.711.711 0 0 1-.172.29.835.835 0 0 1-.298.193 1.112 1.112 0 0 1-.399.069Zm1.748-2.954V26h-.335v-2.91h.335Zm2.16 1.216-.302.085a.53.53 0 0 0-.083-.146.413.413 0 0 0-.148-.12.54.54 0 0 0-.24-.047.572.572 0 0 0-.334.093c-.088.06-.132.138-.132.231 0 .084.03.15.091.198.06.048.155.088.284.12l.324.08c.195.048.34.12.436.218a.507.507 0 0 1 .143.373.554.554 0 0 1-.108.335.713.713 0 0 1-.298.233 1.089 1.089 0 0 1-.446.085.978.978 0 0 1-.552-.144.639.639 0 0 1-.277-.424l.318-.08c.03.118.087.206.172.265a.575.575 0 0 0 .333.088.625.625 0 0 0 .373-.1c.092-.067.139-.147.139-.24a.254.254 0 0 0-.08-.191.505.505 0 0 0-.244-.117l-.364-.085c-.2-.047-.346-.12-.44-.22a.532.532 0 0 1-.139-.377.54.54 0 0 1 .103-.326.716.716 0 0 1 .286-.223c.121-.054.258-.081.412-.081.216 0 .385.047.508.142.124.095.213.22.265.375Zm1.788.239c0-.358.047-.688.14-.988.093-.3.227-.578.4-.83h.296a1.75 1.75 0 0 0-.192.346 4.068 4.068 0 0 0-.26.956 3.627 3.627 0 0 0 .028 1.201c.044.232.103.448.176.647.074.199.157.36.248.486h-.296a3.068 3.068 0 0 1-.4-.83 3.337 3.337 0 0 1-.14-.988Zm2.307 1.494c-.187 0-.354-.032-.501-.097a.857.857 0 0 1-.348-.268.719.719 0 0 1-.139-.402h.358c.007.093.04.174.096.243.057.067.132.119.223.156a.815.815 0 0 0 .306.055.796.796 0 0 0 .332-.065.536.536 0 0 0 .227-.182.455.455 0 0 0 .083-.27.507.507 0 0 0-.313-.476.903.903 0 0 0-.375-.07h-.233v-.312h.233c.116 0 .217-.02.304-.062a.474.474 0 0 0 .282-.443.488.488 0 0 0-.066-.258.446.446 0 0 0-.184-.17.602.602 0 0 0-.279-.061c-.1 0-.195.018-.284.055a.53.53 0 0 0-.216.158.412.412 0 0 0-.091.247h-.341a.696.696 0 0 1 .138-.4.868.868 0 0 1 .338-.27c.14-.065.294-.097.462-.097.18 0 .334.037.463.11a.748.748 0 0 1 .4.669.653.653 0 0 1-.477.66v.021c.184.03.327.109.431.235.103.125.154.28.154.464 0 .158-.043.3-.129.426a.88.88 0 0 1-.349.296 1.139 1.139 0 0 1-.505.108Zm2.286-1.494c0 .357-.047.687-.141.988-.092.3-.225.577-.399.83h-.295a1.8 1.8 0 0 0 .19-.347c.06-.136.112-.286.156-.449a4.123 4.123 0 0 0 .142-1.023c0-.225-.021-.454-.065-.686a3.876 3.876 0 0 0-.176-.646 2.031 2.031 0 0 0-.247-.486h.295c.174.253.307.53.399.831.094.3.141.63.141.988Z",fill:"#fff"})),j||(j=Q.createElement("path",{fill:"#000C18",stroke:"#2B2B4A",d:"M279.5 46.5h29v13h-29z"})),B||(B=Q.createElement("rect",{x:283,y:51,width:7,height:4,rx:2,fill:"#fff"})),W||(W=Q.createElement("rect",{x:294,y:51,width:12,height:4,rx:2,fill:"#fff"})),F||(F=Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M305.344 61.265a.295.295 0 0 0-.017-.495l-4.147-2.48a.295.295 0 0 0-.441.31l.912 4.744c.04.21.284.309.459.186l.662-.463a.296.296 0 0 0 .12-.298l-.29-1.508a.296.296 0 0 1 .442-.309l1.318.788c.1.06.226.055.321-.011l.661-.464Z",fill:"#fff"})),Z||(Z=Q.createElement("path",{stroke:"#fff",strokeDasharray:"0.25 0.25",d:"M304.5 62.5h4v2h-4z"})),J||(J=Q.createElement("path",{fill:"#E1E1E1",fillOpacity:.25,d:"M157 153h76v47h-76z"})),$||($=Q.createElement("path",{fill:"#000C18",stroke:"#2B2B4A",d:"M180.5 163.5h29v13h-29z"})),U||(U=Q.createElement("rect",{x:184,y:168,width:7,height:4,rx:2,fill:"#fff"})),X||(X=Q.createElement("rect",{x:195,y:168,width:12,height:4,rx:2,fill:"#fff"})),Y||(Y=Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M194.344 176.265a.295.295 0 0 0-.017-.495l-4.147-2.48a.295.295 0 0 0-.441.31l.912 4.744c.04.21.284.309.459.186l.662-.463a.296.296 0 0 0 .12-.298l-.29-1.508a.296.296 0 0 1 .442-.309l1.318.788c.1.06.226.055.321-.011l.661-.464Z",fill:"#fff"})),K||(K=Q.createElement("path",{stroke:"#fff",strokeDasharray:"0.25 0.25",d:"M193.5 177.5h4v2h-4z"})))}},7885:(e,t,i)=>{i.d(t,{Z:()=>ge});var n,s,o,r,a,h,l,d,p,c,m,u,v,g,f,w,_,b,D,x,C,y,E,z,S,A,P,I,N,V,M,G,O,k,R,L,H,T,j,B,W,F,Z,J,$,U,X,Y,K,Q,q,ee,te,ie,ne,se,oe,re,ae,he,le,de,pe,ce,me,ue=i(6204);function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ve.apply(this,arguments)}const ge=e=>{let{title:t,titleId:i,...ge}=e;return ue.createElement("svg",ve({width:312,height:200,viewBox:"0 0 312 200",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":i},ge),t?ue.createElement("title",{id:i},t):null,n||(n=ue.createElement("rect",{width:311.504,height:200,rx:5,fill:"#fff"})),s||(s=ue.createElement("path",{d:"M0 5a5 5 0 0 1 5-5h302a5 5 0 0 1 5 5v6H0V5Z",fill:"#DCDCDC"})),o||(o=ue.createElement("path",{fill:"#BABABA",d:"M0 10h312v1H0z"})),r||(r=ue.createElement("path",{fill:"#A8A8A8",d:"M0 11h156v189H0z"})),a||(a=ue.createElement("path",{fill:"#000C18",d:"M188 11h124v91H188zM188 102h124v98H188zM0 24h187v176H0z"})),h||(h=ue.createElement("path",{fill:"#2B2B4A",d:"M188 102h124v1H188zM188 11h-1v189h1z"})),l||(l=ue.createElement("path",{fill:"#1C1C2A",d:"M0 11h187v14H0z"})),d||(d=ue.createElement("path",{fill:"#10192C",d:"M0 11h35.962v14H0zM37.16 11h35.962v14H37.16z"})),p||(p=ue.createElement("path",{fill:"#000C18",d:"M74.32 11h35.962v14H74.32z"})),c||(c=ue.createElement("path",{fill:"#2B2B4A",d:"M35.962 11h1.199v14h-1.199zM73.122 11h1.199v14h-1.199zM110.282 11h1.199v14h-1.199z"})),m||(m=ue.createElement("path",{fill:"#1C1C2A",d:"M188 11h124v14H188z"})),u||(u=ue.createElement("path",{fill:"#10192C",d:"M188 11h30v14h-30z"})),v||(v=ue.createElement("path",{fill:"#000C18",d:"M219 11h30v14h-30z"})),g||(g=ue.createElement("path",{fill:"#2B2B4A",d:"M218 11h1v14h-1zM249 11h1v14h-1z"})),f||(f=ue.createElement("path",{fill:"#1C1C2A",d:"M188 103h124v14H188z"})),w||(w=ue.createElement("path",{fill:"#10192C",d:"M188 103h24v14h-24z"})),_||(_=ue.createElement("path",{fill:"#000C18",d:"M212 103h24v14h-24z"})),b||(b=ue.createElement("path",{fill:"#2B2B4A",d:"M212 103h.503v14H212zM236 103h.503v14H236z"})),D||(D=ue.createElement("path",{d:"M76 18a2 2 0 0 1 2-2h3a2 2 0 1 1 0 4h-3a2 2 0 0 1-2-2Z",fill:"#fff"})),x||(x=ue.createElement("rect",{x:85,y:16,width:12,height:4,rx:2,fill:"#fff"})),C||(C=ue.createElement("rect",{x:222,y:16,width:12,height:4,rx:2,fill:"#777"})),y||(y=ue.createElement("rect",{x:214,y:108,width:7,height:4,rx:2,fill:"#777"})),E||(E=ue.createElement("rect",{x:222,y:108,width:11,height:4,rx:2,fill:"#777"})),z||(z=ue.createElement("rect",{x:237,y:16,width:4,height:4,rx:2,fill:"#777"})),S||(S=ue.createElement("rect",{x:191,y:16,width:5,height:4,rx:2,fill:"#282828"})),A||(A=ue.createElement("rect",{x:197,y:16,width:16,height:4,rx:2,fill:"#282828"})),P||(P=ue.createElement("rect",{x:191,y:108,width:16,height:4,rx:2,fill:"#282828"})),I||(I=ue.createElement("path",{d:"M39 18a2 2 0 0 1 2-2h11a2 2 0 1 1 0 4H41a2 2 0 0 1-2-2Z",fill:"#777"})),N||(N=ue.createElement("rect",{x:4,y:3,width:4,height:4,rx:2,fill:"#FD605E"})),V||(V=ue.createElement("rect",{x:10,y:3,width:4,height:4,rx:2,fill:"#FBBC3F"})),M||(M=ue.createElement("rect",{x:16,y:3,width:4,height:4,rx:2,fill:"#34C942"})),G||(G=ue.createElement("rect",{x:2,y:16,width:6,height:4,rx:2,fill:"#777"})),O||(O=ue.createElement("rect",{x:10,y:16,width:18,height:4,rx:2,fill:"#777"})),k||(k=ue.createElement("path",{fill:"#10192C",d:"M173 11h14v14h-14z"})),R||(R=ue.createElement("circle",{cx:176,cy:18,r:1,transform:"rotate(-90 176 18)",fill:"#fff"})),L||(L=ue.createElement("circle",{cx:184,cy:18,r:1,transform:"rotate(-90 184 18)",fill:"#fff"})),H||(H=ue.createElement("circle",{cx:180,cy:18,r:1,transform:"rotate(-90 180 18)",fill:"#fff"})),T||(T=ue.createElement("path",{fill:"#10192C",d:"M298 11h14v14h-14z"})),j||(j=ue.createElement("circle",{cx:301,cy:18,r:1,transform:"rotate(-90 301 18)",fill:"#fff"})),B||(B=ue.createElement("circle",{cx:309,cy:18,r:1,transform:"rotate(-90 309 18)",fill:"#fff"})),W||(W=ue.createElement("circle",{cx:305,cy:18,r:1,transform:"rotate(-90 305 18)",fill:"#fff"})),F||(F=ue.createElement("path",{fill:"#10192C",d:"M111 11h14v14h-14z"})),Z||(Z=ue.createElement("rect",{x:117.333,y:14,width:1.333,height:8,rx:.667,fill:"#fff"})),J||(J=ue.createElement("rect",{x:114,y:18.666,width:1.333,height:8,rx:.667,transform:"rotate(-90 114 18.666)",fill:"#fff"})),$||($=ue.createElement("path",{fill:"#10192C",d:"M298 103h14v14h-14z"})),U||(U=ue.createElement("circle",{cx:301,cy:110,r:1,transform:"rotate(-90 301 110)",fill:"#fff"})),X||(X=ue.createElement("circle",{cx:309,cy:110,r:1,transform:"rotate(-90 309 110)",fill:"#fff"})),Y||(Y=ue.createElement("circle",{cx:305,cy:110,r:1,transform:"rotate(-90 305 110)",fill:"#fff"})),K||(K=ue.createElement("path",{fill:"#10192C",d:"M285 103h14v14h-14z"})),Q||(Q=ue.createElement("rect",{x:288.5,y:106.5,width:7,height:7,rx:1.5,stroke:"#fff"})),q||(q=ue.createElement("path",{fill:"#fff",d:"M288 109h8v2h-8z"})),ee||(ee=ue.createElement("g",{opacity:.35},ue.createElement("path",{fill:"#000C18",d:"M40 45h128.769v91H40z"}),ue.createElement("path",{fill:"#2B2B4A",d:"M40 136h128.769v1H40z"}),ue.createElement("path",{fill:"#1C1C2A",d:"M40 45h128.769v14H40z"}),ue.createElement("path",{fill:"#10192C",d:"M40 45h31.154v14H40z"}),ue.createElement("path",{fill:"#000C18",d:"M72.192 45h31.154v14H72.192z"}),ue.createElement("path",{fill:"#2B2B4A",d:"M71.154 45h1.038v14h-1.038zM40 45h1v92h-1zM168 45h1v92h-1zM103.346 45h1.038v14h-1.038z"}),ue.createElement("rect",{x:75.308,y:50,width:12.461,height:4,rx:2,fill:"#777"}),ue.createElement("rect",{x:90.885,y:50,width:4.154,height:4,rx:2,fill:"#777"}),ue.createElement("rect",{x:43.115,y:50,width:5.192,height:4,rx:2,fill:"#282828"}),ue.createElement("rect",{x:49.346,y:50,width:16.615,height:4,rx:2,fill:"#282828"}),ue.createElement("path",{fill:"#2B2B4A",d:"M40 45h128.769v1H40z"}))),te||(te=ue.createElement("path",{fill:"#000C18",d:"M29 54h128.769v91H29z"})),ie||(ie=ue.createElement("path",{fill:"#2B2B4A",d:"M29 145h128.769v1H29z"})),ne||(ne=ue.createElement("path",{fill:"#1C1C2A",d:"M29 54h128.769v14H29z"})),se||(se=ue.createElement("path",{fill:"#10192C",d:"M29 54h31.154v14H29z"})),oe||(oe=ue.createElement("path",{fill:"#000C18",d:"M61.192 54h31.154v14H61.192z"})),re||(re=ue.createElement("path",{fill:"#2B2B4A",d:"M60.154 54h1.038v14h-1.038zM29 54h1v92h-1zM157 54h1v92h-1zM92.346 54h1.038v14h-1.038z"})),ae||(ae=ue.createElement("rect",{x:64.308,y:59,width:12.461,height:4,rx:2,fill:"#777"})),he||(he=ue.createElement("rect",{x:79.885,y:59,width:4.154,height:4,rx:2,fill:"#777"})),le||(le=ue.createElement("rect",{x:32.115,y:59,width:5.192,height:4,rx:2,fill:"#282828"})),de||(de=ue.createElement("rect",{x:38.346,y:59,width:16.615,height:4,rx:2,fill:"#282828"})),pe||(pe=ue.createElement("path",{fill:"#2B2B4A",d:"M29 54h128.769v1H29z"})),ce||(ce=ue.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M128.344 61.265a.295.295 0 0 0-.017-.495l-4.147-2.48a.295.295 0 0 0-.441.31l.912 4.744c.04.21.284.309.459.186l.662-.463a.296.296 0 0 0 .12-.298l-.29-1.508a.296.296 0 0 1 .442-.309l1.318.788c.1.06.226.055.321-.011l.661-.464Z",fill:"#fff"})),me||(me=ue.createElement("path",{stroke:"#fff",strokeDasharray:"0.25 0.25",d:"M127.5 62.5h4v2h-4z"})))}},2614:(e,t,i)=>{i.d(t,{Z:()=>L});var n,s,o,r,a,h,l,d,p,c,m,u,v,g,f,w,_,b,D,x,C,y,E,z,S,A,P,I,N,V,M,G,O,k=i(6204);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},R.apply(this,arguments)}const L=e=>{let{title:t,titleId:i,...L}=e;return k.createElement("svg",R({width:312,height:200,viewBox:"0 0 312 200",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":i},L),t?k.createElement("title",{id:i},t):null,n||(n=k.createElement("path",{d:"M0 5a5 5 0 0 1 5-5h302a5 5 0 0 1 5 5v6H0V5Z",fill:"#DCDCDC"})),s||(s=k.createElement("path",{fill:"#BABABA",d:"M0 10h312v1H0z"})),o||(o=k.createElement("rect",{x:4,y:3,width:4,height:4,rx:2,fill:"#FD605E"})),r||(r=k.createElement("rect",{x:10,y:3,width:4,height:4,rx:2,fill:"#FBBC3F"})),a||(a=k.createElement("rect",{x:16,y:3,width:4,height:4,rx:2,fill:"#34C942"})),h||(h=k.createElement("path",{fill:"#D9D9D9",d:"M0 11h312v189H0z"})),l||(l=k.createElement("path",{fill:"#000C18",d:"M0 11h166v189H0zM167 11h145v189H167z"})),d||(d=k.createElement("path",{fill:"#2B2B4A",d:"M166 11h1v189h-1zM167 56h145v1H167zM167 112h145v1H167z"})),p||(p=k.createElement("path",{fill:"#1C1C2A",d:"M0 11h166v10H0zM0 22h166v10H0zM0 94h166v10H0zM0 190h166v10H0z"})),c||(c=k.createElement("path",{fill:"#2B2B4A",d:"M0 21h166v1H0z"})),m||(m=k.createElement("rect",{x:11,y:14,width:21,height:4,rx:2,fill:"#fff"})),u||(u=k.createElement("rect",{x:34,y:14,width:11,height:4,rx:2,fill:"#fff"})),v||(v=k.createElement("rect",{x:11,y:25,width:6,height:4,rx:2,fill:"#fff"})),g||(g=k.createElement("rect",{x:19,y:25,width:11,height:4,rx:2,fill:"#fff"})),f||(f=k.createElement("rect",{x:11,y:97,width:16,height:4,rx:2,fill:"#fff"})),w||(w=k.createElement("rect",{x:29,y:97,width:5,height:4,rx:2,fill:"#fff"})),_||(_=k.createElement("rect",{x:11,y:193,width:14,height:4,rx:2,fill:"#fff"})),b||(b=k.createElement("path",{d:"m5 29-3-3.392.538-.608L5 27.799l2.463-2.785.537.608L5 29ZM5 101l-3-3.392.538-.608L5 99.799l2.463-2.785.537.608L5 101ZM6 16l-3.392 3L2 18.462 4.799 16l-2.785-2.463.608-.537L6 16ZM6 195l-3.392 3-.608-.537L4.799 195l-2.785-2.462.608-.538L6 195Z",fill:"#fff"})),D||(D=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M212.674 111c.236 0 .394-.221.297-.416l-2.174-4.409c-.115-.233-.479-.233-.594 0l-2.174 4.409c-.097.195.061.416.297.416h.889a.327.327 0 0 0 .297-.175l.691-1.401c.115-.233.479-.233.594 0l.691 1.401a.327.327 0 0 0 .297.175h.889ZM208.326 114c-.236 0-.394.221-.297.416l2.174 4.409c.115.233.479.233.594 0l2.174-4.409c.097-.195-.061-.416-.297-.416h-.889a.327.327 0 0 0-.297.175l-.691 1.401c-.115.233-.479.233-.594 0l-.691-1.401a.327.327 0 0 0-.297-.175h-.889Z",fill:"#fff"})),x||(x=k.createElement("path",{stroke:"#fff",d:"M210.5 116v-7"})),C||(C=k.createElement("rect",{x:175,y:18,width:20,height:19,rx:2,fill:"#777"})),y||(y=k.createElement("rect",{x:198,y:18,width:5,height:5,rx:2,fill:"#777"})),E||(E=k.createElement("rect",{x:206,y:18,width:26,height:5,rx:2,fill:"#777"})),z||(z=k.createElement("rect",{x:203,y:71,width:44,height:5,rx:2,fill:"#777"})),S||(S=k.createElement("rect",{x:228,y:78,width:44,height:14,rx:2,fill:"#777"})),A||(A=k.createElement("rect",{x:250,y:71,width:22,height:5,rx:2,fill:"#777"})),P||(P=k.createElement("rect",{x:239,y:95,width:33,height:5,rx:2,fill:"#777"})),I||(I=k.createElement("rect",{x:272,y:117,width:33,height:5,rx:2,fill:"#777"})),N||(N=k.createElement("rect",{x:259,y:117,width:7,height:5,rx:2,fill:"#777"})),V||(V=k.createElement("rect",{x:213,y:95,width:23,height:5,rx:2,fill:"#777"})),M||(M=k.createElement("rect",{x:203,y:95,width:8,height:5,rx:2,fill:"#777"})),G||(G=k.createElement("rect",{x:198,y:25,width:15,height:5,rx:2,fill:"#777"})),O||(O=k.createElement("rect",{x:215,y:25,width:18,height:5,rx:2,fill:"#777"})))}}}]);
//# sourceMappingURL=1df93b7f.d64e1f4f.js.map