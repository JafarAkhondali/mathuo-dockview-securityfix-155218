{"version":3,"file":"assets/js/e7b9eaa7.22f31133.js","mappings":"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,EAAe,WACfC,EAAW,CACtB,GAAM,sBACN,MAAS,WACT,YAAe,yBACf,OAAU,6DACV,cAAiB,aACjB,KAAQ,uBACR,UAAa,4BACb,OAAS,EACT,UAAY,EACZ,QAAW,oJACX,KAAQ,GACR,QAAW,QACX,YAAe,CACb,YAAe,0BAEjB,QAAW,kBACX,SAAY,CACV,MAAS,aACT,UAAa,6BAEf,KAAQ,CACN,MAAS,WACT,UAAa,8BAGJC,EAAS,CAEtB,EAiCaC,EAAM,CAAC,CAClB,MAAS,eACT,GAAM,eACN,MAAS,GACR,CACD,MAAS,0BACT,GAAM,0BACN,MAAS,GACR,CACD,MAAS,eACT,GAAM,eACN,MAAS,GACR,CACD,MAAS,qBACT,GAAM,qBACN,MAAS,GACR,CACD,MAAS,QACT,GAAM,QACN,MAAS,GACR,CACD,MAAS,qBACT,GAAM,qBACN,MAAS,GACR,CACD,MAAS,WACT,GAAM,WACN,MAAS,GACR,CACD,MAAS,iBACT,GAAM,iBACN,MAAS,GACR,CACD,MAAS,qBACT,GAAM,qBACN,MAAS,GACR,CACD,MAAS,YACT,GAAM,YACN,MAAS,GACR,CACD,MAAS,gBACT,GAAM,gBACN,MAAS,GACR,CACD,MAAS,sBACT,GAAM,sBACN,MAAS,GACR,CACD,MAAS,sBACT,GAAM,sBACN,MAAS,GACR,CACD,MAAS,2BACT,GAAM,2BACN,MAAS,GACR,CACD,MAAS,4BACT,GAAM,4BACN,MAAS,GACR,CACD,MAAS,kBACT,GAAM,kBACN,MAAS,GACR,CACD,MAAS,SACT,GAAM,SACN,MAAS,GACR,CACD,MAAS,YACT,GAAM,YACN,MAAS,GACR,CACD,MAAS,eACT,GAAM,eACN,MAAS,GACR,CACD,MAAS,aACT,GAAM,aACN,MAAS,GACR,CACD,MAAS,eACT,GAAM,eACN,MAAS,GACR,CACD,MAAS,kBACT,GAAM,kBACN,MAAS,GACR,CACD,MAAS,UACT,GAAM,UACN,MAAS,GACR,CACD,MAAS,qBACT,GAAM,qBACN,MAAS,GACR,CACD,MAAS,oBACT,GAAM,oBACN,MAAS,GACR,CACD,MAAS,mBACT,GAAM,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","sources":["webpack://dockview-docs/../dockview-core/src/dnd/dataTransfer.ts","webpack://dockview-docs/../dockview-core/src/events.ts","webpack://dockview-docs/../dockview-core/src/lifecycle.ts","webpack://dockview-docs/../dockview-core/src/dom.ts","webpack://dockview-docs/../dockview-core/src/array.ts","webpack://dockview-docs/../dockview-core/src/math.ts","webpack://dockview-docs/../dockview-core/src/splitview/viewItem.ts","webpack://dockview-docs/../dockview-core/src/splitview/splitview.ts","webpack://dockview-docs/../dockview-core/src/paneview/paneview.ts","webpack://dockview-docs/../dockview-core/src/gridview/leafNode.ts","webpack://dockview-docs/../dockview-core/src/gridview/branchNode.ts","webpack://dockview-docs/../dockview-core/src/gridview/gridview.ts","webpack://dockview-docs/../dockview-core/src/api/component.api.ts","webpack://dockview-docs/../dockview-core/src/dnd/dnd.ts","webpack://dockview-docs/../dockview-core/src/dnd/droptarget.ts","webpack://dockview-docs/../dockview-core/src/dockview/types.ts","webpack://dockview-docs/../dockview-core/src/dockview/components/panel/content.ts","webpack://dockview-docs/../dockview-core/src/dnd/abstractDragHandler.ts","webpack://dockview-docs/../dockview-core/src/dockview/components/tab/tab.ts","webpack://dockview-docs/../dockview-core/src/dnd/groupDragHandler.ts","webpack://dockview-docs/../dockview-core/src/dnd/ghost.ts","webpack://dockview-docs/../dockview-core/src/dockview/components/titlebar/voidContainer.ts","webpack://dockview-docs/../dockview-core/src/dockview/components/titlebar/tabsContainer.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewGroupPanelModel.ts","webpack://dockview-docs/../dockview-core/src/resizable.ts","webpack://dockview-docs/../dockview-core/src/gridview/baseComponentGridview.ts","webpack://dockview-docs/../dockview-core/src/api/panelApi.ts","webpack://dockview-docs/../dockview-core/src/api/splitviewPanelApi.ts","webpack://dockview-docs/../dockview-core/src/api/paneviewPanelApi.ts","webpack://dockview-docs/../dockview-core/src/gridview/basePanelView.ts","webpack://dockview-docs/../dockview-core/src/paneview/paneviewPanel.ts","webpack://dockview-docs/../dockview-core/src/paneview/draggablePaneviewPanel.ts","webpack://dockview-docs/../dockview-core/src/api/gridviewPanelApi.ts","webpack://dockview-docs/../dockview-core/src/gridview/gridviewPanel.ts","webpack://dockview-docs/../dockview-core/src/api/dockviewGroupPanelApi.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewGroupPanel.ts","webpack://dockview-docs/../dockview-core/src/api/dockviewPanelApi.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewPanel.ts","webpack://dockview-docs/../dockview-core/src/svg.ts","webpack://dockview-docs/../dockview-core/src/dockview/components/tab/defaultTab.ts","webpack://dockview-docs/../dockview-core/src/panel/componentFactory.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewPanelModel.ts","webpack://dockview-docs/../dockview-core/src/dockview/deserializer.ts","webpack://dockview-docs/../dockview-core/src/dockview/components/watermark/watermark.ts","webpack://dockview-docs/../dockview-core/src/dnd/overlay.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewFloatingGroupPanel.ts","webpack://dockview-docs/../dockview-core/src/popoutWindow.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewPopoutGroupPanel.ts","webpack://dockview-docs/../dockview-core/src/constants.ts","webpack://dockview-docs/../dockview-core/src/overlayRenderContainer.ts","webpack://dockview-docs/../dockview-core/src/dockview/dockviewComponent.ts","webpack://dockview-docs/../dockview-core/src/dockview/options.ts","webpack://dockview-docs/../dockview-core/src/gridview/gridviewComponent.ts","webpack://dockview-docs/../dockview-core/src/splitview/splitviewComponent.ts","webpack://dockview-docs/../dockview-core/src/paneview/defaultPaneviewHeader.ts","webpack://dockview-docs/../dockview-core/src/paneview/paneviewComponent.ts","webpack://dockview-docs/../dockview-core/src/splitview/splitviewPanel.ts","webpack://dockview-docs/../dockview/src/react.ts","webpack://dockview-docs/../dockview/src/dockview/reactContentPart.ts","webpack://dockview-docs/../dockview/src/dockview/reactHeaderPart.ts","webpack://dockview-docs/../dockview/src/dockview/reactWatermarkPart.ts","webpack://dockview-docs/../dockview/src/dockview/headerActionsRenderer.ts","webpack://dockview-docs/../dockview/src/dockview/dockview.tsx","webpack://dockview-docs/../dockview/src/svg.tsx","webpack://dockview-docs/../dockview/src/dockview/defaultTab.tsx","webpack://dockview-docs/../dockview/src/splitview/view.ts","webpack://dockview-docs/../dockview/src/splitview/splitview.tsx","webpack://dockview-docs/../dockview/src/gridview/view.ts","webpack://dockview-docs/../dockview/src/gridview/gridview.tsx","webpack://dockview-docs/../dockview/src/paneview/view.tsx","webpack://dockview-docs/../dockview/src/paneview/paneview.tsx","webpack://dockview-docs/./sandboxes/constraints-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/customheader-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/dnd-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/events-dockview/src/console.tsx","webpack://dockview-docs/./sandboxes/events-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/externaldnd-dockview/src/treeview.tsx","webpack://dockview-docs/./sandboxes/externaldnd-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/floatinggroup-dockview/src/utils.tsx","webpack://dockview-docs/./sandboxes/floatinggroup-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/fullwidthtab-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/headeractions-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/iframe-dockview/src/hoistedDockviewPanel.tsx","webpack://dockview-docs/./sandboxes/iframe-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/javascript/fullwidthtab-dockview/src/app.ts","webpack://dockview-docs/./sandboxes/javascript/simple-dockview/src/app.ts","webpack://dockview-docs/./sandboxes/javascript/tabheight-dockview/src/app.ts","webpack://dockview-docs/./sandboxes/javascript/vanilla-dockview/src/app.ts","webpack://dockview-docs/./sandboxes/keyboard-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/layout-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/lockedgroup-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/nativeapp-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/nested-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/rendering-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/resize-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/resizecontainer-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/simple-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/tabheight-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/updatetitle-dockview/src/app.tsx","webpack://dockview-docs/./sandboxes/watermark-dockview/src/app.tsx","webpack://dockview-docs/./src/components/ui/codeSandboxButton.tsx","webpack://dockview-docs/./src/components/ui/spinner.tsx","webpack://dockview-docs/./src/components/ui/container.tsx","webpack://dockview-docs/./src/components/ui/reference/docRef.tsx","webpack://dockview-docs/./versioned_docs/version-1.8.4/components/dockview.mdx"],"sourcesContent":["class TransferObject {}\n\nexport class PanelTransfer extends TransferObject {\n    constructor(\n        public readonly viewId: string,\n        public readonly groupId: string,\n        public readonly panelId: string | null\n    ) {\n        super();\n    }\n}\n\nexport class PaneTransfer extends TransferObject {\n    constructor(\n        public readonly viewId: string,\n        public readonly paneId: string\n    ) {\n        super();\n    }\n}\n\n/**\n * A singleton to store transfer data during drag & drop operations that are only valid within the application.\n */\nexport class LocalSelectionTransfer<T> {\n    private static readonly INSTANCE = new LocalSelectionTransfer();\n\n    private data?: T[];\n    private proto?: T;\n\n    private constructor() {\n        // protect against external instantiation\n    }\n\n    static getInstance<T>(): LocalSelectionTransfer<T> {\n        return LocalSelectionTransfer.INSTANCE as LocalSelectionTransfer<T>;\n    }\n\n    hasData(proto: T): boolean {\n        return proto && proto === this.proto;\n    }\n\n    clearData(proto: T): void {\n        if (this.hasData(proto)) {\n            this.proto = undefined;\n            this.data = undefined;\n        }\n    }\n\n    getData(proto: T): T[] | undefined {\n        if (this.hasData(proto)) {\n            return this.data;\n        }\n\n        return undefined;\n    }\n\n    setData(data: T[], proto: T): void {\n        if (proto) {\n            this.data = data;\n            this.proto = proto;\n        }\n    }\n}\n\nexport function getPanelData(): PanelTransfer | undefined {\n    const panelTransfer = LocalSelectionTransfer.getInstance<PanelTransfer>();\n    const isPanelEvent = panelTransfer.hasData(PanelTransfer.prototype);\n\n    if (!isPanelEvent) {\n        return undefined;\n    }\n\n    return panelTransfer.getData(PanelTransfer.prototype)![0];\n}\n\nexport function getPaneData(): PaneTransfer | undefined {\n    const paneTransfer = LocalSelectionTransfer.getInstance<PaneTransfer>();\n    const isPanelEvent = paneTransfer.hasData(PaneTransfer.prototype);\n\n    if (!isPanelEvent) {\n        return undefined;\n    }\n\n    return paneTransfer.getData(PaneTransfer.prototype)![0];\n}\n","import { IDisposable } from './lifecycle';\n\nexport interface Event<T> {\n    (listener: (e: T) => any): IDisposable;\n}\n\nexport interface EmitterOptions {\n    readonly replay?: boolean;\n}\n\nexport namespace Event {\n    export const any = <T>(...children: Event<T>[]): Event<T> => {\n        return (listener: (e: T) => void) => {\n            const disposables = children.map((child) => child(listener));\n\n            return {\n                dispose: () => {\n                    disposables.forEach((d) => {\n                        d.dispose();\n                    });\n                },\n            };\n        };\n    };\n}\n\nclass LeakageMonitor {\n    readonly events = new Map<Event<any>, Stacktrace>();\n\n    get size(): number {\n        return this.events.size;\n    }\n\n    add<T>(event: Event<T>, stacktrace: Stacktrace): void {\n        this.events.set(event, stacktrace);\n    }\n\n    delete<T>(event: Event<T>): void {\n        this.events.delete(event);\n    }\n\n    clear(): void {\n        this.events.clear();\n    }\n}\n\nclass Stacktrace {\n    static create(): Stacktrace {\n        return new Stacktrace(new Error().stack ?? '');\n    }\n\n    private constructor(readonly value: string) {}\n\n    print(): void {\n        console.warn(this.value);\n    }\n}\n\nclass Listener<T> {\n    constructor(\n        readonly callback: (t: T) => void,\n        readonly stacktrace: Stacktrace | undefined\n    ) {}\n}\n\n// relatively simple event emitter taken from https://github.com/microsoft/vscode/blob/master/src/vs/base/common/event.ts\nexport class Emitter<T> implements IDisposable {\n    private _event?: Event<T>;\n\n    private _last?: T;\n    private _listeners: Listener<any>[] = [];\n    private _disposed = false;\n\n    static ENABLE_TRACKING = false;\n    static readonly MEMORY_LEAK_WATCHER = new LeakageMonitor();\n\n    static setLeakageMonitorEnabled(isEnabled: boolean): void {\n        if (isEnabled !== Emitter.ENABLE_TRACKING) {\n            Emitter.MEMORY_LEAK_WATCHER.clear();\n        }\n        Emitter.ENABLE_TRACKING = isEnabled;\n    }\n\n    constructor(private readonly options?: EmitterOptions) {}\n\n    get event(): Event<T> {\n        if (!this._event) {\n            this._event = (callback: (e: T) => void): IDisposable => {\n                if (this.options?.replay && this._last !== undefined) {\n                    callback(this._last);\n                }\n\n                const listener = new Listener(\n                    callback,\n                    Emitter.ENABLE_TRACKING ? Stacktrace.create() : undefined\n                );\n                this._listeners.push(listener);\n\n                return {\n                    dispose: () => {\n                        const index = this._listeners.indexOf(listener);\n                        if (index > -1) {\n                            this._listeners.splice(index, 1);\n                        } else if (Emitter.ENABLE_TRACKING) {\n                            // console.warn(\n                            //     `Listener already disposed`,\n                            //     Stacktrace.create().print()\n                            // );\n                        }\n                    },\n                };\n            };\n\n            if (Emitter.ENABLE_TRACKING) {\n                Emitter.MEMORY_LEAK_WATCHER.add(\n                    this._event,\n                    Stacktrace.create()\n                );\n            }\n        }\n        return this._event;\n    }\n\n    public fire(e: T): void {\n        this._last = e;\n        for (const listener of this._listeners) {\n            listener.callback(e);\n        }\n    }\n\n    public dispose(): void {\n        if (!this._disposed) {\n            this._disposed = true;\n\n            if (this._listeners.length > 0) {\n                if (Emitter.ENABLE_TRACKING) {\n                    queueMicrotask(() => {\n                        // don't check until stack of execution is completed to allow for out-of-order disposals within the same execution block\n                        for (const listener of this._listeners) {\n                            console.warn(listener.stacktrace?.print());\n                        }\n                    });\n                }\n\n                this._listeners = [];\n            }\n\n            if (Emitter.ENABLE_TRACKING && this._event) {\n                Emitter.MEMORY_LEAK_WATCHER.delete(this._event);\n            }\n        }\n    }\n}\n\nexport function addDisposableWindowListener<K extends keyof WindowEventMap>(\n    element: Window,\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n): IDisposable {\n    element.addEventListener(type, listener, options);\n\n    return {\n        dispose: () => {\n            element.removeEventListener(type, listener, options);\n        },\n    };\n}\n\nexport function addDisposableListener<K extends keyof HTMLElementEventMap>(\n    element: HTMLElement,\n    type: K,\n    listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n): IDisposable {\n    element.addEventListener(type, listener, options);\n\n    return {\n        dispose: () => {\n            element.removeEventListener(type, listener, options);\n        },\n    };\n}\n\nexport class TickDelayedEvent implements IDisposable {\n    private timer: any;\n\n    private readonly _onFired = new Emitter<void>();\n    readonly onEvent = this._onFired.event;\n\n    fire(): void {\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n        this.timer = setTimeout(() => {\n            this._onFired.fire();\n            clearTimeout(this.timer);\n        });\n    }\n\n    dispose(): void {\n        this._onFired.dispose();\n    }\n}\n","export interface IDisposable {\n    dispose: () => void;\n}\n\nexport interface IValueDisposable<T> {\n    readonly value: T;\n    readonly disposable: IDisposable;\n}\n\nexport namespace Disposable {\n    export const NONE: IDisposable = {\n        dispose: () => {\n            // noop\n        },\n    };\n\n    export function from(func: () => void): IDisposable {\n        return {\n            dispose: () => {\n                func();\n            },\n        };\n    }\n}\n\nexport class CompositeDisposable {\n    private readonly _disposables: IDisposable[];\n    private _isDisposed = false;\n\n    protected get isDisposed(): boolean {\n        return this._isDisposed;\n    }\n\n    constructor(...args: IDisposable[]) {\n        this._disposables = args;\n    }\n\n    public addDisposables(...args: IDisposable[]): void {\n        args.forEach((arg) => this._disposables.push(arg));\n    }\n\n    public dispose(): void {\n        this._disposables.forEach((arg) => arg.dispose());\n\n        this._isDisposed = true;\n    }\n}\n\nexport class MutableDisposable implements IDisposable {\n    private _disposable = Disposable.NONE;\n\n    set value(disposable: IDisposable) {\n        if (this._disposable) {\n            this._disposable.dispose();\n        }\n        this._disposable = disposable;\n    }\n\n    public dispose(): void {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = Disposable.NONE;\n        }\n    }\n}\n","import {\n    Event as DockviewEvent,\n    Emitter,\n    addDisposableListener,\n    addDisposableWindowListener,\n} from './events';\nimport { IDisposable, CompositeDisposable } from './lifecycle';\n\nexport function watchElementResize(\n    element: HTMLElement,\n    cb: (entry: ResizeObserverEntry) => void\n): IDisposable {\n    const observer = new ResizeObserver((entires) => {\n        /**\n         * Fast browser window resize produces Error: ResizeObserver loop limit exceeded.\n         * The error isn't visible in browser console, doesn't affect functionality, but degrades performance.\n         * See https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded/58701523#58701523\n         */\n        requestAnimationFrame(() => {\n            const firstEntry = entires[0];\n            cb(firstEntry);\n        });\n    });\n\n    observer.observe(element);\n\n    return {\n        dispose: () => {\n            observer.unobserve(element);\n            observer.disconnect();\n        },\n    };\n}\n\nexport const removeClasses = (\n    element: HTMLElement,\n    ...classes: string[]\n): void => {\n    for (const classname of classes) {\n        if (element.classList.contains(classname)) {\n            element.classList.remove(classname);\n        }\n    }\n};\n\nexport const addClasses = (\n    element: HTMLElement,\n    ...classes: string[]\n): void => {\n    for (const classname of classes) {\n        if (!element.classList.contains(classname)) {\n            element.classList.add(classname);\n        }\n    }\n};\n\nexport const toggleClass = (\n    element: HTMLElement,\n    className: string,\n    isToggled: boolean\n): void => {\n    const hasClass = element.classList.contains(className);\n    if (isToggled && !hasClass) {\n        element.classList.add(className);\n    }\n    if (!isToggled && hasClass) {\n        element.classList.remove(className);\n    }\n};\n\nexport function isAncestor(\n    testChild: Node | null,\n    testAncestor: Node | null\n): boolean {\n    while (testChild) {\n        if (testChild === testAncestor) {\n            return true;\n        }\n        testChild = testChild.parentNode;\n    }\n\n    return false;\n}\n\nexport function getElementsByTagName(tag: string): HTMLElement[] {\n    return Array.prototype.slice.call(document.getElementsByTagName(tag), 0);\n}\n\nexport interface IFocusTracker extends IDisposable {\n    readonly onDidFocus: DockviewEvent<void>;\n    readonly onDidBlur: DockviewEvent<void>;\n    refreshState?(): void;\n}\n\nexport function trackFocus(element: HTMLElement | Window): IFocusTracker {\n    return new FocusTracker(element);\n}\n\n/**\n * Track focus on an element. Ensure tabIndex is set when an HTMLElement is not focusable by default\n */\nclass FocusTracker extends CompositeDisposable implements IFocusTracker {\n    private readonly _onDidFocus = new Emitter<void>();\n    public readonly onDidFocus: DockviewEvent<void> = this._onDidFocus.event;\n\n    private readonly _onDidBlur = new Emitter<void>();\n    public readonly onDidBlur: DockviewEvent<void> = this._onDidBlur.event;\n\n    private _refreshStateHandler: () => void;\n\n    constructor(element: HTMLElement | Window) {\n        super();\n\n        this.addDisposables(this._onDidFocus, this._onDidBlur);\n\n        let hasFocus = isAncestor(document.activeElement, <HTMLElement>element);\n        let loosingFocus = false;\n\n        const onFocus = () => {\n            loosingFocus = false;\n            if (!hasFocus) {\n                hasFocus = true;\n                this._onDidFocus.fire();\n            }\n        };\n\n        const onBlur = () => {\n            if (hasFocus) {\n                loosingFocus = true;\n                window.setTimeout(() => {\n                    if (loosingFocus) {\n                        loosingFocus = false;\n                        hasFocus = false;\n                        this._onDidBlur.fire();\n                    }\n                }, 0);\n            }\n        };\n\n        this._refreshStateHandler = () => {\n            const currentNodeHasFocus = isAncestor(\n                document.activeElement,\n                <HTMLElement>element\n            );\n            if (currentNodeHasFocus !== hasFocus) {\n                if (hasFocus) {\n                    onBlur();\n                } else {\n                    onFocus();\n                }\n            }\n        };\n\n        if (element instanceof HTMLElement) {\n            this.addDisposables(\n                addDisposableListener(element, 'focus', onFocus, true)\n            );\n            this.addDisposables(\n                addDisposableListener(element, 'blur', onBlur, true)\n            );\n        } else {\n            this.addDisposables(\n                addDisposableWindowListener(element, 'focus', onFocus, true)\n            );\n            this.addDisposables(\n                addDisposableWindowListener(element, 'blur', onBlur, true)\n            );\n        }\n    }\n\n    refreshState(): void {\n        this._refreshStateHandler();\n    }\n}\n\n// quasi: apparently, but not really; seemingly\nconst QUASI_PREVENT_DEFAULT_KEY = 'dv-quasiPreventDefault';\n\n// mark an event directly for other listeners to check\nexport function quasiPreventDefault(event: Event): void {\n    (event as any)[QUASI_PREVENT_DEFAULT_KEY] = true;\n}\n\n// check if this event has been marked\nexport function quasiDefaultPrevented(event: Event): boolean {\n    return (event as any)[QUASI_PREVENT_DEFAULT_KEY];\n}\n\nexport function addStyles(document: Document, styleSheetList: StyleSheetList) {\n    const styleSheets = Array.from(styleSheetList);\n\n    for (const styleSheet of styleSheets) {\n        if (styleSheet.href) {\n            const link = document.createElement('link');\n            link.href = styleSheet.href;\n            link.type = styleSheet.type;\n            link.rel = 'stylesheet';\n            document.head.appendChild(link);\n        }\n\n        let cssTexts: string[] = [];\n\n        try {\n            if (styleSheet.cssRules) {\n                cssTexts = Array.from(styleSheet.cssRules).map(\n                    (rule) => rule.cssText\n                );\n            }\n        } catch (err) {\n            // security errors (lack of permissions), ignore\n        }\n\n        for (const rule of cssTexts) {\n            const style = document.createElement('style');\n            style.appendChild(document.createTextNode(rule));\n            document.head.appendChild(style);\n        }\n    }\n}\n\nexport function getDomNodePagePosition(domNode: Element): {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n} {\n    const { left, top, width, height } = domNode.getBoundingClientRect();\n    return {\n        left: left + window.scrollX,\n        top: top + window.scrollY,\n        width: width,\n        height: height,\n    };\n}\n\n/**\n * Check whether an element is in the DOM (including the Shadow DOM)\n * @see https://terodox.tech/how-to-tell-if-an-element-is-in-the-dom-including-the-shadow-dom/\n */\nexport function isInDocument(element: Element): boolean {\n    let currentElement: Element | ParentNode = element;\n\n    while (currentElement && currentElement.parentNode) {\n        if (currentElement.parentNode === document) {\n            return true;\n        } else if (currentElement.parentNode instanceof DocumentFragment) {\n            // handle shadow DOMs\n            currentElement = (currentElement.parentNode as ShadowRoot).host;\n        } else {\n            currentElement = currentElement.parentNode;\n        }\n    }\n\n    return false;\n}\n","export function tail<T>(arr: T[]): [T[], T] {\n    if (arr.length === 0) {\n        throw new Error('Invalid tail call');\n    }\n\n    return [arr.slice(0, arr.length - 1), arr[arr.length - 1]];\n}\n\nexport function last<T>(arr: T[]): T | undefined {\n    return arr.length > 0 ? arr[arr.length - 1] : undefined;\n}\n\nexport function sequenceEquals<T>(arr1: T[], arr2: T[]): boolean {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * Pushes an element to the start of the array, if found.\n */\nexport function pushToStart<T>(arr: T[], value: T): void {\n    const index = arr.indexOf(value);\n\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.unshift(value);\n    }\n}\n\n/**\n * Pushes an element to the end of the array, if found.\n */\nexport function pushToEnd<T>(arr: T[], value: T): void {\n    const index = arr.indexOf(value);\n\n    if (index > -1) {\n        arr.splice(index, 1);\n        arr.push(value);\n    }\n}\n\nexport function firstIndex<T>(\n    array: T[] | ReadonlyArray<T>,\n    fn: (item: T) => boolean\n): number {\n    for (let i = 0; i < array.length; i++) {\n        const element = array[i];\n\n        if (fn(element)) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n\nexport function remove<T>(array: T[], value: T): boolean {\n    const index = array.findIndex((t) => t === value);\n\n    if (index > -1) {\n        array.splice(index, 1);\n        return true;\n    }\n    return false;\n}\n","export const clamp = (value: number, min: number, max: number): number => {\n    if (min > max) {\n        throw new Error(`${min} > ${max} is an invalid condition`);\n    }\n    return Math.min(max, Math.max(value, min));\n};\n\nexport const sequentialNumberGenerator = (): { next: () => string } => {\n    let value = 1;\n    return { next: () => (value++).toString() };\n};\n\nexport const range = (from: number, to?: number): number[] => {\n    const result: number[] = [];\n\n    if (typeof to !== 'number') {\n        to = from;\n        from = 0;\n    }\n\n    if (from <= to) {\n        for (let i = from; i < to; i++) {\n            result.push(i);\n        }\n    } else {\n        for (let i = from; i > to; i--) {\n            result.push(i);\n        }\n    }\n\n    return result;\n};\n","import { IDisposable } from '../lifecycle';\nimport { clamp } from '../math';\nimport { IView, LayoutPriority } from './splitview';\n\nexport class ViewItem {\n    private _size: number;\n    private _cachedVisibleSize: number | undefined = undefined;\n\n    set size(size: number) {\n        this._size = size;\n    }\n\n    get size(): number {\n        return this._size;\n    }\n\n    get cachedVisibleSize(): number | undefined {\n        return this._cachedVisibleSize;\n    }\n\n    get visible(): boolean {\n        return typeof this._cachedVisibleSize === 'undefined';\n    }\n\n    get minimumSize(): number {\n        return this.visible ? this.view.minimumSize : 0;\n    }\n    get viewMinimumSize(): number {\n        return this.view.minimumSize;\n    }\n\n    get maximumSize(): number {\n        return this.visible ? this.view.maximumSize : 0;\n    }\n    get viewMaximumSize(): number {\n        return this.view.maximumSize;\n    }\n\n    get priority(): LayoutPriority | undefined {\n        return this.view.priority;\n    }\n    get snap(): boolean {\n        return !!this.view.snap;\n    }\n\n    set enabled(enabled: boolean) {\n        this.container.style.pointerEvents = enabled ? '' : 'none';\n    }\n\n    constructor(\n        public container: HTMLElement,\n        public view: IView,\n        size: number | { cachedVisibleSize: number },\n        private disposable: IDisposable\n    ) {\n        if (typeof size === 'number') {\n            this._size = size;\n            this._cachedVisibleSize = undefined;\n            container.classList.add('visible');\n        } else {\n            this._size = 0;\n            this._cachedVisibleSize = size.cachedVisibleSize;\n        }\n    }\n\n    setVisible(visible: boolean, size?: number): void {\n        if (visible === this.visible) {\n            return;\n        }\n\n        if (visible) {\n            this.size = clamp(\n                this._cachedVisibleSize ?? 0,\n                this.viewMinimumSize,\n                this.viewMaximumSize\n            );\n            this._cachedVisibleSize = undefined;\n        } else {\n            this._cachedVisibleSize =\n                typeof size === 'number' ? size : this.size;\n            this.size = 0;\n        }\n\n        this.container.classList.toggle('visible', visible);\n\n        if (this.view.setVisible) {\n            this.view.setVisible(visible);\n        }\n    }\n\n    dispose(): IView {\n        this.disposable.dispose();\n        return this.view;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/splitview\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n    removeClasses,\n    addClasses,\n    toggleClass,\n    getElementsByTagName,\n} from '../dom';\nimport { Event, Emitter } from '../events';\nimport { pushToStart, pushToEnd, firstIndex } from '../array';\nimport { range, clamp } from '../math';\nimport { ViewItem } from './viewItem';\nimport { IDisposable } from '../lifecycle';\n\nexport enum Orientation {\n    HORIZONTAL = 'HORIZONTAL',\n    VERTICAL = 'VERTICAL',\n}\n\nexport enum SashState {\n    MAXIMUM,\n    MINIMUM,\n    DISABLED,\n    ENABLED,\n}\n\nexport interface ISplitviewStyles {\n    separatorBorder: string;\n}\n\nexport interface SplitViewOptions {\n    readonly orientation: Orientation;\n    readonly descriptor?: ISplitViewDescriptor;\n    readonly proportionalLayout?: boolean;\n    readonly styles?: ISplitviewStyles;\n}\n\nexport enum LayoutPriority {\n    Low = 'low', // view is offered space last\n    High = 'high', // view is offered space first\n    Normal = 'normal', // view is offered space in view order\n}\n\nexport interface IBaseView extends IDisposable {\n    minimumSize: number;\n    maximumSize: number;\n    snap?: boolean;\n    priority?: LayoutPriority;\n}\n\nexport interface IView extends IBaseView {\n    readonly element: HTMLElement | DocumentFragment;\n    readonly onDidChange: Event<{ size?: number; orthogonalSize?: number }>;\n    layout(size: number, orthogonalSize: number): void;\n    setVisible(visible: boolean): void;\n}\n\ninterface ISashItem {\n    container: HTMLElement;\n    disposable: () => void;\n}\n\ninterface ISashDragSnapState {\n    readonly index: number;\n    readonly limitDelta: number;\n    readonly size: number;\n}\n\ntype ViewItemSize = number | { cachedVisibleSize: number };\n\nexport type DistributeSizing = { type: 'distribute' };\nexport type SplitSizing = { type: 'split'; index: number };\nexport type InvisibleSizing = { type: 'invisible'; cachedVisibleSize: number };\nexport type Sizing = DistributeSizing | SplitSizing | InvisibleSizing;\n\nexport namespace Sizing {\n    export const Distribute: DistributeSizing = { type: 'distribute' };\n    export function Split(index: number): SplitSizing {\n        return { type: 'split', index };\n    }\n    export function Invisible(cachedVisibleSize: number): InvisibleSizing {\n        return { type: 'invisible', cachedVisibleSize };\n    }\n}\n\nexport interface ISplitViewDescriptor {\n    size: number;\n    views: {\n        visible?: boolean;\n        size: number;\n        view: IView;\n    }[];\n}\n\nexport class Splitview {\n    private element: HTMLElement;\n    private viewContainer: HTMLElement;\n    private sashContainer: HTMLElement;\n    private viewItems: ViewItem[] = [];\n    private sashes: ISashItem[] = [];\n    private _orientation: Orientation;\n    private _size = 0;\n    private _orthogonalSize = 0;\n    private _contentSize = 0;\n    private _proportions: (number | undefined)[] | undefined = undefined;\n    private proportionalLayout: boolean;\n    private _startSnappingEnabled = true;\n    private _endSnappingEnabled = true;\n\n    private readonly _onDidSashEnd = new Emitter<void>();\n    readonly onDidSashEnd = this._onDidSashEnd.event;\n    private readonly _onDidAddView = new Emitter<IView>();\n    readonly onDidAddView = this._onDidAddView.event;\n    private readonly _onDidRemoveView = new Emitter<IView>();\n    readonly onDidRemoveView = this._onDidRemoveView.event;\n\n    get contentSize(): number {\n        return this._contentSize;\n    }\n\n    get size(): number {\n        return this._size;\n    }\n\n    set size(value: number) {\n        this._size = value;\n    }\n\n    get orthogonalSize(): number {\n        return this._orthogonalSize;\n    }\n\n    set orthogonalSize(value: number) {\n        this._orthogonalSize = value;\n    }\n\n    public get length(): number {\n        return this.viewItems.length;\n    }\n\n    public get proportions(): (number | undefined)[] | undefined {\n        return this._proportions ? [...this._proportions] : undefined;\n    }\n\n    get orientation(): Orientation {\n        return this._orientation;\n    }\n\n    set orientation(value: Orientation) {\n        this._orientation = value;\n\n        const tmp = this.size;\n        this.size = this.orthogonalSize;\n        this.orthogonalSize = tmp;\n\n        removeClasses(this.element, 'horizontal', 'vertical');\n        this.element.classList.add(\n            this.orientation == Orientation.HORIZONTAL\n                ? 'horizontal'\n                : 'vertical'\n        );\n    }\n\n    get minimumSize(): number {\n        return this.viewItems.reduce((r, item) => r + item.minimumSize, 0);\n    }\n\n    get maximumSize(): number {\n        return this.length === 0\n            ? Number.POSITIVE_INFINITY\n            : this.viewItems.reduce((r, item) => r + item.maximumSize, 0);\n    }\n\n    get startSnappingEnabled(): boolean {\n        return this._startSnappingEnabled;\n    }\n\n    set startSnappingEnabled(startSnappingEnabled: boolean) {\n        if (this._startSnappingEnabled === startSnappingEnabled) {\n            return;\n        }\n\n        this._startSnappingEnabled = startSnappingEnabled;\n        this.updateSashEnablement();\n    }\n\n    get endSnappingEnabled(): boolean {\n        return this._endSnappingEnabled;\n    }\n\n    set endSnappingEnabled(endSnappingEnabled: boolean) {\n        if (this._endSnappingEnabled === endSnappingEnabled) {\n            return;\n        }\n\n        this._endSnappingEnabled = endSnappingEnabled;\n        this.updateSashEnablement();\n    }\n\n    constructor(\n        private readonly container: HTMLElement,\n        options: SplitViewOptions\n    ) {\n        this._orientation = options.orientation;\n        this.element = this.createContainer();\n\n        this.proportionalLayout =\n            options.proportionalLayout === undefined\n                ? true\n                : !!options.proportionalLayout;\n\n        this.viewContainer = this.createViewContainer();\n        this.sashContainer = this.createSashContainer();\n\n        this.element.appendChild(this.sashContainer);\n        this.element.appendChild(this.viewContainer);\n\n        this.container.appendChild(this.element);\n\n        this.style(options.styles);\n\n        // We have an existing set of view, add them now\n        if (options.descriptor) {\n            this._size = options.descriptor.size;\n            options.descriptor.views.forEach((viewDescriptor, index) => {\n                const sizing =\n                    viewDescriptor.visible === undefined ||\n                    viewDescriptor.visible\n                        ? viewDescriptor.size\n                        : ({\n                              type: 'invisible',\n                              cachedVisibleSize: viewDescriptor.size,\n                          } as InvisibleSizing);\n\n                const view = viewDescriptor.view;\n                this.addView(\n                    view,\n                    sizing,\n                    index,\n                    true\n                    // true skip layout\n                );\n            });\n\n            // Initialize content size and proportions for first layout\n            this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n            this.saveProportions();\n        }\n    }\n\n    style(styles?: ISplitviewStyles): void {\n        if (styles?.separatorBorder === 'transparent') {\n            removeClasses(this.element, 'separator-border');\n            this.element.style.removeProperty('--dv-separator-border');\n        } else {\n            addClasses(this.element, 'separator-border');\n            if (styles?.separatorBorder) {\n                this.element.style.setProperty(\n                    '--dv-separator-border',\n                    styles.separatorBorder\n                );\n            }\n        }\n    }\n\n    isViewVisible(index: number): boolean {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n\n        const viewItem = this.viewItems[index];\n        return viewItem.visible;\n    }\n\n    setViewVisible(index: number, visible: boolean): void {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n\n        toggleClass(this.container, 'visible', visible);\n\n        const viewItem = this.viewItems[index];\n\n        toggleClass(this.container, 'visible', visible);\n\n        viewItem.setVisible(visible, viewItem.size);\n\n        this.distributeEmptySpace(index);\n        this.layoutViews();\n        this.saveProportions();\n    }\n\n    getViewSize(index: number): number {\n        if (index < 0 || index >= this.viewItems.length) {\n            return -1;\n        }\n\n        return this.viewItems[index].size;\n    }\n\n    resizeView(index: number, size: number): void {\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n\n        const indexes = range(this.viewItems.length).filter((i) => i !== index);\n        const lowPriorityIndexes = [\n            ...indexes.filter(\n                (i) => this.viewItems[i].priority === LayoutPriority.Low\n            ),\n            index,\n        ];\n        const highPriorityIndexes = indexes.filter(\n            (i) => this.viewItems[i].priority === LayoutPriority.High\n        );\n\n        const item = this.viewItems[index];\n        size = Math.round(size);\n        size = clamp(\n            size,\n            item.minimumSize,\n            Math.min(item.maximumSize, this._size)\n        );\n\n        item.size = size;\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n\n    public getViews<T extends IView>(): T[] {\n        return this.viewItems.map((x) => x.view as T);\n    }\n\n    private onDidChange(item: ViewItem, size: number | undefined): void {\n        const index = this.viewItems.indexOf(item);\n\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n\n        size = typeof size === 'number' ? size : item.size;\n        size = clamp(size, item.minimumSize, item.maximumSize);\n\n        item.size = size;\n\n        const indexes = range(this.viewItems.length).filter((i) => i !== index);\n        const lowPriorityIndexes = [\n            ...indexes.filter(\n                (i) => this.viewItems[i].priority === LayoutPriority.Low\n            ),\n            index,\n        ];\n        const highPriorityIndexes = indexes.filter(\n            (i) => this.viewItems[i].priority === LayoutPriority.High\n        );\n\n        /**\n         * add this view we are changing to the low-index list since we have determined the size\n         * here and don't want it changed\n         */\n        this.relayout([...lowPriorityIndexes, index], highPriorityIndexes);\n    }\n\n    public addView(\n        view: IView,\n        size: number | Sizing = { type: 'distribute' },\n        index: number = this.viewItems.length,\n        skipLayout?: boolean\n    ): void {\n        const container = document.createElement('div');\n        container.className = 'view';\n\n        container.appendChild(view.element);\n\n        let viewSize: ViewItemSize;\n\n        if (typeof size === 'number') {\n            viewSize = size;\n        } else if (size.type === 'split') {\n            viewSize = this.getViewSize(size.index) / 2;\n        } else if (size.type === 'invisible') {\n            viewSize = { cachedVisibleSize: size.cachedVisibleSize };\n        } else {\n            viewSize = view.minimumSize;\n        }\n\n        const disposable = view.onDidChange((newSize) =>\n            this.onDidChange(viewItem, newSize.size)\n        );\n\n        const viewItem = new ViewItem(container, view, viewSize, {\n            dispose: () => {\n                disposable.dispose();\n                this.viewContainer.removeChild(container);\n            },\n        });\n\n        if (index === this.viewItems.length) {\n            this.viewContainer.appendChild(container);\n        } else {\n            this.viewContainer.insertBefore(\n                container,\n                this.viewContainer.children.item(index)\n            );\n        }\n\n        this.viewItems.splice(index, 0, viewItem);\n\n        if (this.viewItems.length > 1) {\n            //add sash\n            const sash = document.createElement('div');\n            sash.className = 'sash';\n\n            const onPointerStart = (event: PointerEvent) => {\n                for (const item of this.viewItems) {\n                    item.enabled = false;\n                }\n\n                const iframes = [\n                    ...getElementsByTagName('iframe'),\n                    ...getElementsByTagName('webview'),\n                ];\n\n                for (const iframe of iframes) {\n                    iframe.style.pointerEvents = 'none';\n                }\n\n                const start =\n                    this._orientation === Orientation.HORIZONTAL\n                        ? event.clientX\n                        : event.clientY;\n\n                const sashIndex = firstIndex(\n                    this.sashes,\n                    (s) => s.container === sash\n                );\n\n                //\n                const sizes = this.viewItems.map((x) => x.size);\n\n                //\n                let snapBefore: ISashDragSnapState | undefined;\n                let snapAfter: ISashDragSnapState | undefined;\n                const upIndexes = range(sashIndex, -1);\n                const downIndexes = range(sashIndex + 1, this.viewItems.length);\n                const minDeltaUp = upIndexes.reduce(\n                    (r, i) => r + (this.viewItems[i].minimumSize - sizes[i]),\n                    0\n                );\n                const maxDeltaUp = upIndexes.reduce(\n                    (r, i) =>\n                        r + (this.viewItems[i].viewMaximumSize - sizes[i]),\n                    0\n                );\n                const maxDeltaDown =\n                    downIndexes.length === 0\n                        ? Number.POSITIVE_INFINITY\n                        : downIndexes.reduce(\n                              (r, i) =>\n                                  r +\n                                  (sizes[i] - this.viewItems[i].minimumSize),\n                              0\n                          );\n                const minDeltaDown =\n                    downIndexes.length === 0\n                        ? Number.NEGATIVE_INFINITY\n                        : downIndexes.reduce(\n                              (r, i) =>\n                                  r +\n                                  (sizes[i] -\n                                      this.viewItems[i].viewMaximumSize),\n                              0\n                          );\n                const minDelta = Math.max(minDeltaUp, minDeltaDown);\n                const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                if (typeof snapBeforeIndex === 'number') {\n                    const snappedViewItem = this.viewItems[snapBeforeIndex];\n                    const halfSize = Math.floor(\n                        snappedViewItem.viewMinimumSize / 2\n                    );\n\n                    snapBefore = {\n                        index: snapBeforeIndex,\n                        limitDelta: snappedViewItem.visible\n                            ? minDelta - halfSize\n                            : minDelta + halfSize,\n                        size: snappedViewItem.size,\n                    };\n                }\n\n                if (typeof snapAfterIndex === 'number') {\n                    const snappedViewItem = this.viewItems[snapAfterIndex];\n                    const halfSize = Math.floor(\n                        snappedViewItem.viewMinimumSize / 2\n                    );\n\n                    snapAfter = {\n                        index: snapAfterIndex,\n                        limitDelta: snappedViewItem.visible\n                            ? maxDelta + halfSize\n                            : maxDelta - halfSize,\n                        size: snappedViewItem.size,\n                    };\n                }\n\n                const onPointerMove = (event: PointerEvent) => {\n                    const current =\n                        this._orientation === Orientation.HORIZONTAL\n                            ? event.clientX\n                            : event.clientY;\n                    const delta = current - start;\n\n                    this.resize(\n                        sashIndex,\n                        delta,\n                        sizes,\n                        undefined,\n                        undefined,\n                        minDelta,\n                        maxDelta,\n                        snapBefore,\n                        snapAfter\n                    );\n                    this.distributeEmptySpace();\n                    this.layoutViews();\n                };\n\n                const end = () => {\n                    for (const item of this.viewItems) {\n                        item.enabled = true;\n                    }\n\n                    for (const iframe of iframes) {\n                        iframe.style.pointerEvents = 'auto';\n                    }\n\n                    this.saveProportions();\n\n                    document.removeEventListener('pointermove', onPointerMove);\n                    document.removeEventListener('pointerup', end);\n                    document.removeEventListener('pointercancel', end);\n\n                    this._onDidSashEnd.fire(undefined);\n                };\n\n                document.addEventListener('pointermove', onPointerMove);\n                document.addEventListener('pointerup', end);\n                document.addEventListener('pointercancel', end);\n            };\n\n            sash.addEventListener('pointerdown', onPointerStart);\n\n            const sashItem: ISashItem = {\n                container: sash,\n                disposable: () => {\n                    sash.removeEventListener('pointerdown', onPointerStart);\n                    this.sashContainer.removeChild(sash);\n                },\n            };\n\n            this.sashContainer.appendChild(sash);\n            this.sashes.push(sashItem);\n        }\n\n        if (!skipLayout) {\n            this.relayout([index]);\n        }\n\n        if (\n            !skipLayout &&\n            typeof size !== 'number' &&\n            size.type === 'distribute'\n        ) {\n            this.distributeViewSizes();\n        }\n\n        this._onDidAddView.fire(view);\n    }\n\n    distributeViewSizes(): void {\n        const flexibleViewItems: ViewItem[] = [];\n        let flexibleSize = 0;\n\n        for (const item of this.viewItems) {\n            if (item.maximumSize - item.minimumSize > 0) {\n                flexibleViewItems.push(item);\n                flexibleSize += item.size;\n            }\n        }\n\n        const size = Math.floor(flexibleSize / flexibleViewItems.length);\n\n        for (const item of flexibleViewItems) {\n            item.size = clamp(size, item.minimumSize, item.maximumSize);\n        }\n\n        const indexes = range(this.viewItems.length);\n        const lowPriorityIndexes = indexes.filter(\n            (i) => this.viewItems[i].priority === LayoutPriority.Low\n        );\n        const highPriorityIndexes = indexes.filter(\n            (i) => this.viewItems[i].priority === LayoutPriority.High\n        );\n\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n\n    public removeView(\n        index: number,\n        sizing?: Sizing,\n        skipLayout = false\n    ): IView {\n        // Remove view\n        const viewItem = this.viewItems.splice(index, 1)[0];\n        viewItem.dispose();\n\n        // Remove sash\n        if (this.viewItems.length >= 1) {\n            const sashIndex = Math.max(index - 1, 0);\n            const sashItem = this.sashes.splice(sashIndex, 1)[0];\n            sashItem.disposable();\n        }\n\n        if (!skipLayout) {\n            this.relayout();\n        }\n\n        if (sizing && sizing.type === 'distribute') {\n            this.distributeViewSizes();\n        }\n\n        this._onDidRemoveView.fire(viewItem.view);\n\n        return viewItem.view;\n    }\n\n    getViewCachedVisibleSize(index: number): number | undefined {\n        if (index < 0 || index >= this.viewItems.length) {\n            throw new Error('Index out of bounds');\n        }\n\n        const viewItem = this.viewItems[index];\n        return viewItem.cachedVisibleSize;\n    }\n\n    public moveView(from: number, to: number): void {\n        const cachedVisibleSize = this.getViewCachedVisibleSize(from);\n        const sizing =\n            typeof cachedVisibleSize === 'undefined'\n                ? this.getViewSize(from)\n                : Sizing.Invisible(cachedVisibleSize);\n        const view = this.removeView(from, undefined, true);\n        this.addView(view, sizing, to);\n    }\n\n    public layout(size: number, orthogonalSize: number): void {\n        const previousSize = Math.max(this.size, this._contentSize);\n        this.size = size;\n        this.orthogonalSize = orthogonalSize;\n\n        if (!this.proportions) {\n            const indexes = range(this.viewItems.length);\n            const lowPriorityIndexes = indexes.filter(\n                (i) => this.viewItems[i].priority === LayoutPriority.Low\n            );\n            const highPriorityIndexes = indexes.filter(\n                (i) => this.viewItems[i].priority === LayoutPriority.High\n            );\n\n            this.resize(\n                this.viewItems.length - 1,\n                size - previousSize,\n                undefined,\n                lowPriorityIndexes,\n                highPriorityIndexes\n            );\n        } else {\n            let total = 0;\n\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n\n                if (typeof proportion === 'number') {\n                    total += proportion;\n                } else {\n                    size -= item.size;\n                }\n            }\n\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n\n                if (typeof proportion === 'number' && total > 0) {\n                    item.size = clamp(\n                        Math.round((proportion * size) / total),\n                        item.minimumSize,\n                        item.maximumSize\n                    );\n                }\n            }\n        }\n\n        this.distributeEmptySpace();\n        this.layoutViews();\n    }\n\n    private relayout(\n        lowPriorityIndexes?: number[],\n        highPriorityIndexes?: number[]\n    ): void {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n\n        this.resize(\n            this.viewItems.length - 1,\n            this._size - contentSize,\n            undefined,\n            lowPriorityIndexes,\n            highPriorityIndexes\n        );\n        this.distributeEmptySpace();\n        this.layoutViews();\n        this.saveProportions();\n    }\n\n    private distributeEmptySpace(lowPriorityIndex?: number): void {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        let emptyDelta = this.size - contentSize;\n\n        const indexes = range(this.viewItems.length - 1, -1);\n        const lowPriorityIndexes = indexes.filter(\n            (i) => this.viewItems[i].priority === LayoutPriority.Low\n        );\n        const highPriorityIndexes = indexes.filter(\n            (i) => this.viewItems[i].priority === LayoutPriority.High\n        );\n\n        for (const index of highPriorityIndexes) {\n            pushToStart(indexes, index);\n        }\n\n        for (const index of lowPriorityIndexes) {\n            pushToEnd(indexes, index);\n        }\n\n        if (typeof lowPriorityIndex === 'number') {\n            pushToEnd(indexes, lowPriorityIndex);\n        }\n\n        for (let i = 0; emptyDelta !== 0 && i < indexes.length; i++) {\n            const item = this.viewItems[indexes[i]];\n            const size = clamp(\n                item.size + emptyDelta,\n                item.minimumSize,\n                item.maximumSize\n            );\n            const viewDelta = size - item.size;\n\n            emptyDelta -= viewDelta;\n            item.size = size;\n        }\n    }\n\n    private saveProportions(): void {\n        if (this.proportionalLayout && this._contentSize > 0) {\n            this._proportions = this.viewItems.map((i) =>\n                i.visible ? i.size / this._contentSize : undefined\n            );\n        }\n    }\n\n    private layoutViews(): void {\n        this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        let sum = 0;\n        const x: number[] = [];\n\n        this.updateSashEnablement();\n\n        for (let i = 0; i < this.viewItems.length - 1; i++) {\n            sum += this.viewItems[i].size;\n            x.push(sum);\n\n            const offset = Math.min(Math.max(0, sum - 2), this.size - 4);\n\n            if (this._orientation === Orientation.HORIZONTAL) {\n                this.sashes[i].container.style.left = `${offset}px`;\n                this.sashes[i].container.style.top = `0px`;\n            }\n            if (this._orientation === Orientation.VERTICAL) {\n                this.sashes[i].container.style.left = `0px`;\n                this.sashes[i].container.style.top = `${offset}px`;\n            }\n        }\n        this.viewItems.forEach((view, i) => {\n            if (this._orientation === Orientation.HORIZONTAL) {\n                view.container.style.width = `${view.size}px`;\n                view.container.style.left = i == 0 ? '0px' : `${x[i - 1]}px`;\n                view.container.style.top = '';\n                view.container.style.height = '';\n            }\n            if (this._orientation === Orientation.VERTICAL) {\n                view.container.style.height = `${view.size}px`;\n                view.container.style.top = i == 0 ? '0px' : `${x[i - 1]}px`;\n                view.container.style.width = '';\n                view.container.style.left = '';\n            }\n\n            view.view.layout(view.size, this._orthogonalSize);\n        });\n    }\n\n    private findFirstSnapIndex(indexes: number[]): number | undefined {\n        // visible views first\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n\n            if (!viewItem.visible) {\n                continue;\n            }\n\n            if (viewItem.snap) {\n                return index;\n            }\n        }\n\n        // then, hidden views\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n\n            if (\n                viewItem.visible &&\n                viewItem.maximumSize - viewItem.minimumSize > 0\n            ) {\n                return undefined;\n            }\n\n            if (!viewItem.visible && viewItem.snap) {\n                return index;\n            }\n        }\n\n        return undefined;\n    }\n\n    private updateSashEnablement(): void {\n        let previous = false;\n        const collapsesDown = this.viewItems.map(\n            (i) => (previous = i.size - i.minimumSize > 0 || previous)\n        );\n\n        previous = false;\n        const expandsDown = this.viewItems.map(\n            (i) => (previous = i.maximumSize - i.size > 0 || previous)\n        );\n\n        const reverseViews = [...this.viewItems].reverse();\n        previous = false;\n        const collapsesUp = reverseViews\n            .map((i) => (previous = i.size - i.minimumSize > 0 || previous))\n            .reverse();\n\n        previous = false;\n        const expandsUp = reverseViews\n            .map((i) => (previous = i.maximumSize - i.size > 0 || previous))\n            .reverse();\n\n        let position = 0;\n        for (let index = 0; index < this.sashes.length; index++) {\n            const sash = this.sashes[index];\n            const viewItem = this.viewItems[index];\n            position += viewItem.size;\n\n            const min = !(collapsesDown[index] && expandsUp[index + 1]);\n            const max = !(expandsDown[index] && collapsesUp[index + 1]);\n\n            if (min && max) {\n                const upIndexes = range(index, -1);\n                const downIndexes = range(index + 1, this.viewItems.length);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n\n                const snappedBefore =\n                    typeof snapBeforeIndex === 'number' &&\n                    !this.viewItems[snapBeforeIndex].visible;\n                const snappedAfter =\n                    typeof snapAfterIndex === 'number' &&\n                    !this.viewItems[snapAfterIndex].visible;\n\n                if (\n                    snappedBefore &&\n                    collapsesUp[index] &&\n                    (position > 0 || this.startSnappingEnabled)\n                ) {\n                    this.updateSash(sash, SashState.MINIMUM);\n                } else if (\n                    snappedAfter &&\n                    collapsesDown[index] &&\n                    (position < this._contentSize || this.endSnappingEnabled)\n                ) {\n                    this.updateSash(sash, SashState.MAXIMUM);\n                } else {\n                    this.updateSash(sash, SashState.DISABLED);\n                }\n            } else if (min && !max) {\n                this.updateSash(sash, SashState.MINIMUM);\n            } else if (!min && max) {\n                this.updateSash(sash, SashState.MAXIMUM);\n            } else {\n                this.updateSash(sash, SashState.ENABLED);\n            }\n        }\n    }\n\n    private updateSash(sash: ISashItem, state: SashState): void {\n        toggleClass(sash.container, 'disabled', state === SashState.DISABLED);\n        toggleClass(sash.container, 'enabled', state === SashState.ENABLED);\n        toggleClass(sash.container, 'maximum', state === SashState.MAXIMUM);\n        toggleClass(sash.container, 'minimum', state === SashState.MINIMUM);\n    }\n\n    private resize = (\n        index: number,\n        delta: number,\n        sizes: number[] = this.viewItems.map((x) => x.size),\n        lowPriorityIndexes?: number[],\n        highPriorityIndexes?: number[],\n        overloadMinDelta: number = Number.NEGATIVE_INFINITY,\n        overloadMaxDelta: number = Number.POSITIVE_INFINITY,\n        snapBefore?: ISashDragSnapState,\n        snapAfter?: ISashDragSnapState\n    ): number => {\n        if (index < 0 || index > this.viewItems.length) {\n            return 0;\n        }\n\n        const upIndexes = range(index, -1);\n        const downIndexes = range(index + 1, this.viewItems.length);\n        //\n        if (highPriorityIndexes) {\n            for (const i of highPriorityIndexes) {\n                pushToStart(upIndexes, i);\n                pushToStart(downIndexes, i);\n            }\n        }\n\n        if (lowPriorityIndexes) {\n            for (const i of lowPriorityIndexes) {\n                pushToEnd(upIndexes, i);\n                pushToEnd(downIndexes, i);\n            }\n        }\n        //\n        const upItems = upIndexes.map((i) => this.viewItems[i]);\n        const upSizes = upIndexes.map((i) => sizes[i]);\n        //\n        const downItems = downIndexes.map((i) => this.viewItems[i]);\n        const downSizes = downIndexes.map((i) => sizes[i]);\n        //\n        const minDeltaUp = upIndexes.reduce(\n            (_, i) => _ + this.viewItems[i].minimumSize - sizes[i],\n            0\n        );\n        const maxDeltaUp = upIndexes.reduce(\n            (_, i) => _ + this.viewItems[i].maximumSize - sizes[i],\n            0\n        );\n        //\n        const maxDeltaDown =\n            downIndexes.length === 0\n                ? Number.POSITIVE_INFINITY\n                : downIndexes.reduce(\n                      (_, i) => _ + sizes[i] - this.viewItems[i].minimumSize,\n\n                      0\n                  );\n        const minDeltaDown =\n            downIndexes.length === 0\n                ? Number.NEGATIVE_INFINITY\n                : downIndexes.reduce(\n                      (_, i) => _ + sizes[i] - this.viewItems[i].maximumSize,\n                      0\n                  );\n        //\n        const minDelta = Math.max(minDeltaUp, minDeltaDown);\n        const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n        //\n        let snapped = false;\n        if (snapBefore) {\n            const snapView = this.viewItems[snapBefore.index];\n            const visible = delta >= snapBefore.limitDelta;\n            snapped = visible !== snapView.visible;\n            snapView.setVisible(visible, snapBefore.size);\n        }\n\n        if (!snapped && snapAfter) {\n            const snapView = this.viewItems[snapAfter.index];\n            const visible = delta < snapAfter.limitDelta;\n            snapped = visible !== snapView.visible;\n            snapView.setVisible(visible, snapAfter.size);\n        }\n\n        if (snapped) {\n            return this.resize(\n                index,\n                delta,\n                sizes,\n                lowPriorityIndexes,\n                highPriorityIndexes,\n                overloadMinDelta,\n                overloadMaxDelta\n            );\n        }\n        //\n        const tentativeDelta = clamp(delta, minDelta, maxDelta);\n        let actualDelta = 0;\n        //\n        let deltaUp = tentativeDelta;\n\n        for (let i = 0; i < upItems.length; i++) {\n            const item = upItems[i];\n            const size = clamp(\n                upSizes[i] + deltaUp,\n                item.minimumSize,\n                item.maximumSize\n            );\n            const viewDelta = size - upSizes[i];\n\n            actualDelta += viewDelta;\n            deltaUp -= viewDelta;\n            item.size = size;\n        }\n        //\n        let deltaDown = actualDelta;\n        for (let i = 0; i < downItems.length; i++) {\n            const item = downItems[i];\n            const size = clamp(\n                downSizes[i] - deltaDown,\n                item.minimumSize,\n                item.maximumSize\n            );\n            const viewDelta = size - downSizes[i];\n\n            deltaDown += viewDelta;\n            item.size = size;\n        }\n        //\n        return delta;\n    };\n\n    private createViewContainer(): HTMLElement {\n        const element = document.createElement('div');\n        element.className = 'view-container';\n        return element;\n    }\n\n    private createSashContainer(): HTMLElement {\n        const element = document.createElement('div');\n        element.className = 'sash-container';\n        return element;\n    }\n\n    private createContainer(): HTMLElement {\n        const element = document.createElement('div');\n        const orientationClassname =\n            this._orientation === Orientation.HORIZONTAL\n                ? 'horizontal'\n                : 'vertical';\n        element.className = `split-view-container ${orientationClassname}`;\n        return element;\n    }\n\n    public dispose(): void {\n        this._onDidSashEnd.dispose();\n        this._onDidAddView.dispose();\n        this._onDidRemoveView.dispose();\n\n        for (let i = 0; i < this.element.children.length; i++) {\n            if (this.element.children.item(i) === this.element) {\n                this.element.removeChild(this.element);\n                break;\n            }\n        }\n\n        for (const viewItem of this.viewItems) {\n            viewItem.dispose();\n        }\n\n        this.element.remove();\n    }\n}\n","import {\n    Splitview,\n    Orientation,\n    ISplitViewDescriptor,\n    Sizing,\n} from '../splitview/splitview';\nimport { CompositeDisposable, IDisposable } from '../lifecycle';\nimport { Emitter, Event } from '../events';\nimport { addClasses, removeClasses } from '../dom';\nimport { PaneviewPanel } from './paneviewPanel';\n\ninterface PaneItem {\n    pane: PaneviewPanel;\n    disposable: IDisposable;\n}\n\nexport class Paneview extends CompositeDisposable implements IDisposable {\n    private element: HTMLElement;\n    private splitview: Splitview;\n    private paneItems: PaneItem[] = [];\n    private _orientation: Orientation;\n    private animationTimer: any;\n    private skipAnimation = false;\n\n    private readonly _onDidChange = new Emitter<void>();\n    readonly onDidChange: Event<void> = this._onDidChange.event;\n\n    get onDidAddView(): Event<PaneviewPanel> {\n        return <Event<PaneviewPanel>>this.splitview.onDidAddView;\n    }\n    get onDidRemoveView(): Event<PaneviewPanel> {\n        return <Event<PaneviewPanel>>this.splitview.onDidRemoveView;\n    }\n\n    get minimumSize(): number {\n        return this.splitview.minimumSize;\n    }\n\n    get maximumSize(): number {\n        return this.splitview.maximumSize;\n    }\n\n    get orientation(): Orientation {\n        return this.splitview.orientation;\n    }\n\n    get size(): number {\n        return this.splitview.size;\n    }\n\n    get orthogonalSize(): number {\n        return this.splitview.orthogonalSize;\n    }\n\n    constructor(\n        container: HTMLElement,\n        options: { orientation: Orientation; descriptor?: ISplitViewDescriptor }\n    ) {\n        super();\n\n        this._orientation = options.orientation ?? Orientation.VERTICAL;\n\n        this.element = document.createElement('div');\n        this.element.className = 'pane-container';\n\n        container.appendChild(this.element);\n\n        this.splitview = new Splitview(this.element, {\n            orientation: this._orientation,\n            proportionalLayout: false,\n            descriptor: options.descriptor,\n        });\n\n        // if we've added views from the descriptor we need to\n        // add the panes to our Pane array and setup animation\n        this.getPanes().forEach((pane) => {\n            const disposable = new CompositeDisposable(\n                pane.onDidChangeExpansionState(() => {\n                    this.setupAnimation();\n                    this._onDidChange.fire(undefined);\n                })\n            );\n\n            const paneItem: PaneItem = {\n                pane,\n                disposable: {\n                    dispose: () => {\n                        disposable.dispose();\n                    },\n                },\n            };\n\n            this.paneItems.push(paneItem);\n            pane.orthogonalSize = this.splitview.orthogonalSize;\n        });\n\n        this.addDisposables(\n            this._onDidChange,\n            this.splitview.onDidSashEnd(() => {\n                this._onDidChange.fire(undefined);\n            }),\n            this.splitview.onDidAddView(() => {\n                this._onDidChange.fire();\n            }),\n            this.splitview.onDidRemoveView(() => {\n                this._onDidChange.fire();\n            })\n        );\n    }\n\n    public addPane(\n        pane: PaneviewPanel,\n        size?: number | Sizing,\n        index = this.splitview.length,\n        skipLayout = false\n    ): void {\n        const disposable = pane.onDidChangeExpansionState(() => {\n            this.setupAnimation();\n            this._onDidChange.fire(undefined);\n        });\n\n        const paneItem: PaneItem = {\n            pane,\n            disposable: {\n                dispose: () => {\n                    disposable.dispose();\n                },\n            },\n        };\n\n        this.paneItems.splice(index, 0, paneItem);\n\n        pane.orthogonalSize = this.splitview.orthogonalSize;\n        this.splitview.addView(pane, size, index, skipLayout);\n    }\n\n    getViewSize(index: number): number {\n        return this.splitview.getViewSize(index);\n    }\n\n    public getPanes(): PaneviewPanel[] {\n        return this.splitview.getViews();\n    }\n\n    public removePane(\n        index: number,\n        options: { skipDispose: boolean } = { skipDispose: false }\n    ): PaneItem {\n        const paneItem = this.paneItems.splice(index, 1)[0];\n        this.splitview.removeView(index);\n\n        if (!options.skipDispose) {\n            paneItem.disposable.dispose();\n            paneItem.pane.dispose();\n        }\n\n        return paneItem;\n    }\n\n    public moveView(from: number, to: number): void {\n        if (from === to) {\n            return;\n        }\n\n        const view = this.removePane(from, { skipDispose: true });\n\n        this.skipAnimation = true;\n        try {\n            this.addPane(view.pane, view.pane.size, to, false);\n        } finally {\n            this.skipAnimation = false;\n        }\n    }\n\n    public layout(size: number, orthogonalSize: number): void {\n        this.splitview.layout(size, orthogonalSize);\n    }\n\n    private setupAnimation(): void {\n        if (this.skipAnimation) {\n            return;\n        }\n\n        if (this.animationTimer) {\n            clearTimeout(this.animationTimer);\n            this.animationTimer = undefined;\n        }\n\n        addClasses(this.element, 'animated');\n\n        this.animationTimer = setTimeout(() => {\n            this.animationTimer = undefined;\n            removeClasses(this.element, 'animated');\n        }, 200);\n    }\n\n    public dispose(): void {\n        super.dispose();\n\n        if (this.animationTimer) {\n            clearTimeout(this.animationTimer);\n            this.animationTimer = undefined;\n        }\n\n        this.paneItems.forEach((paneItem) => {\n            paneItem.disposable.dispose();\n            paneItem.pane.dispose();\n        });\n        this.paneItems = [];\n\n        this.splitview.dispose();\n        this.element.remove();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\n\nimport { IView, LayoutPriority, Orientation } from '../splitview/splitview';\nimport { Emitter, Event } from '../events';\nimport { IGridView } from './gridview';\nimport { IDisposable } from '../lifecycle';\n\nexport class LeafNode implements IView {\n    private readonly _onDidChange = new Emitter<{\n        size?: number;\n        orthogonalSize?: number;\n    }>();\n    readonly onDidChange: Event<{ size?: number; orthogonalSize?: number }> =\n        this._onDidChange.event;\n    private _size: number;\n    private _orthogonalSize: number;\n    private _disposable: IDisposable;\n\n    private get minimumWidth(): number {\n        return this.view.minimumWidth;\n    }\n\n    private get maximumWidth(): number {\n        return this.view.maximumWidth;\n    }\n\n    private get minimumHeight(): number {\n        return this.view.minimumHeight;\n    }\n\n    private get maximumHeight(): number {\n        return this.view.maximumHeight;\n    }\n\n    get priority(): LayoutPriority | undefined {\n        return this.view.priority;\n    }\n\n    get snap(): boolean | undefined {\n        return this.view.snap;\n    }\n\n    get minimumSize(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumHeight\n            : this.minimumWidth;\n    }\n\n    get maximumSize(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumHeight\n            : this.maximumWidth;\n    }\n\n    get minimumOrthogonalSize(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumWidth\n            : this.minimumHeight;\n    }\n\n    get maximumOrthogonalSize(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumWidth\n            : this.maximumHeight;\n    }\n\n    get orthogonalSize(): number {\n        return this._orthogonalSize;\n    }\n\n    get size(): number {\n        return this._size;\n    }\n\n    get element(): HTMLElement {\n        return this.view.element;\n    }\n\n    get width(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.orthogonalSize\n            : this.size;\n    }\n\n    get height(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.size\n            : this.orthogonalSize;\n    }\n\n    constructor(\n        public readonly view: IGridView,\n        readonly orientation: Orientation,\n        orthogonalSize: number,\n        size = 0\n    ) {\n        this._orthogonalSize = orthogonalSize;\n        this._size = size;\n\n        this._disposable = this.view.onDidChange((event) => {\n            if (event) {\n                this._onDidChange.fire({\n                    size:\n                        this.orientation === Orientation.VERTICAL\n                            ? event.width\n                            : event.height,\n                    orthogonalSize:\n                        this.orientation === Orientation.VERTICAL\n                            ? event.height\n                            : event.width,\n                });\n            } else {\n                this._onDidChange.fire({});\n            }\n        });\n    }\n\n    public setVisible(visible: boolean): void {\n        if (this.view.setVisible) {\n            this.view.setVisible(visible);\n        }\n    }\n\n    public layout(size: number, orthogonalSize: number): void {\n        this._size = size;\n        this._orthogonalSize = orthogonalSize;\n\n        this.view.layout(this.width, this.height);\n    }\n\n    public dispose(): void {\n        this._onDidChange.dispose();\n        this._disposable.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n    IView,\n    Splitview,\n    Orientation,\n    Sizing,\n    LayoutPriority,\n    ISplitviewStyles,\n} from '../splitview/splitview';\nimport { Emitter, Event } from '../events';\nimport { INodeDescriptor } from './gridview';\nimport { LeafNode } from './leafNode';\nimport { Node } from './types';\nimport { CompositeDisposable, IDisposable, Disposable } from '../lifecycle';\n\nexport class BranchNode extends CompositeDisposable implements IView {\n    readonly element: HTMLElement;\n    private splitview: Splitview;\n    private _orthogonalSize: number;\n    private _size: number;\n    private _childrenDisposable: IDisposable = Disposable.NONE;\n\n    public readonly children: Node[] = [];\n\n    private readonly _onDidChange = new Emitter<{\n        size?: number;\n        orthogonalSize?: number;\n    }>();\n    readonly onDidChange: Event<{ size?: number; orthogonalSize?: number }> =\n        this._onDidChange.event;\n\n    private readonly _onDidVisibilityChange = new Emitter<boolean>();\n    readonly onDidVisibilityChange: Event<boolean> =\n        this._onDidVisibilityChange.event;\n\n    get width(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.size\n            : this.orthogonalSize;\n    }\n\n    get height(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.orthogonalSize\n            : this.size;\n    }\n\n    get minimumSize(): number {\n        return this.children.length === 0\n            ? 0\n            : Math.max(\n                  ...this.children.map((c, index) =>\n                      this.splitview.isViewVisible(index)\n                          ? c.minimumOrthogonalSize\n                          : 0\n                  )\n              );\n    }\n\n    get maximumSize(): number {\n        return Math.min(\n            ...this.children.map((c, index) =>\n                this.splitview.isViewVisible(index)\n                    ? c.maximumOrthogonalSize\n                    : Number.POSITIVE_INFINITY\n            )\n        );\n    }\n\n    get minimumOrthogonalSize(): number {\n        return this.splitview.minimumSize;\n    }\n\n    get maximumOrthogonalSize(): number {\n        return this.splitview.maximumSize;\n    }\n\n    get orthogonalSize(): number {\n        return this._orthogonalSize;\n    }\n\n    get size(): number {\n        return this._size;\n    }\n\n    get minimumWidth(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumOrthogonalSize\n            : this.minimumSize;\n    }\n\n    get minimumHeight(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.minimumSize\n            : this.minimumOrthogonalSize;\n    }\n\n    get maximumWidth(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumOrthogonalSize\n            : this.maximumSize;\n    }\n\n    get maximumHeight(): number {\n        return this.orientation === Orientation.HORIZONTAL\n            ? this.maximumSize\n            : this.maximumOrthogonalSize;\n    }\n\n    get priority(): LayoutPriority {\n        if (this.children.length === 0) {\n            return LayoutPriority.Normal;\n        }\n\n        const priorities = this.children.map((c) =>\n            typeof c.priority === 'undefined'\n                ? LayoutPriority.Normal\n                : c.priority\n        );\n\n        if (priorities.some((p) => p === LayoutPriority.High)) {\n            return LayoutPriority.High;\n        } else if (priorities.some((p) => p === LayoutPriority.Low)) {\n            return LayoutPriority.Low;\n        }\n\n        return LayoutPriority.Normal;\n    }\n\n    constructor(\n        readonly orientation: Orientation,\n        readonly proportionalLayout: boolean,\n        readonly styles: ISplitviewStyles | undefined,\n        size: number,\n        orthogonalSize: number,\n        childDescriptors?: INodeDescriptor[]\n    ) {\n        super();\n        this._orthogonalSize = orthogonalSize;\n        this._size = size;\n        this.element = document.createElement('div');\n        this.element.className = 'branch-node';\n\n        if (!childDescriptors) {\n            this.splitview = new Splitview(this.element, {\n                orientation: this.orientation,\n                proportionalLayout,\n                styles,\n            });\n            this.splitview.layout(this.size, this.orthogonalSize);\n        } else {\n            const descriptor = {\n                views: childDescriptors.map((childDescriptor) => {\n                    return {\n                        view: childDescriptor.node,\n                        size: childDescriptor.node.size,\n                        visible:\n                            childDescriptor.node instanceof LeafNode &&\n                            childDescriptor.visible !== undefined\n                                ? childDescriptor.visible\n                                : true,\n                    };\n                }),\n                size: this.orthogonalSize,\n            };\n\n            this.children = childDescriptors.map((c) => c.node);\n            this.splitview = new Splitview(this.element, {\n                orientation: this.orientation,\n                descriptor,\n                proportionalLayout,\n                styles,\n            });\n        }\n\n        this.addDisposables(\n            this._onDidChange,\n            this._onDidVisibilityChange,\n            this.splitview.onDidSashEnd(() => {\n                this._onDidChange.fire({});\n            })\n        );\n\n        this.setupChildrenEvents();\n    }\n\n    setVisible(visible: boolean): void {\n        for (const child of this.children) {\n            child.setVisible(visible);\n        }\n    }\n\n    isChildVisible(index: number): boolean {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        return this.splitview.isViewVisible(index);\n    }\n\n     setChildVisible(index: number, visible: boolean): void {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        if (this.splitview.isViewVisible(index) === visible) {\n            return;\n        }\n\n        const wereAllChildrenHidden = this.splitview.contentSize === 0;\n        this.splitview.setViewVisible(index, visible);\n        const areAllChildrenHidden = this.splitview.contentSize === 0;\n\n        // If all children are hidden then the parent should hide the entire splitview\n        // If the entire splitview is hidden then the parent should show the splitview when a child is shown\n        if (\n            (visible && wereAllChildrenHidden) ||\n            (!visible && areAllChildrenHidden)\n        ) {\n            this._onDidVisibilityChange.fire(visible);\n        }\n    }\n\n    moveChild(from: number, to: number): void {\n        if (from === to) {\n            return;\n        }\n\n        if (from < 0 || from >= this.children.length) {\n            throw new Error('Invalid from index');\n        }\n\n        if (from < to) {\n            to--;\n        }\n\n        this.splitview.moveView(from, to);\n\n        const child = this._removeChild(from);\n        this._addChild(child, to);\n    }\n\n    getChildSize(index: number): number {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        return this.splitview.getViewSize(index);\n    }\n\n    resizeChild(index: number, size: number): void {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        this.splitview.resizeView(index, size);\n    }\n\n    public layout(size: number, orthogonalSize: number) {\n        this._size = orthogonalSize;\n        this._orthogonalSize = size;\n\n        this.splitview.layout(orthogonalSize, size);\n    }\n\n    public addChild(\n        node: Node,\n        size: number | Sizing,\n        index: number,\n        skipLayout?: boolean\n    ): void {\n        if (index < 0 || index > this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        this.splitview.addView(node, size, index, skipLayout);\n        this._addChild(node, index);\n    }\n\n    getChildCachedVisibleSize(index: number): number | undefined {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        return this.splitview.getViewCachedVisibleSize(index);\n    }\n\n    public removeChild(index: number, sizing?: Sizing): Node {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('Invalid index');\n        }\n\n        this.splitview.removeView(index, sizing);\n        return this._removeChild(index);\n    }\n\n    private _addChild(node: Node, index: number): void {\n        this.children.splice(index, 0, node);\n        this.setupChildrenEvents();\n    }\n\n    private _removeChild(index: number): Node {\n        const [child] = this.children.splice(index, 1);\n        this.setupChildrenEvents();\n\n        return child;\n    }\n\n    private setupChildrenEvents(): void {\n        this._childrenDisposable.dispose();\n\n        this._childrenDisposable = new CompositeDisposable(\n            Event.any(...this.children.map((c) => c.onDidChange))((e) => {\n                /**\n                 * indicate a change has occured to allows any re-rendering but don't bubble\n                 * event because that was specific to this branch\n                 */\n                this._onDidChange.fire({ size: e.orthogonalSize });\n            }),\n            ...this.children.map((c, i) => {\n                if (c instanceof BranchNode) {\n                    return c.onDidVisibilityChange((visible) => {\n                        this.setChildVisible(i, visible);\n                    });\n                }\n                return Disposable.NONE;\n            })\n        );\n    }\n\n    public dispose(): void {\n        this._childrenDisposable.dispose();\n        this.splitview.dispose();\n        this.children.forEach((child) => child.dispose());\n\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:\n * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n    ISplitviewStyles,\n    LayoutPriority,\n    Orientation,\n    Sizing,\n} from '../splitview/splitview';\nimport { tail } from '../array';\nimport { LeafNode } from './leafNode';\nimport { BranchNode } from './branchNode';\nimport { Node } from './types';\nimport { Emitter, Event } from '../events';\nimport { IDisposable, MutableDisposable } from '../lifecycle';\nimport { Position } from '../dnd/droptarget';\n\nfunction findLeaf(candiateNode: Node, last: boolean): LeafNode {\n    if (candiateNode instanceof LeafNode) {\n        return candiateNode;\n    }\n    if (candiateNode instanceof BranchNode) {\n        return findLeaf(\n            candiateNode.children[last ? candiateNode.children.length - 1 : 0],\n            last\n        );\n    }\n    throw new Error('invalid node');\n}\n\nfunction flipNode<T extends Node>(\n    node: T,\n    size: number,\n    orthogonalSize: number\n): T {\n    if (node instanceof BranchNode) {\n        const result = new BranchNode(\n            orthogonal(node.orientation),\n            node.proportionalLayout,\n            node.styles,\n            size,\n            orthogonalSize\n        );\n\n        let totalSize = 0;\n\n        for (let i = node.children.length - 1; i >= 0; i--) {\n            const child = node.children[i];\n            const childSize =\n                child instanceof BranchNode ? child.orthogonalSize : child.size;\n\n            let newSize =\n                node.size === 0\n                    ? 0\n                    : Math.round((size * childSize) / node.size);\n            totalSize += newSize;\n\n            // The last view to add should adjust to rounding errors\n            if (i === 0) {\n                newSize += size - totalSize;\n            }\n\n            result.addChild(\n                flipNode(child, orthogonalSize, newSize),\n                newSize,\n                0,\n                true\n            );\n        }\n\n        return result as T;\n    } else {\n        return new LeafNode(\n            node.view,\n            orthogonal(node.orientation),\n            orthogonalSize\n        ) as T;\n    }\n}\n\nexport function indexInParent(element: HTMLElement): number {\n    const parentElement = element.parentElement;\n\n    if (!parentElement) {\n        throw new Error('Invalid grid element');\n    }\n\n    let el = parentElement.firstElementChild;\n    let index = 0;\n\n    while (el !== element && el !== parentElement.lastElementChild && el) {\n        el = el.nextElementSibling;\n        index++;\n    }\n\n    return index;\n}\n\n/**\n * Find the grid location of a specific DOM element by traversing the parent\n * chain and finding each child index on the way.\n *\n * This will break as soon as DOM structures of the Splitview or Gridview change.\n */\nexport function getGridLocation(element: HTMLElement): number[] {\n    const parentElement = element.parentElement;\n\n    if (!parentElement) {\n        throw new Error('Invalid grid element');\n    }\n\n    if (/\\bgrid-view\\b/.test(parentElement.className)) {\n        return [];\n    }\n\n    const index = indexInParent(parentElement);\n    const ancestor = parentElement.parentElement!.parentElement!.parentElement!;\n    return [...getGridLocation(ancestor), index];\n}\n\nexport function getRelativeLocation(\n    rootOrientation: Orientation,\n    location: number[],\n    direction: Position\n): number[] {\n    const orientation = getLocationOrientation(rootOrientation, location);\n    const directionOrientation = getDirectionOrientation(direction);\n\n    if (orientation === directionOrientation) {\n        const [rest, _index] = tail(location);\n        let index = _index;\n\n        if (direction === 'right' || direction === 'bottom') {\n            index += 1;\n        }\n\n        return [...rest, index];\n    } else {\n        const index = direction === 'right' || direction === 'bottom' ? 1 : 0;\n        return [...location, index];\n    }\n}\n\nexport function getDirectionOrientation(direction: Position): Orientation {\n    return direction === 'top' || direction === 'bottom'\n        ? Orientation.VERTICAL\n        : Orientation.HORIZONTAL;\n}\n\nexport function getLocationOrientation(\n    rootOrientation: Orientation,\n    location: number[]\n): Orientation {\n    return location.length % 2 === 0\n        ? orthogonal(rootOrientation)\n        : rootOrientation;\n}\n\nexport interface IViewSize {\n    width?: number;\n    height?: number;\n}\n\nexport interface IGridView {\n    readonly onDidChange: Event<IViewSize | undefined>;\n    readonly element: HTMLElement;\n    readonly minimumWidth: number;\n    readonly maximumWidth: number;\n    readonly minimumHeight: number;\n    readonly maximumHeight: number;\n    priority?: LayoutPriority;\n    layout(width: number, height: number): void;\n    toJSON(): object;\n    fromJSON?(json: object): void;\n    snap?: boolean;\n    setVisible?(visible: boolean): void;\n}\n\nexport const orthogonal = (orientation: Orientation) =>\n    orientation === Orientation.HORIZONTAL\n        ? Orientation.VERTICAL\n        : Orientation.HORIZONTAL;\n\nexport interface GridLeafNode<T extends IGridView> {\n    readonly view: T;\n    readonly cachedVisibleSize: number | undefined;\n    readonly box: { width: number; height: number };\n}\n\nexport interface GridBranchNode<T extends IGridView> {\n    readonly children: GridNode<T>[];\n    readonly box: { width: number; height: number };\n}\n\nexport type GridNode<T extends IGridView> = GridLeafNode<T> | GridBranchNode<T>;\n\nexport function isGridBranchNode<T extends IGridView>(\n    node: GridNode<T>\n): node is GridBranchNode<T> {\n    return !!(node as any).children;\n}\n\nexport interface SerializedGridObject<T> {\n    type: 'leaf' | 'branch';\n    data: T | SerializedGridObject<T>[];\n    size?: number;\n    visible?: boolean;\n}\n\nconst serializeBranchNode = <T extends IGridView>(\n    node: GridNode<T>,\n    orientation: Orientation\n): SerializedGridObject<any> => {\n    const size =\n        orientation === Orientation.VERTICAL ? node.box.width : node.box.height;\n\n    if (!isGridBranchNode(node)) {\n        if (typeof node.cachedVisibleSize === 'number') {\n            return {\n                type: 'leaf',\n                data: node.view.toJSON(),\n                size: node.cachedVisibleSize,\n                visible: false,\n            };\n        }\n\n        return { type: 'leaf', data: node.view.toJSON(), size };\n    }\n\n    return {\n        type: 'branch',\n        data: node.children.map((c) =>\n            serializeBranchNode(c, orthogonal(orientation))\n        ),\n        size,\n    };\n};\n\nexport interface ISerializedLeafNode<T = any> {\n    type: 'leaf';\n    data: T;\n    size: number;\n    visible?: boolean;\n}\n\nexport interface ISerializedBranchNode {\n    type: 'branch';\n    data: ISerializedNode[];\n    size: number;\n}\n\nexport type ISerializedNode = ISerializedLeafNode | ISerializedBranchNode;\n\nexport interface INodeDescriptor {\n    node: Node;\n    visible?: boolean;\n}\n\nexport interface IViewDeserializer {\n    fromJSON: (data: ISerializedLeafNode) => IGridView;\n}\n\nexport interface SerializedGridview<T> {\n    root: SerializedGridObject<T>;\n    width: number;\n    height: number;\n    orientation: Orientation;\n}\n\nexport class Gridview implements IDisposable {\n    readonly element: HTMLElement;\n\n    private _root: BranchNode | undefined;\n    private _maximizedNode: LeafNode | undefined = undefined;\n    private readonly disposable: MutableDisposable = new MutableDisposable();\n\n    private readonly _onDidChange = new Emitter<{\n        size?: number;\n        orthogonalSize?: number;\n    }>();\n    readonly onDidChange: Event<{ size?: number; orthogonalSize?: number }> =\n        this._onDidChange.event;\n\n    private readonly _onDidMaxmizedNodeChange = new Emitter<void>();\n    readonly onDidMaxmizedNodeChange = this._onDidMaxmizedNodeChange.event;\n\n    public get length(): number {\n        return this._root ? this._root.children.length : 0;\n    }\n\n    public get orientation(): Orientation {\n        return this.root.orientation;\n    }\n\n    public set orientation(orientation: Orientation) {\n        if (this.root.orientation === orientation) {\n            return;\n        }\n\n        const { size, orthogonalSize } = this.root;\n        this.root = flipNode(this.root, orthogonalSize, size);\n        this.root.layout(size, orthogonalSize);\n    }\n\n    get width(): number {\n        return this.root.width;\n    }\n\n    get height(): number {\n        return this.root.height;\n    }\n\n    get minimumWidth(): number {\n        return this.root.minimumWidth;\n    }\n\n    get minimumHeight(): number {\n        return this.root.minimumHeight;\n    }\n\n    get maximumWidth(): number {\n        return this.root.maximumHeight;\n    }\n\n    get maximumHeight(): number {\n        return this.root.maximumHeight;\n    }\n\n    maximizedView(): IGridView | undefined {\n        return this._maximizedNode?.view;\n    }\n\n    hasMaximizedView(): boolean {\n        return this._maximizedNode !== undefined;\n    }\n\n    maximizeView(view: IGridView): void {\n        const location = getGridLocation(view.element);\n        const [_, node] = this.getNode(location);\n\n        if (!(node instanceof LeafNode)) {\n            return;\n        }\n\n        if (this._maximizedNode === node) {\n            return;\n        }\n\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n\n        function hideAllViewsBut(parent: BranchNode, exclude: LeafNode): void {\n            for (let i = 0; i < parent.children.length; i++) {\n                const child = parent.children[i];\n                if (child instanceof LeafNode) {\n                    if (child !== exclude) {\n                        parent.setChildVisible(i, false);\n                    }\n                } else {\n                    hideAllViewsBut(child, exclude);\n                }\n            }\n        }\n\n        hideAllViewsBut(this.root, node);\n        this._maximizedNode = node;\n        this._onDidMaxmizedNodeChange.fire();\n    }\n\n    exitMaximizedView(): void {\n        if (!this._maximizedNode) {\n            return;\n        }\n\n        function showViewsInReverseOrder(parent: BranchNode): void {\n            for (let index = parent.children.length - 1; index >= 0; index--) {\n                const child = parent.children[index];\n                if (child instanceof LeafNode) {\n                    parent.setChildVisible(index, true);\n                } else {\n                    showViewsInReverseOrder(child);\n                }\n            }\n        }\n\n        showViewsInReverseOrder(this.root);\n\n        this._maximizedNode = undefined;\n        this._onDidMaxmizedNodeChange.fire();\n    }\n\n    public serialize(): SerializedGridview<any> {\n        const root = serializeBranchNode(this.getView(), this.orientation);\n\n        return {\n            root,\n            width: this.width,\n            height: this.height,\n            orientation: this.orientation,\n        };\n    }\n\n    public dispose(): void {\n        this.disposable.dispose();\n        this._onDidChange.dispose();\n        this._onDidMaxmizedNodeChange.dispose();\n        this.root.dispose();\n\n        this.element.remove();\n    }\n\n    public clear(): void {\n        const orientation = this.root.orientation;\n        this.root = new BranchNode(\n            orientation,\n            this.proportionalLayout,\n            this.styles,\n            this.root.size,\n            this.root.orthogonalSize\n        );\n    }\n\n    public deserialize(json: any, deserializer: IViewDeserializer): void {\n        const orientation = json.orientation;\n        const height =\n            orientation === Orientation.VERTICAL ? json.height : json.width;\n        this._deserialize(\n            json.root as ISerializedBranchNode,\n            orientation,\n            deserializer,\n            height\n        );\n    }\n\n    private _deserialize(\n        root: ISerializedBranchNode,\n        orientation: Orientation,\n        deserializer: IViewDeserializer,\n        orthogonalSize: number\n    ): void {\n        this.root = this._deserializeNode(\n            root,\n            orientation,\n            deserializer,\n            orthogonalSize\n        ) as BranchNode;\n    }\n\n    private _deserializeNode(\n        node: ISerializedNode,\n        orientation: Orientation,\n        deserializer: IViewDeserializer,\n        orthogonalSize: number\n    ): Node {\n        let result: Node;\n        if (node.type === 'branch') {\n            const serializedChildren = node.data;\n            const children = serializedChildren.map((serializedChild) => {\n                return {\n                    node: this._deserializeNode(\n                        serializedChild,\n                        orthogonal(orientation),\n                        deserializer,\n                        node.size\n                    ),\n                    visible: (serializedChild as { visible: boolean }).visible,\n                } as INodeDescriptor;\n            });\n\n            result = new BranchNode(\n                orientation,\n                this.proportionalLayout,\n                this.styles,\n                node.size, // <- orthogonal size - flips at each depth\n                orthogonalSize, // <- size - flips at each depth\n\n                children\n            );\n        } else {\n            result = new LeafNode(\n                deserializer.fromJSON(node),\n                orientation,\n                orthogonalSize,\n                node.size\n            );\n        }\n\n        return result;\n    }\n\n    private get root(): BranchNode {\n        return this._root!;\n    }\n\n    private set root(root: BranchNode) {\n        const oldRoot = this._root;\n\n        if (oldRoot) {\n            oldRoot.dispose();\n            this.element.removeChild(oldRoot.element);\n        }\n\n        this._root = root;\n        this.element.appendChild(this._root.element);\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n\n    /**\n     * If the root is orientated as a VERTICAL node then nest the existing root within a new HORIZIONTAL root node\n     * If the root is orientated as a HORIZONTAL node then nest the existing root within a new VERITCAL root node\n     */\n    public insertOrthogonalSplitviewAtRoot(): void {\n        if (!this._root) {\n            return;\n        }\n\n        const oldRoot = this.root;\n        oldRoot.element.remove();\n\n        this._root = new BranchNode(\n            orthogonal(oldRoot.orientation),\n            this.proportionalLayout,\n            this.styles,\n            this.root.orthogonalSize,\n            this.root.size\n        );\n\n        if (oldRoot.children.length === 0) {\n            // no data so no need to add anything back in\n        } else if (oldRoot.children.length === 1) {\n            // can remove one level of redundant branching if there is only a single child\n            const childReference = oldRoot.children[0];\n            const child = oldRoot.removeChild(0); // remove to prevent disposal when disposing of unwanted root\n            child.dispose();\n            oldRoot.dispose();\n\n            this._root.addChild(\n                /**\n                 * the child node will have the same orientation as the new root since\n                 * we are removing the inbetween node.\n                 * the entire 'tree' must be flipped recursively to ensure that the orientation\n                 * flips at each level\n                 */\n                flipNode(\n                    childReference,\n                    childReference.orthogonalSize,\n                    childReference.size\n                ),\n                Sizing.Distribute,\n                0\n            );\n        } else {\n            this._root.addChild(oldRoot, Sizing.Distribute, 0);\n        }\n\n        this.element.appendChild(this._root.element);\n\n        this.disposable.value = this._root.onDidChange((e) => {\n            this._onDidChange.fire(e);\n        });\n    }\n\n    public next(location: number[]): LeafNode {\n        return this.progmaticSelect(location);\n    }\n\n    public previous(location: number[]): LeafNode {\n        return this.progmaticSelect(location, true);\n    }\n\n    getView(): GridBranchNode<IGridView>;\n    getView(location?: number[]): GridNode<IGridView>;\n    getView(location?: number[]): GridNode<IGridView> {\n        const node = location ? this.getNode(location)[1] : this.root;\n        return this._getViews(node, this.orientation);\n    }\n\n    private _getViews(\n        node: Node,\n        orientation: Orientation,\n        cachedVisibleSize?: number\n    ): GridNode<IGridView> {\n        const box = { height: node.height, width: node.width };\n\n        if (node instanceof LeafNode) {\n            return { box, view: node.view, cachedVisibleSize };\n        }\n\n        const children: GridNode<IGridView>[] = [];\n\n        for (let i = 0; i < node.children.length; i++) {\n            const child = node.children[i];\n            const nodeCachedVisibleSize = node.getChildCachedVisibleSize(i);\n\n            children.push(\n                this._getViews(\n                    child,\n                    orthogonal(orientation),\n                    nodeCachedVisibleSize\n                )\n            );\n        }\n\n        return { box, children };\n    }\n\n    private progmaticSelect(location: number[], reverse = false): LeafNode {\n        const [path, node] = this.getNode(location);\n\n        if (!(node instanceof LeafNode)) {\n            throw new Error('invalid location');\n        }\n\n        for (let i = path.length - 1; i > -1; i--) {\n            const n = path[i];\n            const l = location[i] || 0;\n            const canProgressInCurrentLevel = reverse\n                ? l - 1 > -1\n                : l + 1 < n.children.length;\n            if (canProgressInCurrentLevel) {\n                return findLeaf(n.children[reverse ? l - 1 : l + 1], reverse);\n            }\n        }\n\n        return findLeaf(this.root, reverse);\n    }\n\n    constructor(\n        readonly proportionalLayout: boolean,\n        readonly styles: ISplitviewStyles | undefined,\n        orientation: Orientation\n    ) {\n        this.element = document.createElement('div');\n        this.element.className = 'grid-view';\n        this.root = new BranchNode(\n            orientation,\n            proportionalLayout,\n            styles,\n            0,\n            0\n        );\n    }\n\n    isViewVisible(location: number[]): boolean {\n        const [rest, index] = tail(location);\n        const [, parent] = this.getNode(rest);\n\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid from location');\n        }\n\n        return parent.isChildVisible(index);\n    }\n\n    setViewVisible(location: number[], visible: boolean): void {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n\n        const [rest, index] = tail(location);\n        const [, parent] = this.getNode(rest);\n\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid from location');\n        }\n\n        parent.setChildVisible(index, visible);\n    }\n\n    public moveView(parentLocation: number[], from: number, to: number): void {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n\n        const [, parent] = this.getNode(parentLocation);\n\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n\n        parent.moveChild(from, to);\n    }\n\n    public addView(\n        view: IGridView,\n        size: number | Sizing,\n        location: number[]\n    ): void {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n\n        const [rest, index] = tail(location);\n\n        const [pathToParent, parent] = this.getNode(rest);\n\n        if (parent instanceof BranchNode) {\n            const node = new LeafNode(\n                view,\n                orthogonal(parent.orientation),\n                parent.orthogonalSize\n            );\n            parent.addChild(node, size, index);\n        } else {\n            const [grandParent, ..._] = [...pathToParent].reverse();\n            const [parentIndex, ...__] = [...rest].reverse();\n\n            let newSiblingSize: number | Sizing = 0;\n\n            const newSiblingCachedVisibleSize =\n                grandParent.getChildCachedVisibleSize(parentIndex);\n            if (typeof newSiblingCachedVisibleSize === 'number') {\n                newSiblingSize = Sizing.Invisible(newSiblingCachedVisibleSize);\n            }\n\n            const child = grandParent.removeChild(parentIndex);\n            child.dispose();\n\n            const newParent = new BranchNode(\n                parent.orientation,\n                this.proportionalLayout,\n                this.styles,\n                parent.size,\n                parent.orthogonalSize\n            );\n            grandParent.addChild(newParent, parent.size, parentIndex);\n\n            const newSibling = new LeafNode(\n                parent.view,\n                grandParent.orientation,\n                parent.size\n            );\n            newParent.addChild(newSibling, newSiblingSize, 0);\n\n            if (typeof size !== 'number' && size.type === 'split') {\n                size = { type: 'split', index: 0 };\n            }\n\n            const node = new LeafNode(\n                view,\n                grandParent.orientation,\n                parent.size\n            );\n            newParent.addChild(node, size, index);\n        }\n    }\n\n    public remove(view: IGridView, sizing?: Sizing): IGridView {\n        const location = getGridLocation(view.element);\n        return this.removeView(location, sizing);\n    }\n\n    removeView(location: number[], sizing?: Sizing): IGridView {\n        if (this.hasMaximizedView()) {\n            this.exitMaximizedView();\n        }\n\n        const [rest, index] = tail(location);\n        const [pathToParent, parent] = this.getNode(rest);\n\n        if (!(parent instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n\n        const nodeToRemove = parent.children[index];\n\n        if (!(nodeToRemove instanceof LeafNode)) {\n            throw new Error('Invalid location');\n        }\n\n        parent.removeChild(index, sizing);\n        nodeToRemove.dispose();\n\n        if (parent.children.length !== 1) {\n            return nodeToRemove.view;\n        }\n\n        // if the parent has only one child and we know the parent is a BranchNode we can make the tree\n        // more efficiently spaced by replacing the parent BranchNode with the child.\n        // if that child is a LeafNode then we simply replace the BranchNode with the child otherwise if the child\n        // is a BranchNode too we should spread it's children into the grandparent.\n\n        // refer to the remaining child as the sibling\n        const sibling = parent.children[0];\n\n        if (pathToParent.length === 0) {\n            // if the parent is root\n\n            if (sibling instanceof LeafNode) {\n                // if the sibling is a leaf node no action is required\n                return nodeToRemove.view;\n            }\n\n            // otherwise the sibling is a branch node. since the parent is the root and the root has only one child\n            // which is a branch node we can just set this branch node to be the new root node\n\n            // for good housekeeping we'll removing the sibling from it's existing tree\n            parent.removeChild(0, sizing);\n\n            // and set that sibling node to be root\n            this.root = sibling;\n\n            return nodeToRemove.view;\n        }\n\n        // otherwise the parent is apart of a large sub-tree\n\n        const [grandParent, ..._] = [...pathToParent].reverse();\n        const [parentIndex, ...__] = [...rest].reverse();\n\n        const isSiblingVisible = parent.isChildVisible(0);\n\n        // either way we need to remove the sibling from it's existing tree\n        parent.removeChild(0, sizing);\n\n        // note the sizes of all of the grandparents children\n        const sizes = grandParent.children.map((_size, i) =>\n            grandParent.getChildSize(i)\n        );\n\n        // remove the parent from the grandparent since we are moving the sibling to take the parents place\n        // this parent is no longer used and can be disposed of\n        grandParent.removeChild(parentIndex, sizing).dispose();\n\n        if (sibling instanceof BranchNode) {\n            // replace the parent with the siblings children\n            sizes.splice(\n                parentIndex,\n                1,\n                ...sibling.children.map((c) => c.size)\n            );\n\n            // and add those siblings to the grandparent\n            for (let i = 0; i < sibling.children.length; i++) {\n                const child = sibling.children[i];\n                grandParent.addChild(child, child.size, parentIndex + i);\n            }\n\n            /**\n             * clean down the branch node since we need to dipose of it and\n             * when .dispose() it called on a branch it will dispose of any\n             * views it is holding onto.\n             */\n            while (sibling.children.length > 0) {\n                sibling.removeChild(0);\n            }\n        } else {\n            // otherwise create a new leaf node and add that to the grandparent\n\n            const newSibling = new LeafNode(\n                sibling.view,\n                orthogonal(sibling.orientation),\n                sibling.size\n            );\n            const siblingSizing = isSiblingVisible\n                ? sibling.orthogonalSize\n                : Sizing.Invisible(sibling.orthogonalSize);\n\n            grandParent.addChild(newSibling, siblingSizing, parentIndex);\n        }\n\n        // the containing node of the sibling is no longer required and can be disposed of\n        sibling.dispose();\n\n        // resize everything\n        for (let i = 0; i < sizes.length; i++) {\n            grandParent.resizeChild(i, sizes[i]);\n        }\n\n        return nodeToRemove.view;\n    }\n\n    public layout(width: number, height: number): void {\n        const [size, orthogonalSize] =\n            this.root.orientation === Orientation.HORIZONTAL\n                ? [height, width]\n                : [width, height];\n        this.root.layout(size, orthogonalSize);\n    }\n\n    private getNode(\n        location: number[],\n        node: Node = this.root,\n        path: BranchNode[] = []\n    ): [BranchNode[], Node] {\n        if (location.length === 0) {\n            return [path, node];\n        }\n\n        if (!(node instanceof BranchNode)) {\n            throw new Error('Invalid location');\n        }\n\n        const [index, ...rest] = location;\n\n        if (index < 0 || index >= node.children.length) {\n            throw new Error('Invalid location');\n        }\n\n        const child = node.children[index];\n        path.push(node);\n\n        return this.getNode(rest, child, path);\n    }\n}\n","import {\n    DockviewDropEvent,\n    IDockviewComponent,\n    SerializedDockview,\n} from '../dockview/dockviewComponent';\nimport {\n    AddGroupOptions,\n    AddPanelOptions,\n    MovementOptions,\n} from '../dockview/options';\nimport { Parameters } from '../panel/types';\nimport { Direction } from '../gridview/baseComponentGridview';\nimport {\n    AddComponentOptions,\n    IGridviewComponent,\n    SerializedGridviewComponent,\n} from '../gridview/gridviewComponent';\nimport { IGridviewPanel } from '../gridview/gridviewPanel';\n\nimport {\n    AddPaneviewComponentOptions,\n    SerializedPaneview,\n    IPaneviewComponent,\n} from '../paneview/paneviewComponent';\nimport { IPaneviewPanel } from '../paneview/paneviewPanel';\nimport {\n    AddSplitviewComponentOptions,\n    ISplitviewComponent,\n    SerializedSplitview,\n    SplitviewComponentUpdateOptions,\n} from '../splitview/splitviewComponent';\nimport { IView, Orientation, Sizing } from '../splitview/splitview';\nimport { ISplitviewPanel } from '../splitview/splitviewPanel';\nimport {\n    DockviewGroupPanel,\n    IDockviewGroupPanel,\n} from '../dockview/dockviewGroupPanel';\nimport { Emitter, Event } from '../events';\nimport { IDockviewPanel } from '../dockview/dockviewPanel';\nimport { PaneviewDropEvent } from '../paneview/draggablePaneviewPanel';\nimport {\n    GroupDragEvent,\n    TabDragEvent,\n} from '../dockview/components/titlebar/tabsContainer';\nimport { Box } from '../types';\n\nexport interface CommonApi<T = any> {\n    readonly height: number;\n    readonly width: number;\n    readonly onDidLayoutChange: Event<void>;\n    readonly onDidLayoutFromJSON: Event<void>;\n    focus(): void;\n    layout(width: number, height: number): void;\n    fromJSON(data: T): void;\n    toJSON(): T;\n    clear(): void;\n}\n\nexport class SplitviewApi implements CommonApi<SerializedSplitview> {\n    /**\n     * The minimum size  the component can reach where size is measured in the direction of orientation provided.\n     */\n    get minimumSize(): number {\n        return this.component.minimumSize;\n    }\n\n    /**\n     * The maximum size the component can reach where size is measured in the direction of orientation provided.\n     */\n    get maximumSize(): number {\n        return this.component.maximumSize;\n    }\n\n    /**\n     * Width of the component.\n     */\n    get width(): number {\n        return this.component.width;\n    }\n\n    /**\n     * Height of the component.\n     */\n    get height(): number {\n        return this.component.height;\n    }\n    /**\n     * The current number of panels.\n     */\n    get length(): number {\n        return this.component.length;\n    }\n\n    /**\n     * The current orientation of the component.\n     */\n    get orientation(): Orientation {\n        return this.component.orientation;\n    }\n\n    /**\n     * The list of current panels.\n     */\n    get panels(): ISplitviewPanel[] {\n        return this.component.panels;\n    }\n\n    /**\n     * Invoked after a layout is loaded through the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON(): Event<void> {\n        return this.component.onDidLayoutFromJSON;\n    }\n\n    /**\n     * Invoked whenever any aspect of the layout changes.\n     * If listening to this event it may be worth debouncing ouputs.\n     */\n    get onDidLayoutChange(): Event<void> {\n        return this.component.onDidLayoutChange;\n    }\n\n    /**\n     * Invoked when a view is added.\n     */\n    get onDidAddView(): Event<IView> {\n        return this.component.onDidAddView;\n    }\n\n    /**\n     * Invoked when a view is removed.\n     */\n    get onDidRemoveView(): Event<IView> {\n        return this.component.onDidRemoveView;\n    }\n\n    constructor(private readonly component: ISplitviewComponent) {}\n\n    /**\n     * Update configuratable options.\n     */\n    updateOptions(options: SplitviewComponentUpdateOptions): void {\n        this.component.updateOptions(options);\n    }\n\n    /**\n     * Removes an existing panel and optionally provide a `Sizing` method\n     * for the subsequent resize.\n     */\n    removePanel(panel: ISplitviewPanel, sizing?: Sizing): void {\n        this.component.removePanel(panel, sizing);\n    }\n\n    /**\n     * Focus the component.\n     */\n    focus(): void {\n        this.component.focus();\n    }\n\n    /**\n     * Get the reference to a panel given it's `string` id.\n     */\n    getPanel(id: string): ISplitviewPanel | undefined {\n        return this.component.getPanel(id);\n    }\n\n    /**\n     * Layout the panel with a width and height.\n     */\n    layout(width: number, height: number): void {\n        return this.component.layout(width, height);\n    }\n\n    /**\n     * Add a new panel and return the created instance.\n     */\n    addPanel<T extends object = Parameters>(\n        options: AddSplitviewComponentOptions<T>\n    ): ISplitviewPanel {\n        return this.component.addPanel(options);\n    }\n\n    /**\n     * Move a panel given it's current and desired index.\n     */\n    movePanel(from: number, to: number): void {\n        this.component.movePanel(from, to);\n    }\n\n    /**\n     * Deserialize a layout to built a splitivew.\n     */\n    fromJSON(data: SerializedSplitview): void {\n        this.component.fromJSON(data);\n    }\n\n    /** Serialize a layout */\n    toJSON(): SerializedSplitview {\n        return this.component.toJSON();\n    }\n\n    /**\n     * Remove all panels and clear the component.\n     */\n    clear(): void {\n        this.component.clear();\n    }\n}\n\nexport class PaneviewApi implements CommonApi<SerializedPaneview> {\n    /**\n     * The minimum size  the component can reach where size is measured in the direction of orientation provided.\n     */\n    get minimumSize(): number {\n        return this.component.minimumSize;\n    }\n\n    /**\n     * The maximum size the component can reach where size is measured in the direction of orientation provided.\n     */\n    get maximumSize(): number {\n        return this.component.maximumSize;\n    }\n\n    /**\n     * Width of the component.\n     */\n    get width(): number {\n        return this.component.width;\n    }\n\n    /**\n     * Height of the component.\n     */\n    get height(): number {\n        return this.component.height;\n    }\n\n    /**\n     * All panel objects.\n     */\n    get panels(): IPaneviewPanel[] {\n        return this.component.panels;\n    }\n\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange(): Event<void> {\n        return this.component.onDidLayoutChange;\n    }\n\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON(): Event<void> {\n        return this.component.onDidLayoutFromJSON;\n    }\n\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddView(): Event<IPaneviewPanel> {\n        return this.component.onDidAddView;\n    }\n\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemoveView(): Event<IPaneviewPanel> {\n        return this.component.onDidRemoveView;\n    }\n\n    /**\n     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onDidDrop(): Event<PaneviewDropEvent> {\n        const emitter = new Emitter<PaneviewDropEvent>();\n\n        const disposable = this.component.onDidDrop((e) => {\n            emitter.fire({ ...e, api: this });\n        });\n\n        emitter.dispose = () => {\n            disposable.dispose();\n            emitter.dispose();\n        };\n\n        return emitter.event;\n    }\n\n    constructor(private readonly component: IPaneviewComponent) {}\n\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel: IPaneviewPanel): void {\n        this.component.removePanel(panel);\n    }\n\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id: string): IPaneviewPanel | undefined {\n        return this.component.getPanel(id);\n    }\n\n    /**\n     * Move a panel given it's current and desired index.\n     */\n    movePanel(from: number, to: number): void {\n        this.component.movePanel(from, to);\n    }\n\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus(): void {\n        this.component.focus();\n    }\n\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width: number, height: number): void {\n        this.component.layout(width, height);\n    }\n\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel<T extends object = Parameters>(\n        options: AddPaneviewComponentOptions<T>\n    ): IPaneviewPanel {\n        return this.component.addPanel(options);\n    }\n\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data: SerializedPaneview): void {\n        this.component.fromJSON(data);\n    }\n\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON(): SerializedPaneview {\n        return this.component.toJSON();\n    }\n\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear(): void {\n        this.component.clear();\n    }\n}\n\nexport class GridviewApi implements CommonApi<SerializedGridviewComponent> {\n    /**\n     * Width of the component.\n     */\n    get width(): number {\n        return this.component.width;\n    }\n\n    /**\n     * Height of the component.\n     */\n    get height(): number {\n        return this.component.height;\n    }\n\n    /**\n     * Minimum height of the component.\n     */\n    get minimumHeight(): number {\n        return this.component.minimumHeight;\n    }\n\n    /**\n     * Maximum height of the component.\n     */\n    get maximumHeight(): number {\n        return this.component.maximumHeight;\n    }\n\n    /**\n     * Minimum width of the component.\n     */\n    get minimumWidth(): number {\n        return this.component.minimumWidth;\n    }\n\n    /**\n     * Maximum width of the component.\n     */\n    get maximumWidth(): number {\n        return this.component.maximumWidth;\n    }\n\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange(): Event<void> {\n        return this.component.onDidLayoutChange;\n    }\n\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddPanel(): Event<IGridviewPanel> {\n        return this.component.onDidAddGroup;\n    }\n\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemovePanel(): Event<IGridviewPanel> {\n        return this.component.onDidRemoveGroup;\n    }\n\n    /**\n     * Invoked when the active panel changes. May be undefined if no panel is active.\n     */\n    get onDidActivePanelChange(): Event<IGridviewPanel | undefined> {\n        return this.component.onDidActiveGroupChange;\n    }\n\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON(): Event<void> {\n        return this.component.onDidLayoutFromJSON;\n    }\n\n    /**\n     * All panel objects.\n     */\n    get panels(): IGridviewPanel[] {\n        return this.component.groups;\n    }\n\n    /**\n     * Current orientation. Can be changed after initialization.\n     */\n    get orientation(): Orientation {\n        return this.component.orientation;\n    }\n\n    set orientation(value: Orientation) {\n        this.component.updateOptions({ orientation: value });\n    }\n\n    constructor(private readonly component: IGridviewComponent) {}\n\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus(): void {\n        this.component.focus();\n    }\n\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width: number, height: number, force = false): void {\n        this.component.layout(width, height, force);\n    }\n\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel<T extends object = Parameters>(\n        options: AddComponentOptions<T>\n    ): IGridviewPanel {\n        return this.component.addPanel(options);\n    }\n\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel: IGridviewPanel, sizing?: Sizing): void {\n        this.component.removePanel(panel, sizing);\n    }\n\n    /**\n     * Move a panel in a particular direction relative to another panel.\n     */\n    movePanel(\n        panel: IGridviewPanel,\n        options: { direction: Direction; reference: string; size?: number }\n    ): void {\n        this.component.movePanel(panel, options);\n    }\n\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id: string): IGridviewPanel | undefined {\n        return this.component.getPanel(id);\n    }\n\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data: SerializedGridviewComponent): void {\n        return this.component.fromJSON(data);\n    }\n\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON(): SerializedGridviewComponent {\n        return this.component.toJSON();\n    }\n\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear(): void {\n        this.component.clear();\n    }\n}\n\nexport class DockviewApi implements CommonApi<SerializedDockview> {\n    /**\n     * The unique identifier for this instance. Used to manage scope of Drag'n'Drop events.\n     */\n    get id(): string {\n        return this.component.id;\n    }\n\n    /**\n     * Width of the component.\n     */\n    get width(): number {\n        return this.component.width;\n    }\n\n    /**\n     * Height of the component.\n     */\n    get height(): number {\n        return this.component.height;\n    }\n\n    /**\n     * Minimum height of the component.\n     */\n    get minimumHeight(): number {\n        return this.component.minimumHeight;\n    }\n\n    /**\n     * Maximum height of the component.\n     */\n    get maximumHeight(): number {\n        return this.component.maximumHeight;\n    }\n\n    /**\n     * Minimum width of the component.\n     */\n    get minimumWidth(): number {\n        return this.component.minimumWidth;\n    }\n\n    /**\n     * Maximum width of the component.\n     */\n    get maximumWidth(): number {\n        return this.component.maximumWidth;\n    }\n\n    /**\n     * Total number of groups.\n     */\n    get size(): number {\n        return this.component.size;\n    }\n\n    /**\n     * Total number of panels.\n     */\n    get totalPanels(): number {\n        return this.component.totalPanels;\n    }\n\n    /**\n     * Invoked when the active group changes. May be undefined if no group is active.\n     */\n    get onDidActiveGroupChange(): Event<DockviewGroupPanel | undefined> {\n        return this.component.onDidActiveGroupChange;\n    }\n\n    /**\n     * Invoked when a group is added. May be called multiple times when moving groups.\n     */\n    get onDidAddGroup(): Event<DockviewGroupPanel> {\n        return this.component.onDidAddGroup;\n    }\n\n    /**\n     * Invoked when a group is removed. May be called multiple times when moving groups.\n     */\n    get onDidRemoveGroup(): Event<DockviewGroupPanel> {\n        return this.component.onDidRemoveGroup;\n    }\n\n    /**\n     * Invoked when the active panel changes. May be undefined if no panel is active.\n     */\n    get onDidActivePanelChange(): Event<IDockviewPanel | undefined> {\n        return this.component.onDidActivePanelChange;\n    }\n\n    /**\n     * Invoked when a panel is added. May be called multiple times when moving panels.\n     */\n    get onDidAddPanel(): Event<IDockviewPanel> {\n        return this.component.onDidAddPanel;\n    }\n\n    /**\n     * Invoked when a panel is removed. May be called multiple times when moving panels.\n     */\n    get onDidRemovePanel(): Event<IDockviewPanel> {\n        return this.component.onDidRemovePanel;\n    }\n\n    /**\n     * Invoked after a layout is deserialzied using the `fromJSON` method.\n     */\n    get onDidLayoutFromJSON(): Event<void> {\n        return this.component.onDidLayoutFromJSON;\n    }\n\n    /**\n     * Invoked when any layout change occures, an aggregation of many events.\n     */\n    get onDidLayoutChange(): Event<void> {\n        return this.component.onDidLayoutChange;\n    }\n\n    /**\n     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onDidDrop(): Event<DockviewDropEvent> {\n        return this.component.onDidDrop;\n    }\n\n    /**\n     * Invoked before a group is dragged. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onWillDragGroup(): Event<GroupDragEvent> {\n        return this.component.onWillDragGroup;\n    }\n\n    /**\n     * Invoked before a panel is dragged. Exposed for custom Drag'n'Drop functionality.\n     */\n    get onWillDragPanel(): Event<TabDragEvent> {\n        return this.component.onWillDragPanel;\n    }\n\n    /**\n     * All panel objects.\n     */\n    get panels(): IDockviewPanel[] {\n        return this.component.panels;\n    }\n\n    /**\n     * All group objects.\n     */\n    get groups(): DockviewGroupPanel[] {\n        return this.component.groups;\n    }\n\n    /**\n     *  Active panel object.\n     */\n    get activePanel(): IDockviewPanel | undefined {\n        return this.component.activePanel;\n    }\n\n    /**\n     * Active group object.\n     */\n    get activeGroup(): DockviewGroupPanel | undefined {\n        return this.component.activeGroup;\n    }\n\n    constructor(private readonly component: IDockviewComponent) {}\n\n    /**\n     *  Focus the component. Will try to focus an active panel if one exists.\n     */\n    focus(): void {\n        this.component.focus();\n    }\n\n    /**\n     * Get a panel object given a `string` id. May return `undefined`.\n     */\n    getPanel(id: string): IDockviewPanel | undefined {\n        return this.component.getGroupPanel(id);\n    }\n\n    /**\n     * Force resize the component to an exact width and height. Read about auto-resizing before using.\n     */\n    layout(width: number, height: number, force = false): void {\n        this.component.layout(width, height, force);\n    }\n\n    /**\n     * Add a panel and return the created object.\n     */\n    addPanel<T extends object = Parameters>(\n        options: AddPanelOptions<T>\n    ): IDockviewPanel {\n        return this.component.addPanel(options);\n    }\n\n    /**\n     * Remove a panel given the panel object.\n     */\n    removePanel(panel: IDockviewPanel): void {\n        this.component.removePanel(panel);\n    }\n\n    /**\n     * Add a group and return the created object.\n     */\n    addGroup(options?: AddGroupOptions): DockviewGroupPanel {\n        return this.component.addGroup(options);\n    }\n\n    /**\n     * Close all groups and panels.\n     */\n    closeAllGroups(): void {\n        return this.component.closeAllGroups();\n    }\n\n    /**\n     * Remove a group and any panels within the group.\n     */\n    removeGroup(group: IDockviewGroupPanel): void {\n        this.component.removeGroup(<DockviewGroupPanel>group);\n    }\n\n    /**\n     * Get a group object given a `string` id. May return undefined.\n     */\n    getGroup(id: string): DockviewGroupPanel | undefined {\n        return this.component.getPanel(id);\n    }\n\n    /**\n     * Add a floating group\n     */\n    addFloatingGroup(\n        item: IDockviewPanel | DockviewGroupPanel,\n        coord?: { x: number; y: number }\n    ): void {\n        return this.component.addFloatingGroup(item, coord);\n    }\n\n    /**\n     * Create a component from a serialized object.\n     */\n    fromJSON(data: SerializedDockview): void {\n        this.component.fromJSON(data);\n    }\n\n    /**\n     * Create a serialized object of the current component.\n     */\n    toJSON(): SerializedDockview {\n        return this.component.toJSON();\n    }\n\n    /**\n     * Reset the component back to an empty and default state.\n     */\n    clear(): void {\n        this.component.clear();\n    }\n\n    /**\n     * Move the focus progmatically to the next panel or group.\n     */\n    moveToNext(options?: MovementOptions): void {\n        this.component.moveToNext(options);\n    }\n\n    /**\n     * Move the focus progmatically to the previous panel or group.\n     */\n    moveToPrevious(options?: MovementOptions): void {\n        this.component.moveToPrevious(options);\n    }\n\n    maximizeGroup(panel: IDockviewPanel): void {\n        this.component.maximizeGroup(panel.group);\n    }\n\n    hasMaximizedGroup(): boolean {\n        return this.component.hasMaximizedGroup();\n    }\n\n    exitMaxmizedGroup(): void {\n        this.component.exitMaximizedGroup();\n    }\n\n    get onDidMaxmizedGroupChange(): Event<void> {\n        return this.component.onDidMaxmizedGroupChange;\n    }\n\n    /**\n     * Add a popout group in a new Window\n     */\n    addPopoutGroup(\n        item: IDockviewPanel | DockviewGroupPanel,\n        options?: {\n            position?: Box;\n            popoutUrl?: string;\n        }\n    ): void {\n        this.component.addPopoutGroup(item, options);\n    }\n}\n","import { addDisposableListener } from '../events';\nimport { CompositeDisposable } from '../lifecycle';\n\nexport interface IDragAndDropObserverCallbacks {\n    onDragEnter: (e: DragEvent) => void;\n    onDragLeave: (e: DragEvent) => void;\n    onDrop: (e: DragEvent) => void;\n    onDragEnd: (e: DragEvent) => void;\n    onDragOver?: (e: DragEvent) => void;\n}\n\nexport class DragAndDropObserver extends CompositeDisposable {\n    private target: EventTarget | null = null;\n\n    constructor(\n        private element: HTMLElement,\n        private callbacks: IDragAndDropObserverCallbacks\n    ) {\n        super();\n\n        this.registerListeners();\n    }\n\n    onDragEnter(e: DragEvent): void {\n        this.target = e.target;\n        this.callbacks.onDragEnter(e);\n    }\n\n    onDragOver(e: DragEvent): void {\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n\n        if (this.callbacks.onDragOver) {\n            this.callbacks.onDragOver(e);\n        }\n    }\n\n    onDragLeave(e: DragEvent): void {\n        if (this.target === e.target) {\n            this.target = null;\n\n            this.callbacks.onDragLeave(e);\n        }\n    }\n\n    onDragEnd(e: DragEvent): void {\n        this.target = null;\n        this.callbacks.onDragEnd(e);\n    }\n\n    onDrop(e: DragEvent): void {\n        this.callbacks.onDrop(e);\n    }\n\n    private registerListeners(): void {\n        this.addDisposables(\n            addDisposableListener(\n                this.element,\n                'dragenter',\n                (e: DragEvent) => {\n                    this.onDragEnter(e);\n                },\n                true\n            )\n        );\n\n        this.addDisposables(\n            addDisposableListener(\n                this.element,\n                'dragover',\n                (e: DragEvent) => {\n                    this.onDragOver(e);\n                },\n                true\n            )\n        );\n\n        this.addDisposables(\n            addDisposableListener(this.element, 'dragleave', (e: DragEvent) => {\n                this.onDragLeave(e);\n            })\n        );\n\n        this.addDisposables(\n            addDisposableListener(this.element, 'dragend', (e: DragEvent) => {\n                this.onDragEnd(e);\n            })\n        );\n\n        this.addDisposables(\n            addDisposableListener(this.element, 'drop', (e: DragEvent) => {\n                this.onDrop(e);\n            })\n        );\n    }\n}\n\nexport interface IDraggedCompositeData {\n    eventData: DragEvent;\n    dragAndDropData: any;\n}\n\nexport interface ICompositeDragAndDropObserverCallbacks {\n    onDragEnter?: (e: IDraggedCompositeData) => void;\n    onDragLeave?: (e: IDraggedCompositeData) => void;\n    onDrop?: (e: IDraggedCompositeData) => void;\n    onDragOver?: (e: IDraggedCompositeData) => void;\n    onDragStart?: (e: IDraggedCompositeData) => void;\n    onDragEnd?: (e: IDraggedCompositeData) => void;\n}\n","import { toggleClass } from '../dom';\nimport { Emitter, Event } from '../events';\nimport { CompositeDisposable } from '../lifecycle';\nimport { DragAndDropObserver } from './dnd';\nimport { clamp } from '../math';\nimport { Direction } from '../gridview/baseComponentGridview';\n\nfunction numberOrFallback(maybeNumber: any, fallback: number): number {\n    return typeof maybeNumber === 'number' ? maybeNumber : fallback;\n}\n\nexport function directionToPosition(direction: Direction): Position {\n    switch (direction) {\n        case 'above':\n            return 'top';\n        case 'below':\n            return 'bottom';\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'within':\n            return 'center';\n        default:\n            throw new Error(`invalid direction '${direction}'`);\n    }\n}\n\nexport function positionToDirection(position: Position): Direction {\n    switch (position) {\n        case 'top':\n            return 'above';\n        case 'bottom':\n            return 'below';\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'center':\n            return 'within';\n        default:\n            throw new Error(`invalid position '${position}'`);\n    }\n}\n\nexport interface DroptargetEvent {\n    readonly position: Position;\n    readonly nativeEvent: DragEvent;\n}\n\nexport type Position = 'top' | 'bottom' | 'left' | 'right' | 'center';\n\nexport type CanDisplayOverlay =\n    | boolean\n    | ((dragEvent: DragEvent, state: Position) => boolean);\n\nexport class Droptarget extends CompositeDisposable {\n    private targetElement: HTMLElement | undefined;\n    private overlayElement: HTMLElement | undefined;\n    private _state: Position | undefined;\n    private _acceptedTargetZonesSet: Set<Position>;\n\n    private readonly _onDrop = new Emitter<DroptargetEvent>();\n    readonly onDrop: Event<DroptargetEvent> = this._onDrop.event;\n\n    readonly dnd: DragAndDropObserver;\n\n    private static USED_EVENT_ID = '__dockview_droptarget_event_is_used__';\n\n    get state(): Position | undefined {\n        return this._state;\n    }\n\n    constructor(\n        private readonly element: HTMLElement,\n        private readonly options: {\n            canDisplayOverlay: CanDisplayOverlay;\n            acceptedTargetZones: Position[];\n            overlayModel?: {\n                size?: { value: number; type: 'pixels' | 'percentage' };\n                activationSize?: {\n                    value: number;\n                    type: 'pixels' | 'percentage';\n                };\n            };\n        }\n    ) {\n        super();\n\n        // use a set to take advantage of #<set>.has\n        this._acceptedTargetZonesSet = new Set(\n            this.options.acceptedTargetZones\n        );\n\n        this.dnd = new DragAndDropObserver(this.element, {\n            onDragEnter: () => undefined,\n            onDragOver: (e) => {\n                if (this._acceptedTargetZonesSet.size === 0) {\n                    this.removeDropTarget();\n                    return;\n                }\n\n                const width = this.element.clientWidth;\n                const height = this.element.clientHeight;\n\n                if (width === 0 || height === 0) {\n                    return; // avoid div!0\n                }\n\n                const rect = (\n                    e.currentTarget as HTMLElement\n                ).getBoundingClientRect();\n                const x = e.clientX - rect.left;\n                const y = e.clientY - rect.top;\n\n                const quadrant = this.calculateQuadrant(\n                    this._acceptedTargetZonesSet,\n                    x,\n                    y,\n                    width,\n                    height\n                );\n\n                /**\n                 * If the event has already been used by another DropTarget instance\n                 * then don't show a second drop target, only one target should be\n                 * active at any one time\n                 */\n                if (this.isAlreadyUsed(e) || quadrant === null) {\n                    // no drop target should be displayed\n                    this.removeDropTarget();\n                    return;\n                }\n\n                if (typeof this.options.canDisplayOverlay === 'boolean') {\n                    if (!this.options.canDisplayOverlay) {\n                        this.removeDropTarget();\n                        return;\n                    }\n                } else if (!this.options.canDisplayOverlay(e, quadrant)) {\n                    this.removeDropTarget();\n                    return;\n                }\n\n                this.markAsUsed(e);\n\n                if (!this.targetElement) {\n                    this.targetElement = document.createElement('div');\n                    this.targetElement.className = 'drop-target-dropzone';\n                    this.overlayElement = document.createElement('div');\n                    this.overlayElement.className = 'drop-target-selection';\n                    this._state = 'center';\n                    this.targetElement.appendChild(this.overlayElement);\n\n                    this.element.classList.add('drop-target');\n                    this.element.append(this.targetElement);\n                }\n\n                this.toggleClasses(quadrant, width, height);\n\n                this.setState(quadrant);\n            },\n            onDragLeave: () => {\n                this.removeDropTarget();\n            },\n            onDragEnd: () => {\n                this.removeDropTarget();\n            },\n            onDrop: (e) => {\n                e.preventDefault();\n\n                const state = this._state;\n\n                this.removeDropTarget();\n\n                if (state) {\n                    // only stop the propagation of the event if we are dealing with it\n                    // which is only when the target has state\n                    e.stopPropagation();\n                    this._onDrop.fire({ position: state, nativeEvent: e });\n                }\n            },\n        });\n\n        this.addDisposables(this._onDrop, this.dnd);\n    }\n\n    setTargetZones(acceptedTargetZones: Position[]): void {\n        this._acceptedTargetZonesSet = new Set(acceptedTargetZones);\n    }\n\n    dispose(): void {\n        this.removeDropTarget();\n        super.dispose();\n    }\n\n    /**\n     * Add a property to the event object for other potential listeners to check\n     */\n    private markAsUsed(event: DragEvent): void {\n        (event as any)[Droptarget.USED_EVENT_ID] = true;\n    }\n\n    /**\n     * Check is the event has already been used by another instance od DropTarget\n     */\n    private isAlreadyUsed(event: DragEvent): boolean {\n        const value = (event as any)[Droptarget.USED_EVENT_ID];\n        return typeof value === 'boolean' && value;\n    }\n\n    private toggleClasses(\n        quadrant: Position,\n        width: number,\n        height: number\n    ): void {\n        if (!this.overlayElement) {\n            return;\n        }\n\n        const isSmallX = width < 100;\n        const isSmallY = height < 100;\n\n        const isLeft = quadrant === 'left';\n        const isRight = quadrant === 'right';\n        const isTop = quadrant === 'top';\n        const isBottom = quadrant === 'bottom';\n\n        const rightClass = !isSmallX && isRight;\n        const leftClass = !isSmallX && isLeft;\n        const topClass = !isSmallY && isTop;\n        const bottomClass = !isSmallY && isBottom;\n\n        let size = 0.5;\n\n        if (this.options.overlayModel?.size?.type === 'percentage') {\n            size = clamp(this.options.overlayModel.size.value, 0, 100) / 100;\n        }\n\n        if (this.options.overlayModel?.size?.type === 'pixels') {\n            if (rightClass || leftClass) {\n                size =\n                    clamp(0, this.options.overlayModel.size.value, width) /\n                    width;\n            }\n            if (topClass || bottomClass) {\n                size =\n                    clamp(0, this.options.overlayModel.size.value, height) /\n                    height;\n            }\n        }\n\n        const translate = (1 - size) / 2;\n        const scale = size;\n\n        let transform: string;\n\n        if (rightClass) {\n            transform = `translateX(${100 * translate}%) scaleX(${scale})`;\n        } else if (leftClass) {\n            transform = `translateX(-${100 * translate}%) scaleX(${scale})`;\n        } else if (topClass) {\n            transform = `translateY(-${100 * translate}%) scaleY(${scale})`;\n        } else if (bottomClass) {\n            transform = `translateY(${100 * translate}%) scaleY(${scale})`;\n        } else {\n            transform = '';\n        }\n\n        this.overlayElement.style.transform = transform;\n\n        toggleClass(this.overlayElement, 'small-right', isSmallX && isRight);\n        toggleClass(this.overlayElement, 'small-left', isSmallX && isLeft);\n        toggleClass(this.overlayElement, 'small-top', isSmallY && isTop);\n        toggleClass(this.overlayElement, 'small-bottom', isSmallY && isBottom);\n    }\n\n    private setState(quadrant: Position): void {\n        switch (quadrant) {\n            case 'top':\n                this._state = 'top';\n                break;\n            case 'left':\n                this._state = 'left';\n                break;\n            case 'bottom':\n                this._state = 'bottom';\n                break;\n            case 'right':\n                this._state = 'right';\n                break;\n            case 'center':\n                this._state = 'center';\n                break;\n        }\n    }\n\n    private calculateQuadrant(\n        overlayType: Set<Position>,\n        x: number,\n        y: number,\n        width: number,\n        height: number\n    ): Position | null {\n        const isPercentage =\n            this.options.overlayModel?.activationSize === undefined ||\n            this.options.overlayModel?.activationSize?.type === 'percentage';\n\n        const value = numberOrFallback(\n            this.options?.overlayModel?.activationSize?.value,\n            20\n        );\n\n        if (isPercentage) {\n            return calculateQuadrantAsPercentage(\n                overlayType,\n                x,\n                y,\n                width,\n                height,\n                value\n            );\n        }\n\n        return calculateQuadrantAsPixels(\n            overlayType,\n            x,\n            y,\n            width,\n            height,\n            value\n        );\n    }\n\n    private removeDropTarget(): void {\n        if (this.targetElement) {\n            this._state = undefined;\n            this.element.removeChild(this.targetElement);\n            this.targetElement = undefined;\n            this.overlayElement = undefined;\n            this.element.classList.remove('drop-target');\n        }\n    }\n}\n\nexport function calculateQuadrantAsPercentage(\n    overlayType: Set<Position>,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    threshold: number\n): Position | null {\n    const xp = (100 * x) / width;\n    const yp = (100 * y) / height;\n\n    if (overlayType.has('left') && xp < threshold) {\n        return 'left';\n    }\n    if (overlayType.has('right') && xp > 100 - threshold) {\n        return 'right';\n    }\n    if (overlayType.has('top') && yp < threshold) {\n        return 'top';\n    }\n    if (overlayType.has('bottom') && yp > 100 - threshold) {\n        return 'bottom';\n    }\n\n    if (!overlayType.has('center')) {\n        return null;\n    }\n\n    return 'center';\n}\n\nexport function calculateQuadrantAsPixels(\n    overlayType: Set<Position>,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    threshold: number\n): Position | null {\n    if (overlayType.has('left') && x < threshold) {\n        return 'left';\n    }\n    if (overlayType.has('right') && x > width - threshold) {\n        return 'right';\n    }\n    if (overlayType.has('top') && y < threshold) {\n        return 'top';\n    }\n    if (overlayType.has('bottom') && y > height - threshold) {\n        return 'bottom';\n    }\n\n    if (!overlayType.has('center')) {\n        return null;\n    }\n\n    return 'center';\n}\n","import { IDockviewComponent } from './dockviewComponent';\nimport { DockviewPanelApi } from '../api/dockviewPanelApi';\nimport { PanelInitParameters, IPanel } from '../panel/types';\nimport { DockviewApi } from '../api/component.api';\nimport { Event } from '../events';\nimport { Optional } from '../types';\nimport { DockviewGroupPanel, IDockviewGroupPanel } from './dockviewGroupPanel';\nimport { DockviewPanelRenderer } from '../overlayRenderContainer';\n\nexport enum DockviewDropTargets {\n    Tab,\n    Panel,\n    TabContainer,\n    Edge,\n}\n\nexport interface HeaderPartInitParameters {\n    title: string;\n}\n\nexport interface GroupPanelPartInitParameters\n    extends PanelInitParameters,\n        HeaderPartInitParameters {\n    api: DockviewPanelApi;\n    containerApi: DockviewApi;\n}\n\nexport interface GroupPanelContentPartInitParameters\n    extends GroupPanelPartInitParameters {\n    tab: ITabRenderer;\n}\n\nexport interface WatermarkRendererInitParameters {\n    containerApi: DockviewApi;\n    group?: IDockviewGroupPanel;\n}\n\nexport interface IWatermarkRenderer\n    extends Optional<\n        Omit<IPanel, 'id' | 'init'>,\n        'dispose' | 'update' | 'layout' | 'toJSON'\n    > {\n    readonly element: HTMLElement;\n    init: (params: WatermarkRendererInitParameters) => void;\n    updateParentGroup(group: DockviewGroupPanel, visible: boolean): void;\n}\n\nexport interface ITabRenderer\n    extends Optional<\n        Omit<IPanel, 'id'>,\n        'dispose' | 'update' | 'layout' | 'toJSON'\n    > {\n    readonly element: HTMLElement;\n    init(parameters: GroupPanelPartInitParameters): void;\n    onGroupChange?(group: DockviewGroupPanel): void;\n    onPanelVisibleChange?(isPanelVisible: boolean): void;\n}\n\nexport interface IContentRenderer\n    extends Optional<\n        Omit<IPanel, 'id'>,\n        'dispose' | 'update' | 'layout' | 'toJSON'\n    > {\n    readonly element: HTMLElement;\n    readonly onDidFocus?: Event<void>;\n    readonly onDidBlur?: Event<void>;\n    init(parameters: GroupPanelContentPartInitParameters): void;\n    onGroupChange?(group: DockviewGroupPanel): void;\n    onPanelVisibleChange?(isPanelVisible: boolean): void;\n}\n\n// watermark component\n\nexport interface WatermarkPartInitParameters {\n    accessor: IDockviewComponent;\n}\n\n// constructors\n\nexport interface WatermarkConstructor {\n    new (): IWatermarkRenderer;\n}\n\nexport interface IGroupPanelInitParameters\n    extends PanelInitParameters,\n        HeaderPartInitParameters {\n    //\n}\n\nexport interface GroupviewPanelState {\n    id: string;\n    contentComponent?: string;\n    tabComponent?: string;\n    title?: string;\n    renderer?: DockviewPanelRenderer;\n    params?: { [key: string]: any };\n}\n","import {\n    CompositeDisposable,\n    IDisposable,\n    MutableDisposable,\n} from '../../../lifecycle';\nimport { Emitter, Event } from '../../../events';\nimport { trackFocus } from '../../../dom';\nimport { IDockviewPanel } from '../../dockviewPanel';\nimport { DockviewComponent } from '../../dockviewComponent';\nimport { Droptarget } from '../../../dnd/droptarget';\nimport { DockviewGroupPanelModel } from '../../dockviewGroupPanelModel';\nimport { getPanelData } from '../../../dnd/dataTransfer';\nimport { DockviewDropTargets } from '../../types';\n\nexport interface IContentContainer extends IDisposable {\n    readonly dropTarget: Droptarget;\n    onDidFocus: Event<void>;\n    onDidBlur: Event<void>;\n    element: HTMLElement;\n    layout(width: number, height: number): void;\n    openPanel: (panel: IDockviewPanel) => void;\n    closePanel: () => void;\n    show(): void;\n    hide(): void;\n    renderPanel(panel: IDockviewPanel): void;\n}\n\nexport class ContentContainer\n    extends CompositeDisposable\n    implements IContentContainer\n{\n    private _element: HTMLElement;\n    private panel: IDockviewPanel | undefined;\n    private disposable = new MutableDisposable();\n\n    private readonly _onDidFocus = new Emitter<void>();\n    readonly onDidFocus: Event<void> = this._onDidFocus.event;\n\n    private readonly _onDidBlur = new Emitter<void>();\n    readonly onDidBlur: Event<void> = this._onDidBlur.event;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    readonly dropTarget: Droptarget;\n\n    constructor(\n        private readonly accessor: DockviewComponent,\n        private readonly group: DockviewGroupPanelModel\n    ) {\n        super();\n        this._element = document.createElement('div');\n        this._element.className = 'content-container';\n        this._element.tabIndex = -1;\n\n        this.addDisposables(this._onDidFocus, this._onDidBlur);\n\n        this.dropTarget = new Droptarget(this.element, {\n            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],\n            canDisplayOverlay: (event, position) => {\n                if (\n                    this.group.locked === 'no-drop-target' ||\n                    (this.group.locked && position === 'center')\n                ) {\n                    return false;\n                }\n\n                const data = getPanelData();\n\n                if (\n                    !data &&\n                    event.shiftKey &&\n                    this.group.location !== 'floating'\n                ) {\n                    return false;\n                }\n\n                if (data && data.viewId === this.accessor.id) {\n                    if (data.groupId === this.group.id) {\n                        if (position === 'center') {\n                            // don't allow to drop on self for center position\n                            return false;\n                        }\n                        if (data.panelId === null) {\n                            // don't allow group move to drop anywhere on self\n                            return false;\n                        }\n                    }\n\n                    const groupHasOnePanelAndIsActiveDragElement =\n                        this.group.panels.length === 1 &&\n                        data.groupId === this.group.id;\n\n                    return !groupHasOnePanelAndIsActiveDragElement;\n                }\n\n                return this.group.canDisplayOverlay(\n                    event,\n                    position,\n                    DockviewDropTargets.Panel\n                );\n            },\n        });\n\n        this.addDisposables(this.dropTarget);\n    }\n\n    show(): void {\n        this.element.style.display = '';\n    }\n\n    hide(): void {\n        this.element.style.display = 'none';\n    }\n\n    renderPanel(panel: IDockviewPanel): void {\n        const isActive = panel === this.group.activePanel;\n\n        let container: HTMLElement;\n\n        switch (panel.api.renderer) {\n            case 'onlyWhenVisibile':\n                this.accessor.overlayRenderContainer.remove(panel);\n                if (isActive) {\n                    if (this.panel) {\n                        this._element.appendChild(\n                            this.panel.view.content.element\n                        );\n                    }\n                }\n                container = this._element;\n                break;\n            case 'always':\n                if (\n                    panel.view.content.element.parentElement === this._element\n                ) {\n                    this._element.removeChild(panel.view.content.element);\n                }\n                container =\n                    this.accessor.overlayRenderContainer.setReferenceContentContainer(\n                        panel,\n                        this\n                    );\n                break;\n        }\n\n        if (isActive) {\n            const _onDidFocus = panel.view.content.onDidFocus;\n            const _onDidBlur = panel.view.content.onDidBlur;\n\n            const focusTracker = trackFocus(container);\n            const disposable = new CompositeDisposable();\n\n            disposable.addDisposables(\n                focusTracker,\n                focusTracker.onDidFocus(() => this._onDidFocus.fire()),\n                focusTracker.onDidBlur(() => this._onDidBlur.fire())\n            );\n\n            if (_onDidFocus) {\n                disposable.addDisposables(\n                    _onDidFocus(() => this._onDidFocus.fire())\n                );\n            }\n            if (_onDidBlur) {\n                disposable.addDisposables(\n                    _onDidBlur(() => this._onDidBlur.fire())\n                );\n            }\n\n            this.disposable.value = disposable;\n        }\n    }\n\n    public openPanel(panel: IDockviewPanel): void {\n        if (this.panel === panel) {\n            return;\n        }\n\n        const renderer = panel.api.renderer;\n\n        if (\n            this.panel &&\n            this.panel.view.content.element.parentElement === this._element\n        ) {\n            /**\n             * If the currently attached panel is mounted directly to the content then remove it\n             */\n            this._element.removeChild(this.panel.view.content.element);\n        }\n\n        this.panel = panel;\n\n        let container: HTMLElement;\n\n        switch (renderer) {\n            case 'always':\n                container =\n                    this.accessor.overlayRenderContainer.setReferenceContentContainer(\n                        panel,\n                        this\n                    );\n                break;\n            case 'onlyWhenVisibile':\n                this._element.appendChild(this.panel.view.content.element);\n                container = this._element;\n                break;\n        }\n\n        const _onDidFocus = this.panel.view.content.onDidFocus;\n        const _onDidBlur = this.panel.view.content.onDidBlur;\n\n        const disposable = new CompositeDisposable();\n        const focusTracker = trackFocus(container);\n\n        disposable.addDisposables(\n            focusTracker,\n            focusTracker.onDidFocus(() => this._onDidFocus.fire()),\n            focusTracker.onDidBlur(() => this._onDidBlur.fire())\n        );\n\n        if (_onDidFocus) {\n            disposable.addDisposables(\n                _onDidFocus(() => this._onDidFocus.fire())\n            );\n        }\n        if (_onDidBlur) {\n            disposable.addDisposables(_onDidBlur(() => this._onDidBlur.fire()));\n        }\n\n        this.disposable.value = disposable;\n    }\n\n    public layout(_width: number, _height: number): void {\n        // noop\n    }\n\n    public closePanel(): void {\n        if (this.panel) {\n            if (this.accessor.options.defaultRenderer === 'onlyWhenVisibile') {\n                this._element.removeChild(this.panel.view.content.element);\n            }\n            this.panel = undefined;\n        }\n    }\n\n    public dispose(): void {\n        this.disposable.dispose();\n        super.dispose();\n    }\n}\n","import { getElementsByTagName } from '../dom';\nimport { addDisposableListener, Emitter } from '../events';\nimport {\n    CompositeDisposable,\n    IDisposable,\n    MutableDisposable,\n} from '../lifecycle';\n\nexport abstract class DragHandler extends CompositeDisposable {\n    private readonly dataDisposable = new MutableDisposable();\n    private readonly pointerEventsDisposable = new MutableDisposable();\n\n    private readonly _onDragStart = new Emitter<DragEvent>();\n    readonly onDragStart = this._onDragStart.event;\n\n    constructor(protected readonly el: HTMLElement) {\n        super();\n\n        this.addDisposables(\n            this._onDragStart,\n            this.dataDisposable,\n            this.pointerEventsDisposable\n        );\n\n        this.configure();\n    }\n\n    abstract getData(event: DragEvent): IDisposable;\n\n    protected isCancelled(_event: DragEvent): boolean {\n        return false;\n    }\n\n    private configure(): void {\n        this.addDisposables(\n            this._onDragStart,\n            addDisposableListener(this.el, 'dragstart', (event) => {\n                if (event.defaultPrevented || this.isCancelled(event)) {\n                    event.preventDefault();\n                    return;\n                }\n\n                const iframes = [\n                    ...getElementsByTagName('iframe'),\n                    ...getElementsByTagName('webview'),\n                ];\n\n                this.pointerEventsDisposable.value = {\n                    dispose: () => {\n                        for (const iframe of iframes) {\n                            iframe.style.pointerEvents = 'auto';\n                        }\n                    },\n                };\n\n                for (const iframe of iframes) {\n                    iframe.style.pointerEvents = 'none';\n                }\n\n                this.el.classList.add('dv-dragged');\n                setTimeout(() => this.el.classList.remove('dv-dragged'), 0);\n\n                this.dataDisposable.value = this.getData(event);\n                this._onDragStart.fire(event);\n\n                if (event.dataTransfer) {\n                    event.dataTransfer.effectAllowed = 'move';\n\n                    const hasData = event.dataTransfer.items.length > 0;\n\n                    if (!hasData) {\n                        /**\n                         * Although this is not used by dockview many third party dnd libraries will check\n                         * dataTransfer.types to determine valid drag events.\n                         *\n                         * For example: in react-dnd if dataTransfer.types is not set then the dragStart event will be cancelled\n                         * through .preventDefault(). Since this is applied globally to all drag events this would break dockviews\n                         * dnd logic. You can see the code at\n                         * https://github.com/react-dnd/react-dnd/blob/main/packages/backend-html5/src/HTML5BackendImpl.ts#L542\n                         */\n                        event.dataTransfer.setData(\n                            'text/plain',\n                            '__dockview_internal_drag_event__'\n                        );\n                    }\n                }\n            }),\n            addDisposableListener(this.el, 'dragend', () => {\n                this.pointerEventsDisposable.dispose();\n                this.dataDisposable.dispose();\n            })\n        );\n    }\n}\n","import { addDisposableListener, Emitter, Event } from '../../../events';\nimport { CompositeDisposable, IDisposable } from '../../../lifecycle';\nimport {\n    getPanelData,\n    LocalSelectionTransfer,\n    PanelTransfer,\n} from '../../../dnd/dataTransfer';\nimport { toggleClass } from '../../../dom';\nimport { DockviewComponent } from '../../dockviewComponent';\nimport { DockviewDropTargets, ITabRenderer } from '../../types';\nimport { DockviewGroupPanel } from '../../dockviewGroupPanel';\nimport { DroptargetEvent, Droptarget } from '../../../dnd/droptarget';\nimport { DragHandler } from '../../../dnd/abstractDragHandler';\nimport { IDockviewPanel } from '../../dockviewPanel';\n\nclass TabDragHandler extends DragHandler {\n    private readonly panelTransfer =\n        LocalSelectionTransfer.getInstance<PanelTransfer>();\n\n    constructor(\n        element: HTMLElement,\n        private readonly accessor: DockviewComponent,\n        private readonly group: DockviewGroupPanel,\n        private readonly panel: IDockviewPanel\n    ) {\n        super(element);\n    }\n\n    getData(event: DragEvent): IDisposable {\n        this.panelTransfer.setData(\n            [new PanelTransfer(this.accessor.id, this.group.id, this.panel.id)],\n            PanelTransfer.prototype\n        );\n\n        return {\n            dispose: () => {\n                this.panelTransfer.clearData(PanelTransfer.prototype);\n            },\n        };\n    }\n}\n\nexport interface ITab extends IDisposable {\n    readonly panel: IDockviewPanel;\n    readonly element: HTMLElement;\n    setContent: (element: ITabRenderer) => void;\n    onChanged: Event<MouseEvent>;\n    onDrop: Event<DroptargetEvent>;\n    setActive(isActive: boolean): void;\n}\n\nexport class Tab extends CompositeDisposable implements ITab {\n    private readonly _element: HTMLElement;\n    private readonly droptarget: Droptarget;\n    private content: ITabRenderer | undefined = undefined;\n\n    private readonly _onChanged = new Emitter<MouseEvent>();\n    readonly onChanged: Event<MouseEvent> = this._onChanged.event;\n\n    private readonly _onDropped = new Emitter<DroptargetEvent>();\n    readonly onDrop: Event<DroptargetEvent> = this._onDropped.event;\n\n    private readonly _onDragStart = new Emitter<DragEvent>();\n    readonly onDragStart = this._onDragStart.event;\n\n    public get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor(\n        public readonly panel: IDockviewPanel,\n        private readonly accessor: DockviewComponent,\n        private readonly group: DockviewGroupPanel\n    ) {\n        super();\n\n        this._element = document.createElement('div');\n        this._element.className = 'tab';\n        this._element.tabIndex = 0;\n        this._element.draggable = true;\n\n        toggleClass(this.element, 'inactive-tab', true);\n\n        const dragHandler = new TabDragHandler(\n            this._element,\n            this.accessor,\n            this.group,\n            this.panel\n        );\n\n        this.droptarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['center'],\n            canDisplayOverlay: (event, position) => {\n                if (this.group.locked) {\n                    return false;\n                }\n\n                const data = getPanelData();\n\n                if (data && this.accessor.id === data.viewId) {\n                    if (\n                        data.panelId === null &&\n                        data.groupId === this.group.id\n                    ) {\n                        // don't allow group move to drop on self\n                        return false;\n                    }\n\n                    return this.panel.id !== data.panelId;\n                }\n\n                return this.group.model.canDisplayOverlay(\n                    event,\n                    position,\n                    DockviewDropTargets.Tab\n                );\n            },\n        });\n\n        this.addDisposables(\n            this._onChanged,\n            this._onDropped,\n            this._onDragStart,\n            dragHandler.onDragStart((event) => {\n                this._onDragStart.fire(event);\n            }),\n            dragHandler,\n            addDisposableListener(this._element, 'mousedown', (event) => {\n                if (event.defaultPrevented) {\n                    return;\n                }\n\n                this._onChanged.fire(event);\n            }),\n            this.droptarget.onDrop((event) => {\n                this._onDropped.fire(event);\n            }),\n            this.droptarget\n        );\n    }\n\n    public setActive(isActive: boolean): void {\n        toggleClass(this.element, 'active-tab', isActive);\n        toggleClass(this.element, 'inactive-tab', !isActive);\n    }\n\n    public setContent(part: ITabRenderer): void {\n        if (this.content) {\n            this._element.removeChild(this.content.element);\n        }\n        this.content = part;\n        this._element.appendChild(this.content.element);\n    }\n\n    public dispose(): void {\n        super.dispose();\n    }\n}\n","import { DockviewComponent } from '../dockview/dockviewComponent';\nimport { DockviewGroupPanel } from '../dockview/dockviewGroupPanel';\nimport { quasiPreventDefault } from '../dom';\nimport { addDisposableListener } from '../events';\nimport { IDisposable } from '../lifecycle';\nimport { DragHandler } from './abstractDragHandler';\nimport { LocalSelectionTransfer, PanelTransfer } from './dataTransfer';\nimport { addGhostImage } from './ghost';\n\nexport class GroupDragHandler extends DragHandler {\n    private readonly panelTransfer =\n        LocalSelectionTransfer.getInstance<PanelTransfer>();\n\n    constructor(\n        element: HTMLElement,\n        private readonly accessor: DockviewComponent,\n        private readonly group: DockviewGroupPanel\n    ) {\n        super(element);\n\n        this.addDisposables(\n            addDisposableListener(\n                element,\n                'mousedown',\n                (e) => {\n                    if (e.shiftKey) {\n                        /**\n                         * You cannot call e.preventDefault() because that will prevent drag events from firing\n                         * but we also need to stop any group overlay drag events from occuring\n                         * Use a custom event marker that can be checked by the overlay drag events\n                         */\n                        quasiPreventDefault(e);\n                    }\n                },\n                true\n            )\n        );\n    }\n\n    override isCancelled(_event: DragEvent): boolean {\n        if (this.group.api.location === 'floating' && !_event.shiftKey) {\n            return true;\n        }\n        return false;\n    }\n\n    getData(dragEvent: DragEvent): IDisposable {\n        const dataTransfer = dragEvent.dataTransfer;\n\n        this.panelTransfer.setData(\n            [new PanelTransfer(this.accessor.id, this.group.id, null)],\n            PanelTransfer.prototype\n        );\n\n        const style = window.getComputedStyle(this.el);\n\n        const bgColor = style.getPropertyValue(\n            '--dv-activegroup-visiblepanel-tab-background-color'\n        );\n        const color = style.getPropertyValue(\n            '--dv-activegroup-visiblepanel-tab-color'\n        );\n\n        if (dataTransfer) {\n            const ghostElement = document.createElement('div');\n\n            ghostElement.style.backgroundColor = bgColor;\n            ghostElement.style.color = color;\n            ghostElement.style.padding = '2px 8px';\n            ghostElement.style.height = '24px';\n            ghostElement.style.fontSize = '11px';\n            ghostElement.style.lineHeight = '20px';\n            ghostElement.style.borderRadius = '12px';\n            ghostElement.style.position = 'absolute';\n            ghostElement.textContent = `Multiple Panels (${this.group.size})`;\n\n            addGhostImage(dataTransfer, ghostElement);\n        }\n\n        return {\n            dispose: () => {\n                this.panelTransfer.clearData(PanelTransfer.prototype);\n            },\n        };\n    }\n}\n","import { addClasses, removeClasses } from '../dom';\n\nexport function addGhostImage(\n    dataTransfer: DataTransfer,\n    ghostElement: HTMLElement\n): void {\n    // class dockview provides to force ghost image to be drawn on a different layer and prevent weird rendering issues\n    addClasses(ghostElement, 'dv-dragged');\n\n    document.body.appendChild(ghostElement);\n    dataTransfer.setDragImage(ghostElement, 0, 0);\n\n    setTimeout(() => {\n        removeClasses(ghostElement, 'dv-dragged');\n        ghostElement.remove();\n    }, 0);\n}\n","import { last } from '../../../array';\nimport { getPanelData } from '../../../dnd/dataTransfer';\nimport { Droptarget, DroptargetEvent } from '../../../dnd/droptarget';\nimport { GroupDragHandler } from '../../../dnd/groupDragHandler';\nimport { DockviewComponent } from '../../dockviewComponent';\nimport { addDisposableListener, Emitter, Event } from '../../../events';\nimport { CompositeDisposable } from '../../../lifecycle';\nimport { DockviewGroupPanel } from '../../dockviewGroupPanel';\nimport { DockviewDropTargets } from '../../types';\n\nexport class VoidContainer extends CompositeDisposable {\n    private readonly _element: HTMLElement;\n    private readonly voidDropTarget: Droptarget;\n\n    private readonly _onDrop = new Emitter<DroptargetEvent>();\n    readonly onDrop: Event<DroptargetEvent> = this._onDrop.event;\n\n    private readonly _onDragStart = new Emitter<DragEvent>();\n    readonly onDragStart = this._onDragStart.event;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor(\n        private readonly accessor: DockviewComponent,\n        private readonly group: DockviewGroupPanel\n    ) {\n        super();\n\n        this._element = document.createElement('div');\n\n        this._element.className = 'void-container';\n        this._element.tabIndex = 0;\n        this._element.draggable = true;\n\n        this.addDisposables(\n            this._onDrop,\n            this._onDragStart,\n            addDisposableListener(this._element, 'click', () => {\n                this.accessor.doSetGroupActive(this.group);\n            })\n        );\n\n        const handler = new GroupDragHandler(this._element, accessor, group);\n\n        this.voidDropTarget = new Droptarget(this._element, {\n            acceptedTargetZones: ['center'],\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n\n                if (data && this.accessor.id === data.viewId) {\n                    if (\n                        data.panelId === null &&\n                        data.groupId === this.group.id\n                    ) {\n                        // don't allow group move to drop on self\n                        return false;\n                    }\n\n                    // don't show the overlay if the tab being dragged is the last panel of this group\n                    return last(this.group.panels)?.id !== data.panelId;\n                }\n\n                return group.model.canDisplayOverlay(\n                    event,\n                    position,\n                    DockviewDropTargets.Panel\n                );\n            },\n        });\n\n        this.addDisposables(\n            handler,\n            handler.onDragStart((event) => {\n                this._onDragStart.fire(event);\n            }),\n            this.voidDropTarget.onDrop((event) => {\n                this._onDrop.fire(event);\n            }),\n            this.voidDropTarget\n        );\n    }\n}\n","import {\n    IDisposable,\n    CompositeDisposable,\n    IValueDisposable,\n} from '../../../lifecycle';\nimport { addDisposableListener, Emitter, Event } from '../../../events';\nimport { ITab, Tab } from '../tab/tab';\nimport { DockviewComponent } from '../../dockviewComponent';\nimport { DockviewGroupPanel } from '../../dockviewGroupPanel';\nimport { VoidContainer } from './voidContainer';\nimport { toggleClass } from '../../../dom';\nimport { DockviewPanel, IDockviewPanel } from '../../dockviewPanel';\n\nexport interface TabDropIndexEvent {\n    readonly event: DragEvent;\n    readonly index: number;\n}\n\nexport interface TabDragEvent {\n    readonly nativeEvent: DragEvent;\n    readonly panel: IDockviewPanel;\n}\n\nexport interface GroupDragEvent {\n    readonly nativeEvent: DragEvent;\n    readonly group: DockviewGroupPanel;\n}\n\nexport interface ITabsContainer extends IDisposable {\n    readonly element: HTMLElement;\n    readonly panels: string[];\n    readonly size: number;\n    hidden: boolean;\n    delete: (id: string) => void;\n    indexOf: (id: string) => number;\n    onDrop: Event<TabDropIndexEvent>;\n    onTabDragStart: Event<TabDragEvent>;\n    onGroupDragStart: Event<GroupDragEvent>;\n    setActive: (isGroupActive: boolean) => void;\n    setActivePanel: (panel: IDockviewPanel) => void;\n    isActive: (tab: ITab) => boolean;\n    closePanel: (panel: IDockviewPanel) => void;\n    openPanel: (panel: IDockviewPanel, index?: number) => void;\n    setRightActionsElement(element: HTMLElement | undefined): void;\n    setLeftActionsElement(element: HTMLElement | undefined): void;\n    setPrefixActionsElement(element: HTMLElement | undefined): void;\n    show(): void;\n    hide(): void;\n}\n\nexport class TabsContainer\n    extends CompositeDisposable\n    implements ITabsContainer\n{\n    private readonly _element: HTMLElement;\n    private readonly tabContainer: HTMLElement;\n    private readonly rightActionsContainer: HTMLElement;\n    private readonly leftActionsContainer: HTMLElement;\n    private readonly preActionsContainer: HTMLElement;\n    private readonly voidContainer: VoidContainer;\n\n    private tabs: IValueDisposable<ITab>[] = [];\n    private selectedIndex = -1;\n    private rightActions: HTMLElement | undefined;\n    private leftActions: HTMLElement | undefined;\n    private preActions: HTMLElement | undefined;\n\n    private _hidden = false;\n\n    private readonly _onDrop = new Emitter<TabDropIndexEvent>();\n    readonly onDrop: Event<TabDropIndexEvent> = this._onDrop.event;\n\n    private readonly _onTabDragStart = new Emitter<TabDragEvent>();\n    readonly onTabDragStart: Event<TabDragEvent> = this._onTabDragStart.event;\n\n    private readonly _onGroupDragStart = new Emitter<GroupDragEvent>();\n    readonly onGroupDragStart: Event<GroupDragEvent> =\n        this._onGroupDragStart.event;\n\n    get panels(): string[] {\n        return this.tabs.map((_) => _.value.panel.id);\n    }\n\n    get size(): number {\n        return this.tabs.length;\n    }\n\n    get hidden(): boolean {\n        return this._hidden;\n    }\n\n    set hidden(value: boolean) {\n        this._hidden = value;\n        this.element.style.display = value ? 'none' : '';\n    }\n\n    show(): void {\n        if (!this.hidden) {\n            this.element.style.display = '';\n        }\n    }\n\n    hide(): void {\n        this._element.style.display = 'none';\n    }\n\n    setRightActionsElement(element: HTMLElement | undefined): void {\n        if (this.rightActions === element) {\n            return;\n        }\n        if (this.rightActions) {\n            this.rightActions.remove();\n            this.rightActions = undefined;\n        }\n        if (element) {\n            this.rightActionsContainer.appendChild(element);\n            this.rightActions = element;\n        }\n    }\n\n    setLeftActionsElement(element: HTMLElement | undefined): void {\n        if (this.leftActions === element) {\n            return;\n        }\n        if (this.leftActions) {\n            this.leftActions.remove();\n            this.leftActions = undefined;\n        }\n        if (element) {\n            this.leftActionsContainer.appendChild(element);\n            this.leftActions = element;\n        }\n    }\n\n    setPrefixActionsElement(element: HTMLElement | undefined): void {\n        if (this.preActions === element) {\n            return;\n        }\n        if (this.preActions) {\n            this.preActions.remove();\n            this.preActions = undefined;\n        }\n        if (element) {\n            this.preActionsContainer.appendChild(element);\n            this.preActions = element;\n        }\n    }\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    public isActive(tab: ITab): boolean {\n        return (\n            this.selectedIndex > -1 &&\n            this.tabs[this.selectedIndex].value === tab\n        );\n    }\n\n    public indexOf(id: string): number {\n        return this.tabs.findIndex((tab) => tab.value.panel.id === id);\n    }\n\n    constructor(\n        private readonly accessor: DockviewComponent,\n        private readonly group: DockviewGroupPanel\n    ) {\n        super();\n\n        this.addDisposables(\n            this._onDrop,\n            this._onTabDragStart,\n            this._onGroupDragStart\n        );\n\n        this._element = document.createElement('div');\n        this._element.className = 'tabs-and-actions-container';\n\n        toggleClass(\n            this._element,\n            'dv-full-width-single-tab',\n            this.accessor.options.singleTabMode === 'fullwidth'\n        );\n\n        this.addDisposables(\n            this.accessor.onDidAddPanel((e) => {\n                if (e.api.group === this.group) {\n                    toggleClass(\n                        this._element,\n                        'dv-single-tab',\n                        this.size === 1\n                    );\n                }\n            }),\n            this.accessor.onDidRemovePanel((e) => {\n                if (e.api.group === this.group) {\n                    toggleClass(\n                        this._element,\n                        'dv-single-tab',\n                        this.size === 1\n                    );\n                }\n            })\n        );\n\n        this.rightActionsContainer = document.createElement('div');\n        this.rightActionsContainer.className = 'right-actions-container';\n\n        this.leftActionsContainer = document.createElement('div');\n        this.leftActionsContainer.className = 'left-actions-container';\n\n        this.preActionsContainer = document.createElement('div');\n        this.preActionsContainer.className = 'pre-actions-container';\n\n        this.tabContainer = document.createElement('div');\n        this.tabContainer.className = 'tabs-container';\n\n        this.voidContainer = new VoidContainer(this.accessor, this.group);\n\n        this._element.appendChild(this.preActionsContainer);\n        this._element.appendChild(this.tabContainer);\n        this._element.appendChild(this.leftActionsContainer);\n        this._element.appendChild(this.voidContainer.element);\n        this._element.appendChild(this.rightActionsContainer);\n\n        this.addDisposables(\n            this.voidContainer,\n            this.voidContainer.onDragStart((event) => {\n                this._onGroupDragStart.fire({\n                    nativeEvent: event,\n                    group: this.group,\n                });\n            }),\n            this.voidContainer.onDrop((event) => {\n                this._onDrop.fire({\n                    event: event.nativeEvent,\n                    index: this.tabs.length,\n                });\n            }),\n            addDisposableListener(\n                this.voidContainer.element,\n                'mousedown',\n                (event) => {\n                    const isFloatingGroupsEnabled =\n                        !this.accessor.options.disableFloatingGroups;\n\n                    if (\n                        isFloatingGroupsEnabled &&\n                        event.shiftKey &&\n                        this.group.api.location !== 'floating'\n                    ) {\n                        event.preventDefault();\n\n                        const { top, left } =\n                            this.element.getBoundingClientRect();\n                        const { top: rootTop, left: rootLeft } =\n                            this.accessor.element.getBoundingClientRect();\n\n                        this.accessor.addFloatingGroup(\n                            this.group,\n                            {\n                                x: left - rootLeft + 20,\n                                y: top - rootTop + 20,\n                            },\n                            { inDragMode: true }\n                        );\n                    }\n                }\n            ),\n            addDisposableListener(this.tabContainer, 'mousedown', (event) => {\n                if (event.defaultPrevented) {\n                    return;\n                }\n\n                const isLeftClick = event.button === 0;\n\n                if (isLeftClick) {\n                    this.accessor.doSetGroupActive(this.group);\n                }\n            })\n        );\n    }\n\n    public setActive(_isGroupActive: boolean) {\n        // noop\n    }\n\n    private addTab(\n        tab: IValueDisposable<ITab>,\n        index: number = this.tabs.length\n    ): void {\n        if (index < 0 || index > this.tabs.length) {\n            throw new Error('invalid location');\n        }\n\n        this.tabContainer.insertBefore(\n            tab.value.element,\n            this.tabContainer.children[index]\n        );\n\n        this.tabs = [\n            ...this.tabs.slice(0, index),\n            tab,\n            ...this.tabs.slice(index),\n        ];\n\n        if (this.selectedIndex < 0) {\n            this.selectedIndex = index;\n        }\n    }\n\n    public delete(id: string): void {\n        const index = this.tabs.findIndex((tab) => tab.value.panel.id === id);\n\n        const tabToRemove = this.tabs.splice(index, 1)[0];\n\n        const { value, disposable } = tabToRemove;\n\n        disposable.dispose();\n        value.dispose();\n        value.element.remove();\n    }\n\n    public setActivePanel(panel: IDockviewPanel): void {\n        this.tabs.forEach((tab) => {\n            const isActivePanel = panel.id === tab.value.panel.id;\n            tab.value.setActive(isActivePanel);\n        });\n    }\n\n    public openPanel(\n        panel: IDockviewPanel,\n        index: number = this.tabs.length\n    ): void {\n        if (this.tabs.find((tab) => tab.value.panel.id === panel.id)) {\n            return;\n        }\n        const tab = new Tab(panel, this.accessor, this.group);\n        if (!panel.view?.tab) {\n            throw new Error('invalid header component');\n        }\n        tab.setContent(panel.view.tab);\n\n        const disposable = new CompositeDisposable(\n            tab.onDragStart((event) => {\n                this._onTabDragStart.fire({ nativeEvent: event, panel });\n            }),\n            tab.onChanged((event) => {\n                const isFloatingGroupsEnabled =\n                    !this.accessor.options.disableFloatingGroups;\n\n                const isFloatingWithOnePanel =\n                    this.group.api.location === 'floating' && this.size === 1;\n\n                if (\n                    isFloatingGroupsEnabled &&\n                    !isFloatingWithOnePanel &&\n                    event.shiftKey\n                ) {\n                    event.preventDefault();\n\n                    const panel = this.accessor.getGroupPanel(tab.panel.id);\n\n                    const { top, left } = tab.element.getBoundingClientRect();\n                    const { top: rootTop, left: rootLeft } =\n                        this.accessor.element.getBoundingClientRect();\n\n                    this.accessor.addFloatingGroup(\n                        panel as DockviewPanel,\n                        {\n                            x: left - rootLeft,\n                            y: top - rootTop,\n                        },\n                        { inDragMode: true }\n                    );\n                    return;\n                }\n\n                const alreadyFocused =\n                    panel.id === this.group.model.activePanel?.id &&\n                    this.group.model.isContentFocused;\n\n                const isLeftClick = event.button === 0;\n\n                if (!isLeftClick || event.defaultPrevented) {\n                    return;\n                }\n\n                this.group.model.openPanel(panel, {\n                    skipFocus: alreadyFocused,\n                });\n            }),\n            tab.onDrop((event) => {\n                this._onDrop.fire({\n                    event: event.nativeEvent,\n                    index: this.tabs.findIndex((x) => x.value === tab),\n                });\n            })\n        );\n\n        const value: IValueDisposable<ITab> = { value: tab, disposable };\n\n        this.addTab(value, index);\n    }\n\n    public closePanel(panel: IDockviewPanel): void {\n        this.delete(panel.id);\n    }\n\n    public dispose(): void {\n        super.dispose();\n\n        for (const { value, disposable } of this.tabs) {\n            disposable.dispose();\n            value.dispose();\n        }\n\n        this.tabs = [];\n    }\n}\n","import { DockviewApi } from '../api/component.api';\nimport { getPanelData, PanelTransfer } from '../dnd/dataTransfer';\nimport { Position } from '../dnd/droptarget';\nimport { DockviewComponent } from './dockviewComponent';\nimport { isAncestor, toggleClass } from '../dom';\nimport { addDisposableListener, Emitter, Event } from '../events';\nimport { IViewSize } from '../gridview/gridview';\nimport { CompositeDisposable } from '../lifecycle';\nimport { IPanel, PanelInitParameters, PanelUpdateEvent } from '../panel/types';\nimport {\n    ContentContainer,\n    IContentContainer,\n} from './components/panel/content';\nimport {\n    GroupDragEvent,\n    ITabsContainer,\n    TabDragEvent,\n    TabsContainer,\n} from './components/titlebar/tabsContainer';\nimport { DockviewDropTargets, IWatermarkRenderer } from './types';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\nimport { IDockviewPanel } from './dockviewPanel';\nimport { IHeaderActionsRenderer } from './options';\n\nexport interface DndService {\n    canDisplayOverlay(\n        group: IDockviewGroupPanelModel,\n        event: DragEvent,\n        target: DockviewDropTargets\n    ): boolean;\n    onDrop(\n        group: IDockviewGroupPanelModel,\n        event: DragEvent,\n        position: Position,\n        index?: number\n    ): void;\n}\n\nexport interface IGroupItem {\n    id: string;\n    header: { element: HTMLElement };\n    body: { element: HTMLElement };\n}\n\ninterface GroupMoveEvent {\n    groupId: string;\n    itemId?: string;\n    target: Position;\n    index?: number;\n}\n\ninterface CoreGroupOptions {\n    locked?: DockviewGroupPanelLocked;\n    hideHeader?: boolean;\n}\n\nexport interface GroupOptions extends CoreGroupOptions {\n    readonly panels?: IDockviewPanel[];\n    readonly activePanel?: IDockviewPanel;\n    readonly id?: string;\n}\n\nexport interface GroupPanelViewState extends CoreGroupOptions {\n    views: string[];\n    activeView?: string;\n    id: string;\n}\n\nexport interface GroupviewChangeEvent {\n    readonly panel: IDockviewPanel;\n}\n\nexport interface GroupviewDropEvent {\n    readonly nativeEvent: DragEvent;\n    readonly position: Position;\n    readonly index?: number;\n    getData(): PanelTransfer | undefined;\n}\n\nexport interface IHeader {\n    hidden: boolean;\n}\n\nexport type DockviewGroupPanelLocked = boolean | 'no-drop-target';\n\nexport interface IDockviewGroupPanelModel extends IPanel {\n    readonly isActive: boolean;\n    readonly size: number;\n    readonly panels: IDockviewPanel[];\n    readonly activePanel: IDockviewPanel | undefined;\n    readonly header: IHeader;\n    readonly isContentFocused: boolean;\n    readonly onDidDrop: Event<GroupviewDropEvent>;\n    readonly onDidAddPanel: Event<GroupviewChangeEvent>;\n    readonly onDidRemovePanel: Event<GroupviewChangeEvent>;\n    readonly onDidActivePanelChange: Event<GroupviewChangeEvent>;\n    readonly onMove: Event<GroupMoveEvent>;\n    locked: DockviewGroupPanelLocked;\n    setActive(isActive: boolean): void;\n    initialize(): void;\n    // state\n    isPanelActive: (panel: IDockviewPanel) => boolean;\n    indexOf(panel: IDockviewPanel): number;\n    // panel lifecycle\n    openPanel(\n        panel: IDockviewPanel,\n        options?: {\n            index?: number;\n            skipFocus?: boolean;\n            skipSetPanelActive?: boolean;\n            skipSetGroupActive?: boolean;\n        }\n    ): void;\n    closePanel(panel: IDockviewPanel): void;\n    closeAllPanels(): void;\n    containsPanel(panel: IDockviewPanel): boolean;\n    removePanel: (panelOrId: IDockviewPanel | string) => IDockviewPanel;\n    moveToNext(options?: {\n        panel?: IDockviewPanel;\n        suppressRoll?: boolean;\n    }): void;\n    moveToPrevious(options?: {\n        panel?: IDockviewPanel;\n        suppressRoll?: boolean;\n    }): void;\n    canDisplayOverlay(\n        event: DragEvent,\n        position: Position,\n        target: DockviewDropTargets\n    ): boolean;\n}\n\nexport type DockviewGroupLocation = 'grid' | 'floating' | 'popout';\n\nexport class DockviewGroupPanelModel\n    extends CompositeDisposable\n    implements IDockviewGroupPanelModel\n{\n    private readonly tabsContainer: ITabsContainer;\n    private readonly contentContainer: IContentContainer;\n    // private readonly dropTarget: Droptarget;\n    private _activePanel: IDockviewPanel | undefined;\n    private watermark?: IWatermarkRenderer;\n    private _isGroupActive = false;\n    private _locked: DockviewGroupPanelLocked = false;\n    private _rightHeaderActions: IHeaderActionsRenderer | undefined;\n    private _leftHeaderActions: IHeaderActionsRenderer | undefined;\n    private _prefixHeaderActions: IHeaderActionsRenderer | undefined;\n\n    private _location: DockviewGroupLocation = 'grid';\n\n    private mostRecentlyUsed: IDockviewPanel[] = [];\n\n    private readonly _onDidChange = new Emitter<IViewSize | undefined>();\n    readonly onDidChange: Event<IViewSize | undefined> =\n        this._onDidChange.event;\n\n    private _width = 0;\n    private _height = 0;\n\n    private _panels: IDockviewPanel[] = [];\n\n    private readonly _onMove = new Emitter<GroupMoveEvent>();\n    readonly onMove: Event<GroupMoveEvent> = this._onMove.event;\n\n    private readonly _onDidDrop = new Emitter<GroupviewDropEvent>();\n    readonly onDidDrop: Event<GroupviewDropEvent> = this._onDidDrop.event;\n\n    private readonly _onTabDragStart = new Emitter<TabDragEvent>();\n    readonly onTabDragStart: Event<TabDragEvent> = this._onTabDragStart.event;\n\n    private readonly _onGroupDragStart = new Emitter<GroupDragEvent>();\n    readonly onGroupDragStart: Event<GroupDragEvent> =\n        this._onGroupDragStart.event;\n\n    private readonly _onDidAddPanel = new Emitter<GroupviewChangeEvent>();\n    readonly onDidAddPanel: Event<GroupviewChangeEvent> =\n        this._onDidAddPanel.event;\n\n    private readonly _onDidRemovePanel = new Emitter<GroupviewChangeEvent>();\n    readonly onDidRemovePanel: Event<GroupviewChangeEvent> =\n        this._onDidRemovePanel.event;\n\n    private readonly _onDidActivePanelChange =\n        new Emitter<GroupviewChangeEvent>();\n    readonly onDidActivePanelChange: Event<GroupviewChangeEvent> =\n        this._onDidActivePanelChange.event;\n\n    get element(): HTMLElement {\n        throw new Error('not supported');\n    }\n\n    get activePanel(): IDockviewPanel | undefined {\n        return this._activePanel;\n    }\n\n    get locked(): DockviewGroupPanelLocked {\n        return this._locked;\n    }\n\n    set locked(value: DockviewGroupPanelLocked) {\n        this._locked = value;\n\n        toggleClass(\n            this.container,\n            'locked-groupview',\n            value === 'no-drop-target' || value\n        );\n    }\n\n    get isActive(): boolean {\n        return this._isGroupActive;\n    }\n\n    get panels(): IDockviewPanel[] {\n        return this._panels;\n    }\n\n    get size(): number {\n        return this._panels.length;\n    }\n\n    get isEmpty(): boolean {\n        return this._panels.length === 0;\n    }\n\n    get hasWatermark(): boolean {\n        return !!(\n            this.watermark && this.container.contains(this.watermark.element)\n        );\n    }\n\n    get header(): IHeader {\n        return this.tabsContainer;\n    }\n\n    get isContentFocused(): boolean {\n        if (!document.activeElement) {\n            return false;\n        }\n        return isAncestor(\n            document.activeElement,\n            this.contentContainer.element\n        );\n    }\n\n    get location(): DockviewGroupLocation {\n        return this._location;\n    }\n\n    set location(value: DockviewGroupLocation) {\n        this._location = value;\n\n        toggleClass(this.container, 'dv-groupview-floating', false);\n        toggleClass(this.container, 'dv-groupview-popout', false);\n\n        switch (value) {\n            case 'grid':\n                this.contentContainer.dropTarget.setTargetZones([\n                    'top',\n                    'bottom',\n                    'left',\n                    'right',\n                    'center',\n                ]);\n                break;\n            case 'floating':\n                this.contentContainer.dropTarget.setTargetZones(['center']);\n                this.contentContainer.dropTarget.setTargetZones(\n                    value\n                        ? ['center']\n                        : ['top', 'bottom', 'left', 'right', 'center']\n                );\n\n                toggleClass(this.container, 'dv-groupview-floating', true);\n\n                break;\n            case 'popout':\n                this.contentContainer.dropTarget.setTargetZones(['center']);\n\n                toggleClass(this.container, 'dv-groupview-popout', true);\n\n                break;\n        }\n\n        this.groupPanel.api._onDidLocationChange.fire({\n            location: this.location,\n        });\n    }\n\n    constructor(\n        private readonly container: HTMLElement,\n        private accessor: DockviewComponent,\n        public id: string,\n        private readonly options: GroupOptions,\n        private readonly groupPanel: DockviewGroupPanel\n    ) {\n        super();\n\n        toggleClass(this.container, 'groupview', true);\n\n        this.tabsContainer = new TabsContainer(this.accessor, this.groupPanel);\n\n        this.contentContainer = new ContentContainer(this.accessor, this);\n\n        container.append(\n            this.tabsContainer.element,\n            this.contentContainer.element\n        );\n\n        this.header.hidden = !!options.hideHeader;\n        this.locked = options.locked ?? false;\n\n        this.addDisposables(\n            this._onTabDragStart,\n            this._onGroupDragStart,\n            this.tabsContainer.onTabDragStart((event) => {\n                this._onTabDragStart.fire(event);\n            }),\n            this.tabsContainer.onGroupDragStart((event) => {\n                this._onGroupDragStart.fire(event);\n            }),\n            this.tabsContainer.onDrop((event) => {\n                this.handleDropEvent(event.event, 'center', event.index);\n            }),\n            this.contentContainer.onDidFocus(() => {\n                this.accessor.doSetGroupActive(this.groupPanel, true);\n            }),\n            this.contentContainer.onDidBlur(() => {\n                // noop\n            }),\n            this.contentContainer.dropTarget.onDrop((event) => {\n                this.handleDropEvent(event.nativeEvent, event.position);\n            }),\n            this._onMove,\n            this._onDidChange,\n            this._onDidDrop,\n            this._onDidAddPanel,\n            this._onDidRemovePanel,\n            this._onDidActivePanelChange\n        );\n    }\n\n    initialize(): void {\n        if (this.options?.panels) {\n            this.options.panels.forEach((panel) => {\n                this.doAddPanel(panel);\n            });\n        }\n\n        if (this.options?.activePanel) {\n            this.openPanel(this.options.activePanel);\n        }\n\n        // must be run after the constructor otherwise this.parent may not be\n        // correctly initialized\n        this.setActive(this.isActive, true, true);\n        this.updateContainer();\n\n        if (this.accessor.options.createRightHeaderActionsElement) {\n            this._rightHeaderActions =\n                this.accessor.options.createRightHeaderActionsElement(\n                    this.groupPanel\n                );\n            this.addDisposables(this._rightHeaderActions);\n            this._rightHeaderActions.init({\n                containerApi: new DockviewApi(this.accessor),\n                api: this.groupPanel.api,\n            });\n            this.tabsContainer.setRightActionsElement(\n                this._rightHeaderActions.element\n            );\n        }\n\n        if (this.accessor.options.createLeftHeaderActionsElement) {\n            this._leftHeaderActions =\n                this.accessor.options.createLeftHeaderActionsElement(\n                    this.groupPanel\n                );\n            this.addDisposables(this._leftHeaderActions);\n            this._leftHeaderActions.init({\n                containerApi: new DockviewApi(this.accessor),\n                api: this.groupPanel.api,\n            });\n            this.tabsContainer.setLeftActionsElement(\n                this._leftHeaderActions.element\n            );\n        }\n\n        if (this.accessor.options.createPrefixHeaderActionsElement) {\n            this._prefixHeaderActions =\n                this.accessor.options.createPrefixHeaderActionsElement(\n                    this.groupPanel\n                );\n            this.addDisposables(this._prefixHeaderActions);\n            this._prefixHeaderActions.init({\n                containerApi: new DockviewApi(this.accessor),\n                api: this.groupPanel.api,\n            });\n            this.tabsContainer.setPrefixActionsElement(\n                this._prefixHeaderActions.element\n            );\n        }\n    }\n\n    rerender(panel: IDockviewPanel): void {\n        this.contentContainer.renderPanel(panel);\n    }\n\n    public indexOf(panel: IDockviewPanel): number {\n        return this.tabsContainer.indexOf(panel.id);\n    }\n\n    public toJSON(): GroupPanelViewState {\n        const result: GroupPanelViewState = {\n            views: this.tabsContainer.panels,\n            activeView: this._activePanel?.id,\n            id: this.id,\n        };\n\n        if (this.locked !== false) {\n            result.locked = this.locked;\n        }\n\n        if (this.header.hidden) {\n            result.hideHeader = true;\n        }\n\n        return result;\n    }\n\n    public moveToNext(options?: {\n        panel?: IDockviewPanel;\n        suppressRoll?: boolean;\n    }): void {\n        if (!options) {\n            options = {};\n        }\n        if (!options.panel) {\n            options.panel = this.activePanel;\n        }\n\n        const index = options.panel ? this.panels.indexOf(options.panel) : -1;\n\n        let normalizedIndex: number;\n\n        if (index < this.panels.length - 1) {\n            normalizedIndex = index + 1;\n        } else if (!options.suppressRoll) {\n            normalizedIndex = 0;\n        } else {\n            return;\n        }\n\n        this.openPanel(this.panels[normalizedIndex]);\n    }\n\n    public moveToPrevious(options?: {\n        panel?: IDockviewPanel;\n        suppressRoll?: boolean;\n    }): void {\n        if (!options) {\n            options = {};\n        }\n        if (!options.panel) {\n            options.panel = this.activePanel;\n        }\n\n        if (!options.panel) {\n            return;\n        }\n\n        const index = this.panels.indexOf(options.panel);\n\n        let normalizedIndex: number;\n\n        if (index > 0) {\n            normalizedIndex = index - 1;\n        } else if (!options.suppressRoll) {\n            normalizedIndex = this.panels.length - 1;\n        } else {\n            return;\n        }\n\n        this.openPanel(this.panels[normalizedIndex]);\n    }\n\n    public containsPanel(panel: IDockviewPanel): boolean {\n        return this.panels.includes(panel);\n    }\n\n    init(_params: PanelInitParameters): void {\n        //noop\n    }\n\n    update(_params: PanelUpdateEvent): void {\n        //noop\n    }\n\n    focus(): void {\n        this._activePanel?.focus?.();\n    }\n\n    public openPanel(\n        panel: IDockviewPanel,\n        options: {\n            index?: number;\n            skipFocus?: boolean;\n            skipSetPanelActive?: boolean;\n            skipSetGroupActive?: boolean;\n        } = {}\n    ): void {\n        if (\n            typeof options.index !== 'number' ||\n            options.index > this.panels.length\n        ) {\n            options.index = this.panels.length;\n        }\n\n        const skipSetPanelActive = !!options.skipSetPanelActive;\n        const skipSetGroupActive = !!options.skipSetGroupActive;\n\n        // ensure the group is updated before we fire any events\n        panel.updateParentGroup(this.groupPanel, true);\n\n        if (this._activePanel === panel) {\n            if (!skipSetGroupActive) {\n                this.accessor.doSetGroupActive(this.groupPanel);\n            }\n            return;\n        }\n\n        this.doAddPanel(panel, options.index, skipSetPanelActive);\n\n        if (!skipSetPanelActive) {\n            this.doSetActivePanel(panel);\n        }\n\n        if (!skipSetGroupActive) {\n            this.accessor.doSetGroupActive(\n                this.groupPanel,\n                !!options.skipFocus\n            );\n        }\n\n        this.updateContainer();\n    }\n\n    public removePanel(groupItemOrId: IDockviewPanel | string): IDockviewPanel {\n        const id =\n            typeof groupItemOrId === 'string'\n                ? groupItemOrId\n                : groupItemOrId.id;\n\n        const panelToRemove = this._panels.find((panel) => panel.id === id);\n\n        if (!panelToRemove) {\n            throw new Error('invalid operation');\n        }\n\n        return this._removePanel(panelToRemove);\n    }\n\n    public closeAllPanels(): void {\n        if (this.panels.length > 0) {\n            // take a copy since we will be edting the array as we iterate through\n            const arrPanelCpy = [...this.panels];\n            for (const panel of arrPanelCpy) {\n                this.doClose(panel);\n            }\n        } else {\n            this.accessor.removeGroup(this.groupPanel);\n        }\n    }\n\n    public closePanel(panel: IDockviewPanel): void {\n        this.doClose(panel);\n    }\n\n    private doClose(panel: IDockviewPanel): void {\n        this.accessor.removePanel(panel);\n    }\n\n    public isPanelActive(panel: IDockviewPanel): boolean {\n        return this._activePanel === panel;\n    }\n\n    updateActions(element: HTMLElement | undefined): void {\n        this.tabsContainer.setRightActionsElement(element);\n    }\n\n    public setActive(\n        isGroupActive: boolean,\n        skipFocus = false,\n        force = false\n    ): void {\n        if (!force && this.isActive === isGroupActive) {\n            if (!skipFocus) {\n                this._activePanel?.focus?.();\n            }\n            return;\n        }\n\n        this._isGroupActive = isGroupActive;\n\n        toggleClass(this.container, 'active-group', isGroupActive);\n        toggleClass(this.container, 'inactive-group', !isGroupActive);\n\n        this.tabsContainer.setActive(this.isActive);\n\n        if (!this._activePanel && this.panels.length > 0) {\n            this.doSetActivePanel(this.panels[0]);\n        }\n\n        this.updateContainer();\n\n        if (isGroupActive) {\n            if (!skipFocus) {\n                this._activePanel?.focus?.();\n            }\n        }\n    }\n\n    public layout(width: number, height: number): void {\n        this._width = width;\n        this._height = height;\n\n        this.contentContainer.layout(this._width, this._height);\n\n        if (this._activePanel?.layout) {\n            this._activePanel.layout(this._width, this._height);\n        }\n    }\n\n    private _removePanel(panel: IDockviewPanel): IDockviewPanel {\n        const isActivePanel = this._activePanel === panel;\n\n        this.doRemovePanel(panel);\n\n        if (isActivePanel && this.panels.length > 0) {\n            const nextPanel = this.mostRecentlyUsed[0];\n            this.openPanel(nextPanel);\n        }\n\n        if (this._activePanel && this.panels.length === 0) {\n            this.doSetActivePanel(undefined);\n        }\n\n        this.updateContainer();\n        return panel;\n    }\n\n    private doRemovePanel(panel: IDockviewPanel): void {\n        const index = this.panels.indexOf(panel);\n\n        if (this._activePanel === panel) {\n            this.contentContainer.closePanel();\n        }\n\n        this.tabsContainer.delete(panel.id);\n        this._panels.splice(index, 1);\n\n        if (this.mostRecentlyUsed.includes(panel)) {\n            this.mostRecentlyUsed.splice(\n                this.mostRecentlyUsed.indexOf(panel),\n                1\n            );\n        }\n\n        this._onDidRemovePanel.fire({ panel });\n    }\n\n    private doAddPanel(\n        panel: IDockviewPanel,\n        index: number = this.panels.length,\n        skipSetActive = false\n    ): void {\n        const existingPanel = this._panels.indexOf(panel);\n        const hasExistingPanel = existingPanel > -1;\n\n        this.tabsContainer.show();\n        this.contentContainer.show();\n\n        this.tabsContainer.openPanel(panel, index);\n\n        if (!skipSetActive) {\n            this.contentContainer.openPanel(panel);\n        }\n\n        if (hasExistingPanel) {\n            // TODO - need to ensure ordering hasn't changed and if it has need to re-order this.panels\n            return;\n        }\n\n        this.updateMru(panel);\n        this.panels.splice(index, 0, panel);\n\n        this._onDidAddPanel.fire({ panel });\n    }\n\n    private doSetActivePanel(panel: IDockviewPanel | undefined): void {\n        this._activePanel = panel;\n\n        if (panel) {\n            this.tabsContainer.setActivePanel(panel);\n\n            panel.layout(this._width, this._height);\n\n            this.updateMru(panel);\n\n            this._onDidActivePanelChange.fire({ panel });\n        }\n    }\n\n    private updateMru(panel: IDockviewPanel): void {\n        if (this.mostRecentlyUsed.includes(panel)) {\n            this.mostRecentlyUsed.splice(\n                this.mostRecentlyUsed.indexOf(panel),\n                1\n            );\n        }\n        this.mostRecentlyUsed = [panel, ...this.mostRecentlyUsed];\n    }\n\n    private updateContainer(): void {\n        toggleClass(this.container, 'empty', this.isEmpty);\n\n        this.panels.forEach((panel) =>\n            panel.updateParentGroup(this.groupPanel, this.isActive)\n        );\n\n        if (this.isEmpty && !this.watermark) {\n            const watermark = this.accessor.createWatermarkComponent();\n            watermark.init({\n                containerApi: new DockviewApi(this.accessor),\n                group: this.groupPanel,\n            });\n            this.watermark = watermark;\n\n            addDisposableListener(this.watermark.element, 'click', () => {\n                if (!this.isActive) {\n                    this.accessor.doSetGroupActive(this.groupPanel);\n                }\n            });\n\n            this.tabsContainer.hide();\n            this.contentContainer.element.appendChild(this.watermark.element);\n\n            this.watermark.updateParentGroup(this.groupPanel, true);\n        }\n        if (!this.isEmpty && this.watermark) {\n            this.watermark.element.remove();\n            this.watermark.dispose?.();\n            this.watermark = undefined;\n            this.tabsContainer.show();\n        }\n    }\n\n    canDisplayOverlay(\n        event: DragEvent,\n        position: Position,\n        target: DockviewDropTargets\n    ): boolean {\n        // custom overlay handler\n        if (this.accessor.options.showDndOverlay) {\n            return this.accessor.options.showDndOverlay({\n                nativeEvent: event,\n                target,\n                group: this.accessor.getPanel(this.id)!,\n                position,\n                getData: getPanelData,\n            });\n        }\n        return false;\n    }\n\n    private handleDropEvent(\n        event: DragEvent,\n        position: Position,\n        index?: number\n    ): void {\n        if (this.locked === 'no-drop-target') {\n            return;\n        }\n\n        const data = getPanelData();\n\n        if (data && data.viewId === this.accessor.id) {\n            if (data.panelId === null) {\n                // this is a group move dnd event\n                const { groupId } = data;\n\n                this._onMove.fire({\n                    target: position,\n                    groupId: groupId,\n                    index,\n                });\n                return;\n            }\n\n            const fromSameGroup =\n                this.tabsContainer.indexOf(data.panelId) !== -1;\n\n            if (fromSameGroup && this.tabsContainer.size === 1) {\n                return;\n            }\n\n            const { groupId, panelId } = data;\n            const isSameGroup = this.id === groupId;\n            if (isSameGroup && !position) {\n                const oldIndex = this.tabsContainer.indexOf(panelId);\n                if (oldIndex === index) {\n                    return;\n                }\n            }\n\n            this._onMove.fire({\n                target: position,\n                groupId: data.groupId,\n                itemId: data.panelId,\n                index,\n            });\n        } else {\n            this._onDidDrop.fire({\n                nativeEvent: event,\n                position,\n                index,\n                getData: () => getPanelData(),\n            });\n        }\n    }\n\n    public dispose(): void {\n        super.dispose();\n\n        this.watermark?.element.remove();\n        this.watermark?.dispose?.();\n\n        for (const panel of this.panels) {\n            panel.dispose();\n        }\n\n        this.tabsContainer.dispose();\n        this.contentContainer.dispose();\n    }\n}\n","import { isInDocument, watchElementResize } from './dom';\nimport { CompositeDisposable } from './lifecycle';\n\nexport abstract class Resizable extends CompositeDisposable {\n    private readonly _element: HTMLElement;\n    private _disableResizing: boolean;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    get disableResizing(): boolean {\n        return this._disableResizing;\n    }\n\n    set disableResizing(value: boolean) {\n        this._disableResizing = value;\n    }\n\n    constructor(parentElement?: HTMLElement, disableResizing = false) {\n        super();\n\n        this._disableResizing = disableResizing;\n\n        if (parentElement) {\n            this._element = parentElement;\n        } else {\n            this._element = document.createElement('div');\n            this._element.style.height = '100%';\n            this._element.style.width = '100%';\n            this._element.className = 'dv-resizable-container';\n        }\n\n        this.addDisposables(\n            watchElementResize(this._element, (entry) => {\n                if (this.isDisposed) {\n                    /**\n                     * resize is delayed through requestAnimationFrame so there is a small chance\n                     * the component has already been disposed of\n                     */\n                    return;\n                }\n\n                if (this.disableResizing) {\n                    return;\n                }\n\n                if (!isInDocument(this._element)) {\n                    /**\n                     * since the event is dispatched through requestAnimationFrame there is a small chance\n                     * the component is no longer attached to the DOM, if that is the case the dimensions\n                     * are mostly likely all zero and meaningless. we should skip this case.\n                     */\n                    return;\n                }\n\n                const { width, height } = entry.contentRect;\n                this.layout(width, height);\n            })\n        );\n    }\n\n    abstract layout(width: number, height: number): void;\n}\n","import { Emitter, Event, TickDelayedEvent } from '../events';\nimport { getGridLocation, Gridview, IGridView } from './gridview';\nimport { Position } from '../dnd/droptarget';\nimport { IValueDisposable } from '../lifecycle';\nimport { sequentialNumberGenerator } from '../math';\nimport { ISplitviewStyles, Orientation, Sizing } from '../splitview/splitview';\nimport { IPanel } from '../panel/types';\nimport { MovementOptions2 } from '../dockview/options';\nimport { Resizable } from '../resizable';\n\nconst nextLayoutId = sequentialNumberGenerator();\n\nexport type Direction = 'left' | 'right' | 'above' | 'below' | 'within';\n\nexport function toTarget(direction: Direction): Position {\n    switch (direction) {\n        case 'left':\n            return 'left';\n        case 'right':\n            return 'right';\n        case 'above':\n            return 'top';\n        case 'below':\n            return 'bottom';\n        case 'within':\n        default:\n            return 'center';\n    }\n}\n\nexport interface BaseGridOptions {\n    readonly proportionalLayout: boolean;\n    readonly orientation: Orientation;\n    readonly styles?: ISplitviewStyles;\n    readonly parentElement?: HTMLElement;\n    readonly disableAutoResizing?: boolean;\n}\n\nexport interface IGridPanelView extends IGridView, IPanel {\n    setActive(isActive: boolean): void;\n    readonly isActive: boolean;\n}\n\nexport interface IBaseGrid<T extends IGridPanelView> {\n    readonly element: HTMLElement;\n    readonly id: string;\n    readonly width: number;\n    readonly height: number;\n    readonly minimumHeight: number;\n    readonly maximumHeight: number;\n    readonly minimumWidth: number;\n    readonly maximumWidth: number;\n    readonly activeGroup: T | undefined;\n    readonly size: number;\n    readonly groups: T[];\n    readonly onDidLayoutChange: Event<void>;\n    readonly onDidRemoveGroup: Event<T>;\n    readonly onDidAddGroup: Event<T>;\n    readonly onDidActiveGroupChange: Event<T | undefined>;\n    getPanel(id: string): T | undefined;\n    toJSON(): object;\n    fromJSON(data: any): void;\n    clear(): void;\n    layout(width: number, height: number, force?: boolean): void;\n    setVisible(panel: T, visible: boolean): void;\n    isVisible(panel: T): boolean;\n    maximizeGroup(panel: T): void;\n    isMaximizedGroup(panel: T): boolean;\n    exitMaximizedGroup(): void;\n    hasMaximizedGroup(): boolean;\n    readonly onDidMaxmizedGroupChange: Event<void>;\n}\n\nexport abstract class BaseGrid<T extends IGridPanelView>\n    extends Resizable\n    implements IBaseGrid<T>\n{\n    private readonly _id = nextLayoutId.next();\n    protected readonly _groups = new Map<string, IValueDisposable<T>>();\n    protected readonly gridview: Gridview;\n    //\n    protected _activeGroup: T | undefined;\n\n    private _onDidLayoutChange = new Emitter<void>();\n    readonly onDidLayoutChange = this._onDidLayoutChange.event;\n\n    protected readonly _onDidRemoveGroup = new Emitter<T>();\n    readonly onDidRemoveGroup: Event<T> = this._onDidRemoveGroup.event;\n\n    protected readonly _onDidAddGroup = new Emitter<T>();\n    readonly onDidAddGroup: Event<T> = this._onDidAddGroup.event;\n\n    private readonly _onDidActiveGroupChange = new Emitter<T | undefined>();\n    readonly onDidActiveGroupChange: Event<T | undefined> =\n        this._onDidActiveGroupChange.event;\n\n    protected readonly _bufferOnDidLayoutChange = new TickDelayedEvent();\n\n    get id(): string {\n        return this._id;\n    }\n\n    get size(): number {\n        return this._groups.size;\n    }\n\n    get groups(): T[] {\n        return Array.from(this._groups.values()).map((_) => _.value);\n    }\n\n    get width(): number {\n        return this.gridview.width;\n    }\n\n    get height(): number {\n        return this.gridview.height;\n    }\n\n    get minimumHeight(): number {\n        return this.gridview.minimumHeight;\n    }\n    get maximumHeight(): number {\n        return this.gridview.maximumHeight;\n    }\n    get minimumWidth(): number {\n        return this.gridview.minimumWidth;\n    }\n    get maximumWidth(): number {\n        return this.gridview.maximumWidth;\n    }\n\n    get activeGroup(): T | undefined {\n        return this._activeGroup;\n    }\n\n    constructor(options: BaseGridOptions) {\n        super(options.parentElement, options.disableAutoResizing);\n\n        this.gridview = new Gridview(\n            !!options.proportionalLayout,\n            options.styles,\n            options.orientation\n        );\n\n        this.element.appendChild(this.gridview.element);\n\n        this.layout(0, 0, true); // set some elements height/widths\n\n        this.addDisposables(\n            this.gridview.onDidChange(() => {\n                this._bufferOnDidLayoutChange.fire();\n            }),\n            Event.any(\n                this.onDidAddGroup,\n                this.onDidRemoveGroup,\n                this.onDidActiveGroupChange\n            )(() => {\n                this._bufferOnDidLayoutChange.fire();\n            }),\n            this._bufferOnDidLayoutChange.onEvent(() => {\n                this._onDidLayoutChange.fire();\n            }),\n            this._bufferOnDidLayoutChange\n        );\n    }\n\n    public abstract toJSON(): object;\n\n    public abstract fromJSON(data: any): void;\n\n    public abstract clear(): void;\n\n    public setVisible(panel: T, visible: boolean): void {\n        this.gridview.setViewVisible(getGridLocation(panel.element), visible);\n        this._onDidLayoutChange.fire();\n    }\n\n    public isVisible(panel: T): boolean {\n        return this.gridview.isViewVisible(getGridLocation(panel.element));\n    }\n\n    maximizeGroup(panel: T): void {\n        this.gridview.maximizeView(panel);\n    }\n\n    isMaximizedGroup(panel: T): boolean {\n        return this.gridview.maximizedView() === panel;\n    }\n\n    exitMaximizedGroup(): void {\n        this.gridview.exitMaximizedView();\n    }\n\n    hasMaximizedGroup(): boolean {\n        return this.gridview.hasMaximizedView();\n    }\n\n    get onDidMaxmizedGroupChange(): Event<void> {\n        return this.gridview.onDidMaxmizedNodeChange;\n    }\n\n    protected doAddGroup(\n        group: T,\n        location: number[] = [0],\n        size?: number\n    ): void {\n        this.gridview.addView(group, size ?? Sizing.Distribute, location);\n\n        this._onDidAddGroup.fire(group);\n\n        this.doSetGroupActive(group);\n    }\n\n    protected doRemoveGroup(\n        group: T,\n        options?: { skipActive?: boolean; skipDispose?: boolean }\n    ): T {\n        if (!this._groups.has(group.id)) {\n            throw new Error('invalid operation');\n        }\n\n        const item = this._groups.get(group.id);\n\n        const view = this.gridview.remove(group, Sizing.Distribute);\n\n        if (item && !options?.skipDispose) {\n            item.disposable.dispose();\n            item.value.dispose();\n            this._groups.delete(group.id);\n        }\n\n        this._onDidRemoveGroup.fire(group);\n\n        if (!options?.skipActive && this._activeGroup === group) {\n            const groups = Array.from(this._groups.values());\n\n            this.doSetGroupActive(\n                groups.length > 0 ? groups[0].value : undefined\n            );\n        }\n\n        return view as T;\n    }\n\n    public getPanel(id: string): T | undefined {\n        return this._groups.get(id)?.value;\n    }\n\n    public doSetGroupActive(group: T | undefined, skipFocus?: boolean): void {\n        if (this._activeGroup === group) {\n            return;\n        }\n        if (this._activeGroup) {\n            this._activeGroup.setActive(false);\n            if (!skipFocus) {\n                this._activeGroup.focus?.();\n            }\n        }\n\n        if (group) {\n            group.setActive(true);\n            if (!skipFocus) {\n                group.focus?.();\n            }\n        }\n\n        this._activeGroup = group;\n\n        this._onDidActiveGroupChange.fire(group);\n    }\n\n    public removeGroup(group: T): void {\n        this.doRemoveGroup(group);\n    }\n\n    public moveToNext(options?: MovementOptions2): void {\n        if (!options) {\n            options = {};\n        }\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n\n        const location = getGridLocation(options.group.element);\n        const next = this.gridview.next(location)?.view;\n        this.doSetGroupActive(next as T);\n    }\n\n    public moveToPrevious(options?: MovementOptions2): void {\n        if (!options) {\n            options = {};\n        }\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n\n        const location = getGridLocation(options.group.element);\n        const next = this.gridview.previous(location)?.view;\n        this.doSetGroupActive(next as T);\n    }\n\n    public layout(width: number, height: number, forceResize?: boolean): void {\n        const different =\n            forceResize ?? (width !== this.width || height !== this.height);\n\n        if (!different) {\n            return;\n        }\n\n        this.gridview.element.style.height = `${height}px`;\n        this.gridview.element.style.width = `${width}px`;\n\n        this.gridview.layout(width, height);\n    }\n\n    public dispose(): void {\n        this._onDidActiveGroupChange.dispose();\n        this._onDidAddGroup.dispose();\n        this._onDidRemoveGroup.dispose();\n        this._onDidLayoutChange.dispose();\n\n        for (const group of this.groups) {\n            group.dispose();\n        }\n\n        this.gridview.dispose();\n\n        super.dispose();\n    }\n}\n","import { Emitter, Event } from '../events';\nimport { CompositeDisposable, MutableDisposable } from '../lifecycle';\nimport { IPanel, Parameters } from '../panel/types';\n\nexport interface FocusEvent {\n    readonly isFocused: boolean;\n}\nexport interface PanelDimensionChangeEvent {\n    readonly width: number;\n    readonly height: number;\n}\n\nexport interface VisibilityEvent {\n    readonly isVisible: boolean;\n}\n\nexport interface ActiveEvent {\n    readonly isActive: boolean;\n}\n\nexport interface PanelApi {\n    // events\n    readonly onDidDimensionsChange: Event<PanelDimensionChangeEvent>;\n    readonly onDidFocusChange: Event<FocusEvent>;\n    readonly onDidVisibilityChange: Event<VisibilityEvent>;\n    readonly onDidActiveChange: Event<ActiveEvent>;\n    setVisible(isVisible: boolean): void;\n    setActive(): void;\n    updateParameters(parameters: Parameters): void;\n    /**\n     * The id of the panel that would have been assigned when the panel was created\n     */\n    readonly id: string;\n    /**\n     * Whether the panel holds the current focus\n     */\n    readonly isFocused: boolean;\n    /**\n     * Whether the panel is the actively selected panel\n     */\n    readonly isActive: boolean;\n    /**\n     * Whether the panel is visible\n     */\n    readonly isVisible: boolean;\n    /**\n     * The panel width in pixels\n     */\n    readonly width: number;\n    /**\n     * The panel height in pixels\n     */\n    readonly height: number;\n}\n\n/**\n * A core api implementation that should be used across all panel-like objects\n */\nexport class PanelApiImpl extends CompositeDisposable implements PanelApi {\n    private _isFocused = false;\n    private _isActive = false;\n    private _isVisible = true;\n    private _width = 0;\n    private _height = 0;\n\n    private readonly panelUpdatesDisposable = new MutableDisposable();\n\n    readonly _onDidDimensionChange = new Emitter<PanelDimensionChangeEvent>({\n        replay: true,\n    });\n    readonly onDidDimensionsChange = this._onDidDimensionChange.event;\n    //\n    readonly _onDidChangeFocus = new Emitter<FocusEvent>({\n        replay: true,\n    });\n    readonly onDidFocusChange: Event<FocusEvent> = this._onDidChangeFocus.event;\n    //\n    readonly _onFocusEvent = new Emitter<void>();\n    readonly onFocusEvent: Event<void> = this._onFocusEvent.event;\n    //\n    readonly _onDidVisibilityChange = new Emitter<VisibilityEvent>({\n        replay: true,\n    });\n    readonly onDidVisibilityChange: Event<VisibilityEvent> =\n        this._onDidVisibilityChange.event;\n    //\n\n    readonly _onVisibilityChange = new Emitter<VisibilityEvent>();\n    readonly onVisibilityChange: Event<VisibilityEvent> =\n        this._onVisibilityChange.event;\n    //\n    readonly _onDidActiveChange = new Emitter<ActiveEvent>({\n        replay: true,\n    });\n    readonly onDidActiveChange: Event<ActiveEvent> =\n        this._onDidActiveChange.event;\n    //\n    readonly _onActiveChange = new Emitter<void>();\n    readonly onActiveChange: Event<void> = this._onActiveChange.event;\n    //\n    readonly _onUpdateParameters = new Emitter<Parameters>();\n    readonly onUpdateParameters: Event<Parameters> =\n        this._onUpdateParameters.event;\n    //\n\n    get isFocused() {\n        return this._isFocused;\n    }\n\n    get isActive() {\n        return this._isActive;\n    }\n    get isVisible() {\n        return this._isVisible;\n    }\n\n    get width() {\n        return this._width;\n    }\n\n    get height() {\n        return this._height;\n    }\n\n    constructor(readonly id: string) {\n        super();\n\n        this.addDisposables(\n            this.onDidFocusChange((event) => {\n                this._isFocused = event.isFocused;\n            }),\n            this.onDidActiveChange((event) => {\n                this._isActive = event.isActive;\n            }),\n            this.onDidVisibilityChange((event) => {\n                this._isVisible = event.isVisible;\n            }),\n            this.onDidDimensionsChange((event) => {\n                this._width = event.width;\n                this._height = event.height;\n            }),\n            this.panelUpdatesDisposable,\n            this._onDidDimensionChange,\n            this._onDidChangeFocus,\n            this._onDidVisibilityChange,\n            this._onDidActiveChange,\n            this._onFocusEvent,\n            this._onActiveChange,\n            this._onVisibilityChange,\n            this._onUpdateParameters\n        );\n    }\n\n    public initialize(panel: IPanel): void {\n        this.panelUpdatesDisposable.value = this._onUpdateParameters.event(\n            (parameters) => {\n                panel.update({\n                    params: parameters,\n                });\n            }\n        );\n    }\n\n    setVisible(isVisible: boolean) {\n        this._onVisibilityChange.fire({ isVisible });\n    }\n\n    setActive(): void {\n        this._onActiveChange.fire();\n    }\n\n    updateParameters(parameters: Parameters): void {\n        this._onUpdateParameters.fire(parameters);\n    }\n\n    dispose() {\n        super.dispose();\n    }\n}\n","import { Emitter, Event } from '../events';\nimport { IDisposable } from '../lifecycle';\nimport { FunctionOrValue } from '../types';\nimport { PanelApiImpl, PanelApi } from './panelApi';\n\ninterface PanelConstraintChangeEvent2 {\n    readonly minimumSize?: FunctionOrValue<number>;\n    readonly maximumSize?: FunctionOrValue<number>;\n}\n\nexport interface PanelConstraintChangeEvent {\n    readonly minimumSize?: number;\n    readonly maximumSize?: number;\n}\n\nexport interface PanelSizeEvent {\n    readonly size: number;\n}\n\nexport interface SplitviewPanelApi extends PanelApi {\n    readonly onDidConstraintsChange: Event<PanelConstraintChangeEvent>;\n    setConstraints(value: PanelConstraintChangeEvent2): void;\n    setSize(event: PanelSizeEvent): void;\n}\n\nexport class SplitviewPanelApiImpl\n    extends PanelApiImpl\n    implements SplitviewPanelApi, IDisposable\n{\n    readonly _onDidConstraintsChangeInternal =\n        new Emitter<PanelConstraintChangeEvent2>();\n    readonly onDidConstraintsChangeInternal: Event<PanelConstraintChangeEvent2> =\n        this._onDidConstraintsChangeInternal.event;\n    //\n\n    readonly _onDidConstraintsChange = new Emitter<PanelConstraintChangeEvent>({\n        replay: true,\n    });\n    readonly onDidConstraintsChange: Event<PanelConstraintChangeEvent> =\n        this._onDidConstraintsChange.event;\n    //\n\n    readonly _onDidSizeChange = new Emitter<PanelSizeEvent>();\n    readonly onDidSizeChange: Event<PanelSizeEvent> =\n        this._onDidSizeChange.event;\n    //\n\n    constructor(id: string) {\n        super(id);\n\n        this.addDisposables(\n            this._onDidConstraintsChangeInternal,\n            this._onDidConstraintsChange,\n            this._onDidSizeChange\n        );\n    }\n\n    setConstraints(value: PanelConstraintChangeEvent2) {\n        this._onDidConstraintsChangeInternal.fire(value);\n    }\n\n    setSize(event: PanelSizeEvent) {\n        this._onDidSizeChange.fire(event);\n    }\n}\n","import { Emitter, Event } from '../events';\nimport { PaneviewPanel } from '../paneview/paneviewPanel';\nimport { SplitviewPanelApi, SplitviewPanelApiImpl } from './splitviewPanelApi';\n\nexport interface ExpansionEvent {\n    readonly isExpanded: boolean;\n}\n\nexport interface PaneviewPanelApi extends SplitviewPanelApi {\n    readonly isExpanded: boolean;\n    readonly onDidExpansionChange: Event<ExpansionEvent>;\n    readonly onMouseEnter: Event<MouseEvent>;\n    readonly onMouseLeave: Event<MouseEvent>;\n    setExpanded(isExpanded: boolean): void;\n}\n\nexport class PaneviewPanelApiImpl\n    extends SplitviewPanelApiImpl\n    implements PaneviewPanelApi\n{\n    readonly _onDidExpansionChange = new Emitter<ExpansionEvent>({\n        replay: true,\n    });\n    readonly onDidExpansionChange: Event<ExpansionEvent> =\n        this._onDidExpansionChange.event;\n\n    readonly _onMouseEnter = new Emitter<MouseEvent>({});\n    readonly onMouseEnter: Event<MouseEvent> = this._onMouseEnter.event;\n    readonly _onMouseLeave = new Emitter<MouseEvent>({});\n    readonly onMouseLeave: Event<MouseEvent> = this._onMouseLeave.event;\n\n    private _pane: PaneviewPanel | undefined;\n\n    set pane(pane: PaneviewPanel) {\n        this._pane = pane;\n    }\n\n    constructor(id: string) {\n        super(id);\n\n        this.addDisposables(\n            this._onDidExpansionChange,\n            this._onMouseEnter,\n            this._onMouseLeave\n        );\n    }\n\n    setExpanded(isExpanded: boolean): void {\n        this._pane?.setExpanded(isExpanded);\n    }\n\n    get isExpanded(): boolean {\n        return !!this._pane?.isExpanded();\n    }\n}\n","import { trackFocus } from '../dom';\nimport { CompositeDisposable } from '../lifecycle';\nimport {\n    IFrameworkPart,\n    PanelUpdateEvent,\n    PanelInitParameters,\n    IPanel,\n    Parameters,\n} from '../panel/types';\nimport { PanelApi, PanelApiImpl } from '../api/panelApi';\n\nexport interface BasePanelViewState {\n    readonly id: string;\n    readonly component: string;\n    readonly params?: Parameters;\n}\n\nexport interface BasePanelViewExported<T extends PanelApi> {\n    readonly id: string;\n    readonly api: T;\n    readonly width: number;\n    readonly height: number;\n    readonly params: Parameters | undefined;\n    focus(): void;\n    toJSON(): object;\n    update(event: PanelUpdateEvent): void;\n}\n\nexport abstract class BasePanelView<T extends PanelApiImpl>\n    extends CompositeDisposable\n    implements IPanel, BasePanelViewExported<T>\n{\n    private _height = 0;\n    private _width = 0;\n    private _element: HTMLElement;\n    protected part?: IFrameworkPart;\n    protected _params?: PanelInitParameters;\n\n    // provide an IFrameworkPart that will determine the rendered UI of this view piece.\n    protected abstract getComponent(): IFrameworkPart;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    get width(): number {\n        return this._width;\n    }\n\n    get height(): number {\n        return this._height;\n    }\n\n    get params(): Parameters | undefined {\n        return this._params?.params;\n    }\n\n    constructor(\n        public readonly id: string,\n        protected readonly component: string,\n        public readonly api: T\n    ) {\n        super();\n\n        this._element = document.createElement('div');\n        this._element.tabIndex = -1;\n        this._element.style.outline = 'none';\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n        this._element.style.overflow = 'hidden';\n\n        const focusTracker = trackFocus(this._element);\n\n        this.addDisposables(\n            this.api,\n            focusTracker.onDidFocus(() => {\n                this.api._onDidChangeFocus.fire({ isFocused: true });\n            }),\n            focusTracker.onDidBlur(() => {\n                this.api._onDidChangeFocus.fire({ isFocused: false });\n            }),\n            focusTracker\n        );\n    }\n\n    focus(): void {\n        this.api._onFocusEvent.fire();\n    }\n\n    layout(width: number, height: number): void {\n        this._width = width;\n        this._height = height;\n        this.api._onDidDimensionChange.fire({ width, height });\n\n        if (this.part) {\n            if (this._params) {\n                this.part.update(this._params.params);\n            }\n        }\n    }\n\n    init(parameters: PanelInitParameters): void {\n        this._params = parameters;\n        this.part = this.getComponent();\n    }\n\n    update(event: PanelUpdateEvent): void {\n        // merge the new parameters with the existing parameters\n        this._params = {\n            ...this._params,\n            params: {\n                ...this._params?.params,\n                ...event.params,\n            },\n        };\n\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params.params[key];\n            }\n        }\n\n        // update the view with the updated props\n        this.part?.update({ params: this._params.params });\n    }\n\n    toJSON(): BasePanelViewState {\n        const params = this._params?.params ?? {};\n\n        return {\n            id: this.id,\n            component: this.component,\n            params: Object.keys(params).length > 0 ? params : undefined,\n        };\n    }\n\n    dispose(): void {\n        this.api.dispose();\n        this.part?.dispose();\n\n        super.dispose();\n    }\n}\n","import { PaneviewApi } from '../api/component.api';\nimport { PaneviewPanelApiImpl } from '../api/paneviewPanelApi';\nimport { addClasses, removeClasses } from '../dom';\nimport { addDisposableListener, Emitter, Event } from '../events';\nimport {\n    BasePanelView,\n    BasePanelViewExported,\n    BasePanelViewState,\n} from '../gridview/basePanelView';\nimport { IDisposable } from '../lifecycle';\nimport {\n    IFrameworkPart,\n    PanelInitParameters,\n    PanelUpdateEvent,\n    Parameters,\n} from '../panel/types';\nimport { IView, Orientation } from '../splitview/splitview';\n\nexport interface PanePanelViewState extends BasePanelViewState {\n    headerComponent?: string;\n    title: string;\n}\n\nexport interface PanePanelInitParameter extends PanelInitParameters {\n    minimumBodySize?: number;\n    maximumBodySize?: number;\n    isExpanded?: boolean;\n    title: string;\n    containerApi: PaneviewApi;\n}\n\nexport interface PanePanelComponentInitParameter\n    extends PanePanelInitParameter {\n    api: PaneviewPanelApiImpl;\n}\n\nexport interface IPaneBodyPart extends IDisposable {\n    readonly element: HTMLElement;\n    update(params: PanelUpdateEvent): void;\n    init(parameters: PanePanelComponentInitParameter): void;\n}\n\nexport interface IPaneHeaderPart extends IDisposable {\n    readonly element: HTMLElement;\n    update(params: PanelUpdateEvent): void;\n    init(parameters: PanePanelComponentInitParameter): void;\n}\n\nexport interface IPaneview extends IView {\n    onDidChangeExpansionState: Event<boolean>;\n}\n\nexport interface IPaneviewPanel\n    extends BasePanelViewExported<PaneviewPanelApiImpl> {\n    readonly minimumSize: number;\n    readonly maximumSize: number;\n    readonly minimumBodySize: number;\n    readonly maximumBodySize: number;\n    isExpanded(): boolean;\n    setExpanded(isExpanded: boolean): void;\n    headerVisible: boolean;\n}\n\nexport abstract class PaneviewPanel\n    extends BasePanelView<PaneviewPanelApiImpl>\n    implements IPaneview, IPaneviewPanel\n{\n    private _onDidChangeExpansionState: Emitter<boolean> = new Emitter<boolean>(\n        { replay: true }\n    );\n    onDidChangeExpansionState = this._onDidChangeExpansionState.event;\n    private readonly _onDidChange = new Emitter<{\n        size?: number;\n        orthogonalSize?: number;\n    }>();\n    readonly onDidChange: Event<{ size?: number; orthogonalSize?: number }> =\n        this._onDidChange.event;\n\n    private headerSize = 22;\n    private _orthogonalSize = 0;\n    private _size = 0;\n    private _minimumBodySize = 100;\n    private _maximumBodySize: number = Number.POSITIVE_INFINITY;\n    private _isExpanded = false;\n    protected header?: HTMLElement;\n    protected body?: HTMLElement;\n    private bodyPart?: IPaneHeaderPart;\n    private headerPart?: IPaneBodyPart;\n    private expandedSize = 0;\n    private animationTimer: any;\n    private _orientation: Orientation;\n\n    private _headerVisible: boolean;\n\n    set orientation(value: Orientation) {\n        this._orientation = value;\n    }\n\n    get orientation(): Orientation {\n        return this._orientation;\n    }\n\n    get minimumSize(): number {\n        const headerSize = this.headerSize;\n        const expanded = this.isExpanded();\n        const minimumBodySize = expanded ? this._minimumBodySize : 0;\n\n        return headerSize + minimumBodySize;\n    }\n\n    get maximumSize(): number {\n        const headerSize = this.headerSize;\n        const expanded = this.isExpanded();\n        const maximumBodySize = expanded ? this._maximumBodySize : 0;\n\n        return headerSize + maximumBodySize;\n    }\n\n    get size(): number {\n        return this._size;\n    }\n\n    get orthogonalSize(): number {\n        return this._orthogonalSize;\n    }\n\n    set orthogonalSize(size: number) {\n        this._orthogonalSize = size;\n    }\n\n    get minimumBodySize(): number {\n        return this._minimumBodySize;\n    }\n\n    set minimumBodySize(value: number) {\n        this._minimumBodySize = typeof value === 'number' ? value : 0;\n    }\n\n    get maximumBodySize(): number {\n        return this._maximumBodySize;\n    }\n\n    set maximumBodySize(value: number) {\n        this._maximumBodySize =\n            typeof value === 'number' ? value : Number.POSITIVE_INFINITY;\n    }\n\n    get headerVisible(): boolean {\n        return this._headerVisible;\n    }\n\n    set headerVisible(value: boolean) {\n        this._headerVisible = value;\n        this.header!.style.display = value ? '' : 'none';\n    }\n\n    constructor(\n        id: string,\n        component: string,\n        private readonly headerComponent: string | undefined,\n        orientation: Orientation,\n        isExpanded: boolean,\n        isHeaderVisible: boolean\n    ) {\n        super(id, component, new PaneviewPanelApiImpl(id));\n        this.api.pane = this; // TODO cannot use 'this' before 'super'\n        this.api.initialize(this);\n\n        this._isExpanded = isExpanded;\n        this._headerVisible = isHeaderVisible;\n\n        this._onDidChangeExpansionState.fire(this.isExpanded()); // initialize value\n\n        this._orientation = orientation;\n\n        this.element.classList.add('pane');\n\n        this.addDisposables(\n            this.api.onDidSizeChange((event) => {\n                this._onDidChange.fire({ size: event.size });\n            }),\n            addDisposableListener(\n                this.element,\n                'mouseenter',\n                (ev: MouseEvent) => {\n                    this.api._onMouseEnter.fire(ev);\n                }\n            ),\n            addDisposableListener(\n                this.element,\n                'mouseleave',\n                (ev: MouseEvent) => {\n                    this.api._onMouseLeave.fire(ev);\n                }\n            )\n        );\n\n        this.addDisposables(\n            this._onDidChangeExpansionState,\n            this.onDidChangeExpansionState((isPanelExpanded) => {\n                this.api._onDidExpansionChange.fire({\n                    isExpanded: isPanelExpanded,\n                });\n            }),\n            this.api.onDidFocusChange((e) => {\n                if (!this.header) {\n                    return;\n                }\n                if (e.isFocused) {\n                    addClasses(this.header, 'focused');\n                } else {\n                    removeClasses(this.header, 'focused');\n                }\n            })\n        );\n\n        this.renderOnce();\n    }\n\n    setVisible(isVisible: boolean): void {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n\n    setActive(isActive: boolean): void {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n\n    isExpanded(): boolean {\n        return this._isExpanded;\n    }\n\n    setExpanded(expanded: boolean): void {\n        if (this._isExpanded === expanded) {\n            return;\n        }\n\n        this._isExpanded = expanded;\n\n        if (expanded) {\n            if (this.animationTimer) {\n                clearTimeout(this.animationTimer);\n            }\n            if (this.body) {\n                this.element.appendChild(this.body);\n            }\n        } else {\n            this.animationTimer = setTimeout(() => {\n                this.body?.remove();\n            }, 200);\n        }\n\n        this._onDidChange.fire(expanded ? { size: this.width } : {});\n        this._onDidChangeExpansionState.fire(expanded);\n    }\n\n    layout(size: number, orthogonalSize: number): void {\n        this._size = size;\n        this._orthogonalSize = orthogonalSize;\n        const [width, height] =\n            this.orientation === Orientation.HORIZONTAL\n                ? [size, orthogonalSize]\n                : [orthogonalSize, size];\n        if (this.isExpanded()) {\n            this.expandedSize = width;\n        }\n        super.layout(width, height);\n    }\n\n    init(parameters: PanePanelInitParameter): void {\n        super.init(parameters);\n\n        if (typeof parameters.minimumBodySize === 'number') {\n            this.minimumBodySize = parameters.minimumBodySize;\n        }\n        if (typeof parameters.maximumBodySize === 'number') {\n            this.maximumBodySize = parameters.maximumBodySize;\n        }\n\n        this.bodyPart = this.getBodyComponent();\n        this.headerPart = this.getHeaderComponent();\n\n        this.bodyPart.init({ ...parameters, api: this.api });\n        this.headerPart.init({ ...parameters, api: this.api });\n\n        this.body?.append(this.bodyPart.element);\n        this.header?.append(this.headerPart.element);\n\n        if (typeof parameters.isExpanded === 'boolean') {\n            this.setExpanded(parameters.isExpanded);\n        }\n    }\n\n    toJSON(): PanePanelViewState {\n        const params = this._params as PanePanelInitParameter;\n        return {\n            ...super.toJSON(),\n            headerComponent: this.headerComponent,\n            title: params.title,\n        };\n    }\n\n    private renderOnce(): void {\n        this.header = document.createElement('div');\n        this.header.tabIndex = 0;\n\n        this.header.className = 'pane-header';\n        this.header.style.height = `${this.headerSize}px`;\n        this.header.style.lineHeight = `${this.headerSize}px`;\n        this.header.style.minHeight = `${this.headerSize}px`;\n        this.header.style.maxHeight = `${this.headerSize}px`;\n\n        this.element.appendChild(this.header);\n\n        this.body = document.createElement('div');\n\n        this.body.className = 'pane-body';\n\n        this.element.appendChild(this.body);\n    }\n\n    // TODO slightly hacky by-pass of the component to create a body and header component\n    getComponent(): IFrameworkPart {\n        return {\n            update: (params: Parameters) => {\n                this.bodyPart?.update({ params });\n                this.headerPart?.update({ params });\n            },\n            dispose: () => {\n                this.bodyPart?.dispose();\n                this.headerPart?.dispose();\n            },\n        };\n    }\n\n    protected abstract getBodyComponent(): IPaneBodyPart;\n    protected abstract getHeaderComponent(): IPaneHeaderPart;\n}\n","import { PaneviewApi } from '../api/component.api';\nimport { DragHandler } from '../dnd/abstractDragHandler';\nimport {\n    getPaneData,\n    LocalSelectionTransfer,\n    PaneTransfer,\n} from '../dnd/dataTransfer';\nimport { Droptarget, DroptargetEvent } from '../dnd/droptarget';\nimport { Emitter } from '../events';\nimport { IDisposable } from '../lifecycle';\nimport { Orientation } from '../splitview/splitview';\nimport { IPaneviewComponent } from './paneviewComponent';\nimport {\n    IPaneviewPanel,\n    PanePanelInitParameter,\n    PaneviewPanel,\n} from './paneviewPanel';\n\nexport interface PaneviewDropEvent extends DroptargetEvent {\n    panel: IPaneviewPanel;\n    getData: () => PaneTransfer | undefined;\n    api: PaneviewApi;\n}\n\nexport abstract class DraggablePaneviewPanel extends PaneviewPanel {\n    private handler: DragHandler | undefined;\n    private target: Droptarget | undefined;\n\n    private readonly _onDidDrop = new Emitter<PaneviewDropEvent>();\n    readonly onDidDrop = this._onDidDrop.event;\n\n    constructor(\n        private readonly accessor: IPaneviewComponent,\n        id: string,\n        component: string,\n        headerComponent: string | undefined,\n        orientation: Orientation,\n        isExpanded: boolean,\n        disableDnd: boolean\n    ) {\n        super(id, component, headerComponent, orientation, isExpanded, true);\n\n        if (!disableDnd) {\n            this.initDragFeatures();\n        }\n    }\n\n    private initDragFeatures(): void {\n        if (!this.header) {\n            return;\n        }\n\n        const id = this.id;\n        const accessorId = this.accessor.id;\n        this.header.draggable = true;\n\n        this.handler = new (class PaneDragHandler extends DragHandler {\n            getData(): IDisposable {\n                LocalSelectionTransfer.getInstance().setData(\n                    [new PaneTransfer(accessorId, id)],\n                    PaneTransfer.prototype\n                );\n\n                return {\n                    dispose: () => {\n                        LocalSelectionTransfer.getInstance().clearData(\n                            PaneTransfer.prototype\n                        );\n                    },\n                };\n            }\n        })(this.header);\n\n        this.target = new Droptarget(this.element, {\n            acceptedTargetZones: ['top', 'bottom'],\n            overlayModel: {\n                activationSize: { type: 'percentage', value: 50 },\n            },\n            canDisplayOverlay: (event) => {\n                const data = getPaneData();\n\n                if (data) {\n                    if (\n                        data.paneId !== this.id &&\n                        data.viewId === this.accessor.id\n                    ) {\n                        return true;\n                    }\n                }\n\n                if (this.accessor.options.showDndOverlay) {\n                    return this.accessor.options.showDndOverlay({\n                        nativeEvent: event,\n                        getData: getPaneData,\n                        panel: this,\n                    });\n                }\n\n                return false;\n            },\n        });\n\n        this.addDisposables(\n            this._onDidDrop,\n            this.handler,\n            this.target,\n            this.target.onDrop((event) => {\n                this.onDrop(event);\n            })\n        );\n    }\n\n    private onDrop(event: DroptargetEvent): void {\n        const data = getPaneData();\n\n        if (!data || data.viewId !== this.accessor.id) {\n            // if there is no local drag event for this panel\n            // or if the drag event was creating by another Paneview instance\n            this._onDidDrop.fire({\n                ...event,\n                panel: this,\n                api: new PaneviewApi(this.accessor),\n                getData: getPaneData,\n            });\n            return;\n        }\n\n        const containerApi = (this._params! as PanePanelInitParameter)\n            .containerApi;\n        const panelId = data.paneId;\n\n        const existingPanel = containerApi.getPanel(panelId);\n        if (!existingPanel) {\n            // if the panel doesn't exist\n            this._onDidDrop.fire({\n                ...event,\n                panel: this,\n                getData: getPaneData,\n                api: new PaneviewApi(this.accessor),\n            });\n            return;\n        }\n\n        const allPanels = containerApi.panels;\n\n        const fromIndex = allPanels.indexOf(existingPanel);\n        let toIndex = containerApi.panels.indexOf(this);\n\n        if (event.position === 'left' || event.position === 'top') {\n            toIndex = Math.max(0, toIndex - 1);\n        }\n        if (event.position === 'right' || event.position === 'bottom') {\n            if (fromIndex > toIndex) {\n                toIndex++;\n            }\n            toIndex = Math.min(allPanels.length - 1, toIndex);\n        }\n\n        containerApi.movePanel(fromIndex, toIndex);\n    }\n}\n","import { Emitter, Event } from '../events';\nimport { IPanel } from '../panel/types';\nimport { FunctionOrValue } from '../types';\nimport { PanelApiImpl, PanelApi } from './panelApi';\n\nexport interface GridConstraintChangeEvent {\n    readonly minimumWidth?: number;\n    readonly minimumHeight?: number;\n    readonly maximumWidth?: number;\n    readonly maximumHeight?: number;\n}\n\ninterface GridConstraintChangeEvent2 {\n    readonly minimumWidth?: FunctionOrValue<number>;\n    readonly minimumHeight?: FunctionOrValue<number>;\n    readonly maximumWidth?: FunctionOrValue<number>;\n    readonly maximumHeight?: FunctionOrValue<number>;\n}\n\nexport interface SizeEvent {\n    readonly width?: number;\n    readonly height?: number;\n}\n\nexport interface GridviewPanelApi extends PanelApi {\n    readonly onDidConstraintsChange: Event<GridConstraintChangeEvent>;\n    setConstraints(value: GridConstraintChangeEvent2): void;\n    setSize(event: SizeEvent): void;\n}\n\nexport class GridviewPanelApiImpl\n    extends PanelApiImpl\n    implements GridviewPanelApi\n{\n    private readonly _onDidConstraintsChangeInternal =\n        new Emitter<GridConstraintChangeEvent2>();\n    readonly onDidConstraintsChangeInternal: Event<GridConstraintChangeEvent2> =\n        this._onDidConstraintsChangeInternal.event;\n\n    readonly _onDidConstraintsChange = new Emitter<GridConstraintChangeEvent>({\n        replay: true,\n    });\n    readonly onDidConstraintsChange: Event<GridConstraintChangeEvent> =\n        this._onDidConstraintsChange.event;\n\n    private readonly _onDidSizeChange = new Emitter<SizeEvent>();\n    readonly onDidSizeChange: Event<SizeEvent> = this._onDidSizeChange.event;\n\n    constructor(id: string, panel?: IPanel) {\n        super(id);\n\n        this.addDisposables(\n            this._onDidConstraintsChangeInternal,\n            this._onDidConstraintsChange,\n            this._onDidSizeChange\n        );\n\n        if (panel) {\n            this.initialize(panel);\n        }\n    }\n\n    public setConstraints(value: GridConstraintChangeEvent): void {\n        this._onDidConstraintsChangeInternal.fire(value);\n    }\n\n    public setSize(event: SizeEvent): void {\n        this._onDidSizeChange.fire(event);\n    }\n}\n","import { PanelInitParameters } from '../panel/types';\nimport {\n    GridviewComponent,\n    IGridPanelComponentView,\n} from './gridviewComponent';\nimport { FunctionOrValue } from '../types';\nimport {\n    BasePanelView,\n    BasePanelViewExported,\n    BasePanelViewState,\n} from './basePanelView';\nimport {\n    GridviewPanelApi,\n    GridviewPanelApiImpl,\n} from '../api/gridviewPanelApi';\nimport { LayoutPriority } from '../splitview/splitview';\nimport { Emitter, Event } from '../events';\nimport { IViewSize } from './gridview';\n\nexport interface GridviewInitParameters extends PanelInitParameters {\n    minimumWidth?: number;\n    maximumWidth?: number;\n    minimumHeight?: number;\n    maximumHeight?: number;\n    priority?: LayoutPriority;\n    snap?: boolean;\n    accessor: GridviewComponent;\n    isVisible?: boolean;\n}\n\nexport interface IGridviewPanel<T extends GridviewPanelApi = GridviewPanelApi>\n    extends BasePanelViewExported<T> {\n    readonly minimumWidth: number;\n    readonly maximumWidth: number;\n    readonly minimumHeight: number;\n    readonly maximumHeight: number;\n    readonly priority: LayoutPriority | undefined;\n    readonly snap: boolean;\n}\n\nexport abstract class GridviewPanel<\n        T extends GridviewPanelApiImpl = GridviewPanelApiImpl\n    >\n    extends BasePanelView<T>\n    implements IGridPanelComponentView, IGridviewPanel\n{\n    private _evaluatedMinimumWidth = 0;\n    private _evaluatedMaximumWidth = Number.MAX_SAFE_INTEGER;\n    private _evaluatedMinimumHeight = 0;\n    private _evaluatedMaximumHeight = Number.MAX_SAFE_INTEGER;\n\n    private _minimumWidth: FunctionOrValue<number> = 0;\n    private _minimumHeight: FunctionOrValue<number> = 0;\n    private _maximumWidth: FunctionOrValue<number> = Number.MAX_SAFE_INTEGER;\n    private _maximumHeight: FunctionOrValue<number> = Number.MAX_SAFE_INTEGER;\n    private _priority?: LayoutPriority;\n    private _snap = false;\n\n    private readonly _onDidChange = new Emitter<IViewSize | undefined>();\n    readonly onDidChange: Event<IViewSize | undefined> =\n        this._onDidChange.event;\n\n    get priority(): LayoutPriority | undefined {\n        return this._priority;\n    }\n\n    get snap(): boolean {\n        return this._snap;\n    }\n\n    get minimumWidth(): number {\n        const width =\n            typeof this._minimumWidth === 'function'\n                ? this._minimumWidth()\n                : this._minimumWidth;\n\n        if (width !== this._evaluatedMinimumWidth) {\n            this._evaluatedMinimumWidth = width;\n            this.updateConstraints();\n        }\n\n        return width;\n    }\n\n    get minimumHeight(): number {\n        const height =\n            typeof this._minimumHeight === 'function'\n                ? this._minimumHeight()\n                : this._minimumHeight;\n\n        if (height !== this._evaluatedMinimumHeight) {\n            this._evaluatedMinimumHeight = height;\n            this.updateConstraints();\n        }\n\n        return height;\n    }\n\n    get maximumHeight(): number {\n        const height =\n            typeof this._maximumHeight === 'function'\n                ? this._maximumHeight()\n                : this._maximumHeight;\n\n        if (height !== this._evaluatedMaximumHeight) {\n            this._evaluatedMaximumHeight = height;\n            this.updateConstraints();\n        }\n\n        return height;\n    }\n\n    get maximumWidth(): number {\n        const width =\n            typeof this._maximumWidth === 'function'\n                ? this._maximumWidth()\n                : this._maximumWidth;\n\n        if (width !== this._evaluatedMaximumWidth) {\n            this._evaluatedMaximumWidth = width;\n            this.updateConstraints();\n        }\n\n        return width;\n    }\n\n    get isActive(): boolean {\n        return this.api.isActive;\n    }\n\n    constructor(\n        id: string,\n        component: string,\n        options?: {\n            minimumWidth?: number;\n            maximumWidth?: number;\n            minimumHeight?: number;\n            maximumHeight?: number;\n        },\n        api?: T\n    ) {\n        super(id, component, api ?? <T>new GridviewPanelApiImpl(id));\n\n        if (typeof options?.minimumWidth === 'number') {\n            this._minimumWidth = options.minimumWidth;\n        }\n        if (typeof options?.maximumWidth === 'number') {\n            this._maximumWidth = options.maximumWidth;\n        }\n        if (typeof options?.minimumHeight === 'number') {\n            this._minimumHeight = options.minimumHeight;\n        }\n        if (typeof options?.maximumHeight === 'number') {\n            this._maximumHeight = options.maximumHeight;\n        }\n\n        this.api.initialize(this); // TODO: required to by-pass 'super before this' requirement\n\n        this.addDisposables(\n            this.api.onVisibilityChange((event) => {\n                const { isVisible } = event;\n                const { accessor } = this._params as GridviewInitParameters;\n                accessor.setVisible(this, isVisible);\n            }),\n            this.api.onActiveChange(() => {\n                const { accessor } = this._params as GridviewInitParameters;\n                accessor.setActive(this);\n            }),\n            this.api.onDidConstraintsChangeInternal((event) => {\n                if (\n                    typeof event.minimumWidth === 'number' ||\n                    typeof event.minimumWidth === 'function'\n                ) {\n                    this._minimumWidth = event.minimumWidth;\n                }\n                if (\n                    typeof event.minimumHeight === 'number' ||\n                    typeof event.minimumHeight === 'function'\n                ) {\n                    this._minimumHeight = event.minimumHeight;\n                }\n                if (\n                    typeof event.maximumWidth === 'number' ||\n                    typeof event.maximumWidth === 'function'\n                ) {\n                    this._maximumWidth = event.maximumWidth;\n                }\n                if (\n                    typeof event.maximumHeight === 'number' ||\n                    typeof event.maximumHeight === 'function'\n                ) {\n                    this._maximumHeight = event.maximumHeight;\n                }\n            }),\n            this.api.onDidSizeChange((event) => {\n                this._onDidChange.fire({\n                    height: event.height,\n                    width: event.width,\n                });\n            }),\n            this._onDidChange\n        );\n    }\n\n    setVisible(isVisible: boolean): void {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n\n    setActive(isActive: boolean): void {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n\n    init(parameters: GridviewInitParameters): void {\n        if (parameters.maximumHeight) {\n            this._maximumHeight = parameters.maximumHeight;\n        }\n        if (parameters.minimumHeight) {\n            this._minimumHeight = parameters.minimumHeight;\n        }\n        if (parameters.maximumWidth) {\n            this._maximumWidth = parameters.maximumWidth;\n        }\n        if (parameters.minimumWidth) {\n            this._minimumWidth = parameters.minimumWidth;\n        }\n\n        this._priority = parameters.priority;\n        this._snap = !!parameters.snap;\n\n        super.init(parameters);\n\n        if (typeof parameters.isVisible === 'boolean') {\n            this.setVisible(parameters.isVisible);\n        }\n    }\n\n    private updateConstraints(): void {\n        this.api._onDidConstraintsChange.fire({\n            minimumWidth: this._evaluatedMinimumWidth,\n            maximumWidth: this._evaluatedMaximumWidth,\n            minimumHeight: this._evaluatedMinimumHeight,\n            maximumHeight: this._evaluatedMaximumHeight,\n        });\n    }\n\n    toJSON(): GridPanelViewState {\n        const state = super.toJSON();\n        const maximum = (value: number) =>\n            value === Number.MAX_SAFE_INTEGER ? undefined : value;\n        const minimum = (value: number) => (value <= 0 ? undefined : value);\n\n        return {\n            ...state,\n            minimumHeight: minimum(this.minimumHeight),\n            maximumHeight: maximum(this.maximumHeight),\n            minimumWidth: minimum(this.minimumWidth),\n            maximumWidth: maximum(this.maximumWidth),\n            snap: this.snap,\n            priority: this.priority,\n        };\n    }\n}\n\nexport interface GridPanelViewState extends BasePanelViewState {\n    minimumHeight?: number;\n    maximumHeight?: number;\n    minimumWidth?: number;\n    maximumWidth?: number;\n    snap?: boolean;\n    priority?: LayoutPriority;\n}\n","import { Position, positionToDirection } from '../dnd/droptarget';\nimport { DockviewComponent } from '../dockview/dockviewComponent';\nimport { DockviewGroupPanel } from '../dockview/dockviewGroupPanel';\nimport { DockviewGroupLocation } from '../dockview/dockviewGroupPanelModel';\nimport { Emitter, Event } from '../events';\nimport { GridviewPanelApi, GridviewPanelApiImpl } from './gridviewPanelApi';\n\nexport interface DockviewGroupPanelApi extends GridviewPanelApi {\n    readonly onDidLocationChange: Event<DockviewGroupPanelFloatingChangeEvent>;\n    readonly location: DockviewGroupLocation;\n    moveTo(options: { group?: DockviewGroupPanel; position?: Position }): void;\n    maximize(): void;\n    isMaximized(): boolean;\n    exitMaximized(): void;\n}\n\nexport interface DockviewGroupPanelFloatingChangeEvent {\n    readonly location: DockviewGroupLocation;\n}\n\n// TODO find a better way to initialize and avoid needing null checks\nconst NOT_INITIALIZED_MESSAGE = 'DockviewGroupPanelApiImpl not initialized';\n\nexport class DockviewGroupPanelApiImpl extends GridviewPanelApiImpl {\n    private _group: DockviewGroupPanel | undefined;\n\n    readonly _onDidLocationChange =\n        new Emitter<DockviewGroupPanelFloatingChangeEvent>();\n    readonly onDidLocationChange: Event<DockviewGroupPanelFloatingChangeEvent> =\n        this._onDidLocationChange.event;\n\n    get location(): DockviewGroupLocation {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n        return this._group.model.location;\n    }\n\n    constructor(id: string, private readonly accessor: DockviewComponent) {\n        super(id);\n\n        this.addDisposables(this._onDidLocationChange);\n    }\n\n    moveTo(options: { group?: DockviewGroupPanel; position?: Position }): void {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n\n        const group =\n            options.group ??\n            this.accessor.addGroup({\n                direction: positionToDirection(options.position ?? 'right'),\n            });\n\n        this.accessor.moveGroupOrPanel(\n            group,\n            this._group.id,\n            undefined,\n            options.group ? options.position ?? 'center' : 'center'\n        );\n    }\n\n    maximize(): void {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n\n        if (this.location !== 'grid') {\n            // only grid groups can be maximized\n            return;\n        }\n\n        this.accessor.maximizeGroup(this._group);\n    }\n\n    isMaximized(): boolean {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n\n        return this.accessor.isMaximizedGroup(this._group);\n    }\n\n    exitMaximized(): void {\n        if (!this._group) {\n            throw new Error(NOT_INITIALIZED_MESSAGE);\n        }\n\n        if (this.isMaximized()) {\n            this.accessor.exitMaximizedGroup();\n        }\n    }\n\n    initialize(group: DockviewGroupPanel): void {\n        this._group = group;\n    }\n}\n","import { IFrameworkPart } from '../panel/types';\nimport { DockviewComponent } from '../dockview/dockviewComponent';\nimport {\n    DockviewGroupPanelModel,\n    GroupOptions,\n    IDockviewGroupPanelModel,\n    IHeader,\n    DockviewGroupPanelLocked,\n} from './dockviewGroupPanelModel';\nimport { GridviewPanel, IGridviewPanel } from '../gridview/gridviewPanel';\nimport { IDockviewPanel } from '../dockview/dockviewPanel';\nimport {\n    DockviewGroupPanelApi,\n    DockviewGroupPanelApiImpl,\n} from '../api/dockviewGroupPanelApi';\n\nexport interface IDockviewGroupPanel\n    extends IGridviewPanel<DockviewGroupPanelApi> {\n    model: IDockviewGroupPanelModel;\n    locked: DockviewGroupPanelLocked;\n    readonly size: number;\n    readonly panels: IDockviewPanel[];\n    readonly activePanel: IDockviewPanel | undefined;\n}\n\nexport type IDockviewGroupPanelPublic = IDockviewGroupPanel;\n\nexport class DockviewGroupPanel\n    extends GridviewPanel<DockviewGroupPanelApiImpl>\n    implements IDockviewGroupPanel\n{\n    private readonly _model: DockviewGroupPanelModel;\n\n    get panels(): IDockviewPanel[] {\n        return this._model.panels;\n    }\n\n    get activePanel(): IDockviewPanel | undefined {\n        return this._model.activePanel;\n    }\n\n    get size(): number {\n        return this._model.size;\n    }\n\n    get model(): DockviewGroupPanelModel {\n        return this._model;\n    }\n\n    get locked(): DockviewGroupPanelLocked {\n        return this._model.locked;\n    }\n\n    set locked(value: DockviewGroupPanelLocked) {\n        this._model.locked = value;\n    }\n\n    get header(): IHeader {\n        return this._model.header;\n    }\n\n    constructor(\n        accessor: DockviewComponent,\n        id: string,\n        options: GroupOptions\n    ) {\n        super(\n            id,\n            'groupview_default',\n            {\n                minimumHeight: 0,\n                minimumWidth: 0,\n            },\n            new DockviewGroupPanelApiImpl(id, accessor)\n        );\n\n        this.api.initialize(this); // cannot use 'this' after after 'super' call\n\n        this._model = new DockviewGroupPanelModel(\n            this.element,\n            accessor,\n            id,\n            options,\n            this\n        );\n    }\n\n    initialize(): void {\n        this._model.initialize();\n    }\n\n    setActive(isActive: boolean): void {\n        super.setActive(isActive);\n        this.model.setActive(isActive);\n    }\n\n    layout(width: number, height: number) {\n        super.layout(width, height);\n        this.model.layout(width, height);\n    }\n\n    getComponent(): IFrameworkPart {\n        return this._model;\n    }\n\n    toJSON(): any {\n        return this.model.toJSON();\n    }\n}\n","import { Emitter, Event } from '../events';\nimport { GridviewPanelApiImpl, GridviewPanelApi } from './gridviewPanelApi';\nimport { DockviewGroupPanel } from '../dockview/dockviewGroupPanel';\nimport { MutableDisposable } from '../lifecycle';\nimport { DockviewPanel } from '../dockview/dockviewPanel';\nimport { DockviewComponent } from '../dockview/dockviewComponent';\nimport { Position } from '../dnd/droptarget';\nimport { DockviewPanelRenderer } from '../overlayRenderContainer';\n\nexport interface TitleEvent {\n    readonly title: string;\n}\n\nexport interface RendererChangedEvent {\n    renderer: DockviewPanelRenderer;\n}\n\nexport interface DockviewPanelApi\n    extends Omit<\n        GridviewPanelApi,\n        // omit properties that do not make sense here\n        'setVisible' | 'onDidConstraintsChange' | 'setConstraints'\n    > {\n    readonly group: DockviewGroupPanel;\n    readonly isGroupActive: boolean;\n    readonly renderer: DockviewPanelRenderer;\n    readonly title: string | undefined;\n    readonly onDidActiveGroupChange: Event<void>;\n    readonly onDidGroupChange: Event<void>;\n    readonly onDidRendererChange: Event<RendererChangedEvent>;\n    close(): void;\n    setTitle(title: string): void;\n    setRenderer(renderer: DockviewPanelRenderer): void;\n    moveTo(options: {\n        group: DockviewGroupPanel;\n        position?: Position;\n        index?: number;\n    }): void;\n    maximize(): void;\n    isMaximized(): boolean;\n    exitMaximized(): void;\n}\n\nexport class DockviewPanelApiImpl\n    extends GridviewPanelApiImpl\n    implements DockviewPanelApi\n{\n    private _group: DockviewGroupPanel;\n\n    readonly _onDidTitleChange = new Emitter<TitleEvent>();\n    readonly onDidTitleChange = this._onDidTitleChange.event;\n\n    private readonly _onDidActiveGroupChange = new Emitter<void>();\n    readonly onDidActiveGroupChange = this._onDidActiveGroupChange.event;\n\n    private readonly _onDidGroupChange = new Emitter<void>();\n    readonly onDidGroupChange = this._onDidGroupChange.event;\n\n    readonly _onDidRendererChange = new Emitter<RendererChangedEvent>();\n    readonly onDidRendererChange = this._onDidRendererChange.event;\n\n    private readonly disposable = new MutableDisposable();\n\n    get title(): string | undefined {\n        return this.panel.title;\n    }\n\n    get isGroupActive(): boolean {\n        return this.group.isActive;\n    }\n\n    get renderer(): DockviewPanelRenderer {\n        return this.panel.renderer;\n    }\n\n    set group(value: DockviewGroupPanel) {\n        const isOldGroupActive = this.isGroupActive;\n\n        this._group = value;\n\n        this._onDidGroupChange.fire();\n\n        if (this._group) {\n            this.disposable.value = this._group.api.onDidActiveChange(() => {\n                this._onDidActiveGroupChange.fire();\n            });\n\n            if (this.isGroupActive !== isOldGroupActive) {\n                this._onDidActiveGroupChange.fire();\n            }\n        }\n    }\n\n    get group(): DockviewGroupPanel {\n        return this._group;\n    }\n\n    constructor(\n        private panel: DockviewPanel,\n        group: DockviewGroupPanel,\n        private readonly accessor: DockviewComponent\n    ) {\n        super(panel.id);\n\n        this.initialize(panel);\n\n        this._group = group;\n\n        this.addDisposables(\n            this.disposable,\n            this._onDidRendererChange,\n            this._onDidTitleChange,\n            this._onDidGroupChange,\n            this._onDidActiveGroupChange\n        );\n    }\n\n    moveTo(options: {\n        group: DockviewGroupPanel;\n        position?: Position;\n        index?: number;\n    }): void {\n        this.accessor.moveGroupOrPanel(\n            options.group,\n            this._group.id,\n            this.panel.id,\n            options.position ?? 'center',\n            options.index\n        );\n    }\n\n    setTitle(title: string): void {\n        this.panel.setTitle(title);\n    }\n\n    setRenderer(renderer: DockviewPanelRenderer): void {\n        this.panel.setRenderer(renderer);\n    }\n\n    close(): void {\n        this.group.model.closePanel(this.panel);\n    }\n\n    maximize(): void {\n        this.group.api.maximize();\n    }\n\n    isMaximized(): boolean {\n        return this.group.api.isMaximized();\n    }\n\n    exitMaximized(): void {\n        this.group.api.exitMaximized();\n    }\n}\n","import { DockviewApi } from '../api/component.api';\nimport {\n    DockviewPanelApi,\n    DockviewPanelApiImpl,\n} from '../api/dockviewPanelApi';\nimport { GroupviewPanelState, IGroupPanelInitParameters } from './types';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\nimport { CompositeDisposable, IDisposable } from '../lifecycle';\nimport { IPanel, PanelUpdateEvent, Parameters } from '../panel/types';\nimport { IDockviewPanelModel } from './dockviewPanelModel';\nimport { DockviewComponent } from './dockviewComponent';\nimport { DockviewPanelRenderer } from '../overlayRenderContainer';\n\nexport interface IDockviewPanel extends IDisposable, IPanel {\n    readonly view: IDockviewPanelModel;\n    readonly group: DockviewGroupPanel;\n    readonly api: DockviewPanelApi;\n    readonly title: string | undefined;\n    readonly params: Parameters | undefined;\n    updateParentGroup(group: DockviewGroupPanel, isGroupActive: boolean): void;\n    init(params: IGroupPanelInitParameters): void;\n    toJSON(): GroupviewPanelState;\n    setTitle(title: string): void;\n    update(event: PanelUpdateEvent): void;\n}\n\nexport class DockviewPanel\n    extends CompositeDisposable\n    implements IDockviewPanel\n{\n    readonly api: DockviewPanelApiImpl;\n\n    private _group: DockviewGroupPanel;\n    private _params?: Parameters;\n    private _title: string | undefined;\n    private _renderer: DockviewPanelRenderer | undefined;\n\n    get params(): Parameters | undefined {\n        return this._params;\n    }\n\n    get title(): string | undefined {\n        return this._title;\n    }\n\n    get group(): DockviewGroupPanel {\n        return this._group;\n    }\n\n    get renderer(): DockviewPanelRenderer {\n        return this._renderer ?? this.accessor.renderer;\n    }\n\n    constructor(\n        public readonly id: string,\n        private readonly accessor: DockviewComponent,\n        private readonly containerApi: DockviewApi,\n        group: DockviewGroupPanel,\n        readonly view: IDockviewPanelModel,\n        options: { renderer?: DockviewPanelRenderer }\n    ) {\n        super();\n        this._renderer = options.renderer;\n        this._group = group;\n\n        this.api = new DockviewPanelApiImpl(this, this._group, accessor);\n\n        this.addDisposables(\n            this.api.onActiveChange(() => {\n                accessor.setActivePanel(this);\n            }),\n            this.api.onDidSizeChange((event) => {\n                // forward the resize event to the group since if you want to resize a panel\n                // you are actually just resizing the panels parent which is the group\n                this.group.api.setSize(event);\n            }),\n            this.api.onDidRendererChange((event) => {\n                this.group.model.rerender(this);\n            })\n        );\n    }\n\n    public init(params: IGroupPanelInitParameters): void {\n        this._params = params.params;\n\n        this.view.init({\n            ...params,\n            api: this.api,\n            containerApi: this.containerApi,\n        });\n\n        this.setTitle(params.title);\n    }\n\n    focus(): void {\n        this.api._onFocusEvent.fire();\n    }\n\n    public toJSON(): GroupviewPanelState {\n        return <GroupviewPanelState>{\n            id: this.id,\n            contentComponent: this.view.contentComponent,\n            tabComponent: this.view.tabComponent,\n            params:\n                Object.keys(this._params || {}).length > 0\n                    ? this._params\n                    : undefined,\n            title: this.title,\n            renderer: this._renderer,\n        };\n    }\n\n    setTitle(title: string): void {\n        const didTitleChange = title !== this.title;\n\n        if (didTitleChange) {\n            this._title = title;\n\n            this.view.update({\n                params: {\n                    params: this._params,\n                    title: this.title,\n                },\n            });\n            this.api._onDidTitleChange.fire({ title });\n        }\n    }\n\n    setRenderer(renderer: DockviewPanelRenderer): void {\n        const didChange = renderer !== this.renderer;\n\n        if (didChange) {\n            this._renderer = renderer;\n            this.api._onDidRendererChange.fire({\n                renderer: renderer,\n            });\n        }\n    }\n\n    public update(event: PanelUpdateEvent): void {\n        // merge the new parameters with the existing parameters\n        this._params = {\n            ...(this._params ?? {}),\n            ...event.params,\n        };\n\n        /**\n         * delete new keys that have a value of undefined,\n         * allow values of null\n         */\n        for (const key of Object.keys(event.params)) {\n            if (event.params[key] === undefined) {\n                delete this._params[key];\n            }\n        }\n\n        // update the view with the updated props\n        this.view.update({\n            params: {\n                params: this._params,\n                title: this.title,\n            },\n        });\n    }\n\n    public updateParentGroup(\n        group: DockviewGroupPanel,\n        isGroupActive: boolean\n    ): void {\n        this._group = group;\n        this.api.group = group;\n\n        const isPanelVisible = this._group.model.isPanelActive(this);\n\n        this.api._onDidActiveChange.fire({\n            isActive: isGroupActive && isPanelVisible,\n        });\n        this.api._onDidVisibilityChange.fire({\n            isVisible: isPanelVisible,\n        });\n\n        this.view.updateParentGroup(\n            this._group,\n            this._group.model.isPanelActive(this)\n        );\n    }\n\n    public layout(width: number, height: number): void {\n        // the obtain the correct dimensions of the content panel we must deduct the tab height\n        this.api._onDidDimensionChange.fire({\n            width,\n            height: height,\n        });\n\n        this.view.layout(width, height);\n    }\n\n    public dispose(): void {\n        this.api.dispose();\n        this.view.dispose();\n    }\n}\n","const createSvgElementFromPath = (params: {\n    height: string;\n    width: string;\n    viewbox: string;\n    path: string;\n}): SVGSVGElement => {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttributeNS(null, 'height', params.height);\n    svg.setAttributeNS(null, 'width', params.width);\n    svg.setAttributeNS(null, 'viewBox', params.viewbox);\n    svg.setAttributeNS(null, 'aria-hidden', 'false');\n    svg.setAttributeNS(null, 'focusable', 'false');\n    svg.classList.add('dockview-svg');\n    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path.setAttributeNS(null, 'd', params.path);\n    svg.appendChild(path);\n    return svg;\n};\n\nexport const createCloseButton = (): SVGSVGElement =>\n    createSvgElementFromPath({\n        width: '11',\n        height: '11',\n        viewbox: '0 0 28 28',\n        path: 'M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z',\n    });\n\nexport const createExpandMoreButton = (): SVGSVGElement =>\n    createSvgElementFromPath({\n        width: '11',\n        height: '11',\n        viewbox: '0 0 24 15',\n        path: 'M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z',\n    });\n\nexport const createChevronRightButton = (): SVGSVGElement =>\n    createSvgElementFromPath({\n        width: '11',\n        height: '11',\n        viewbox: '0 0 15 25',\n        path: 'M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z',\n    });\n","import { CompositeDisposable } from '../../../lifecycle';\nimport { ITabRenderer, GroupPanelPartInitParameters } from '../../types';\nimport { addDisposableListener } from '../../../events';\nimport { PanelUpdateEvent } from '../../../panel/types';\nimport { DockviewGroupPanel } from '../../dockviewGroupPanel';\nimport { createCloseButton } from '../../../svg';\n\nexport class DefaultTab extends CompositeDisposable implements ITabRenderer {\n    private _element: HTMLElement;\n    private _content: HTMLElement;\n    private _actionContainer: HTMLElement;\n    private _list: HTMLElement;\n    private action: HTMLElement;\n    //\n    private params: GroupPanelPartInitParameters = {} as any;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        super();\n\n        this._element = document.createElement('div');\n        this._element.className = 'default-tab';\n        //\n        this._content = document.createElement('div');\n        this._content.className = 'tab-content';\n        //\n        this._actionContainer = document.createElement('div');\n        this._actionContainer.className = 'action-container';\n        //\n        this._list = document.createElement('ul');\n        this._list.className = 'tab-list';\n        //\n        this.action = document.createElement('div');\n        this.action.className = 'tab-action';\n        this.action.appendChild(createCloseButton());\n\n        //\n        this._element.appendChild(this._content);\n        this._element.appendChild(this._actionContainer);\n        this._actionContainer.appendChild(this._list);\n        this._list.appendChild(this.action);\n        //\n        this.addDisposables(\n            addDisposableListener(this._actionContainer, 'mousedown', (ev) => {\n                ev.preventDefault();\n            })\n        );\n\n        this.render();\n    }\n\n    public update(event: PanelUpdateEvent): void {\n        this.params = { ...this.params, ...event.params };\n        this.render();\n    }\n\n    focus(): void {\n        //noop\n    }\n\n    public init(params: GroupPanelPartInitParameters): void {\n        this.params = params;\n        this._content.textContent = params.title;\n\n        addDisposableListener(this.action, 'click', (ev) => {\n            ev.preventDefault(); //\n            this.params.api.close();\n        });\n    }\n\n    onGroupChange(_group: DockviewGroupPanel): void {\n        this.render();\n    }\n\n    onPanelVisibleChange(_isPanelVisible: boolean): void {\n        this.render();\n    }\n\n    public layout(_width: number, _height: number): void {\n        // noop\n    }\n\n    private render(): void {\n        if (this._content.textContent !== this.params.title) {\n            this._content.textContent = this.params.title;\n        }\n    }\n}\n","export interface FrameworkFactory<T> {\n    createComponent: (id: string, componentId: string, component: any) => T;\n}\n\nexport type ComponentConstructor<T> = {\n    new (id: string, component: string): T;\n};\n\nexport function createComponent<T>(\n    id: string,\n    componentName?: string,\n    components: {\n        [componentName: string]: ComponentConstructor<T>;\n    } = {},\n    frameworkComponents: {\n        [componentName: string]: any;\n    } = {},\n    createFrameworkComponent?: FrameworkFactory<T>,\n    fallback?: () => T\n): T {\n    const Component =\n        typeof componentName === 'string'\n            ? components[componentName]\n            : undefined;\n    const FrameworkComponent =\n        typeof componentName === 'string'\n            ? frameworkComponents[componentName]\n            : undefined;\n\n    if (Component && FrameworkComponent) {\n        throw new Error(\n            `Cannot create '${id}'. component '${componentName}' registered as both a component and frameworkComponent`\n        );\n    }\n    if (FrameworkComponent) {\n        if (!createFrameworkComponent) {\n            throw new Error(\n                `Cannot create '${id}' for framework component '${componentName}'. you must register a frameworkPanelWrapper to use framework components`\n            );\n        }\n        return createFrameworkComponent.createComponent(\n            id,\n            componentName!,\n            FrameworkComponent\n        );\n    }\n\n    if (!Component) {\n        if (fallback) {\n            return fallback();\n        }\n        throw new Error(\n            `Cannot create '${id}', no component '${componentName}' provided`\n        );\n    }\n\n    return new Component(id, componentName!);\n}\n","import { DefaultTab } from './components/tab/defaultTab';\nimport {\n    GroupPanelPartInitParameters,\n    IContentRenderer,\n    ITabRenderer,\n} from './types';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\nimport { IDisposable } from '../lifecycle';\nimport { createComponent } from '../panel/componentFactory';\nimport { IDockviewComponent } from './dockviewComponent';\nimport { PanelUpdateEvent } from '../panel/types';\n\nexport interface IDockviewPanelModel extends IDisposable {\n    readonly contentComponent: string;\n    readonly tabComponent?: string;\n    readonly content: IContentRenderer;\n    readonly tab?: ITabRenderer;\n    update(event: PanelUpdateEvent): void;\n    layout(width: number, height: number): void;\n    init(params: GroupPanelPartInitParameters): void;\n    updateParentGroup(group: DockviewGroupPanel, isPanelVisible: boolean): void;\n}\n\nexport class DockviewPanelModel implements IDockviewPanelModel {\n    private readonly _content: IContentRenderer;\n    private readonly _tab: ITabRenderer;\n\n    private _group: DockviewGroupPanel | null = null;\n    private _isPanelVisible: boolean | null = null;\n\n    get content(): IContentRenderer {\n        return this._content;\n    }\n\n    get tab(): ITabRenderer {\n        return this._tab;\n    }\n\n    constructor(\n        private readonly accessor: IDockviewComponent,\n        private readonly id: string,\n        readonly contentComponent: string,\n        readonly tabComponent?: string\n    ) {\n        this._content = this.createContentComponent(this.id, contentComponent);\n        this._tab = this.createTabComponent(this.id, tabComponent);\n    }\n\n    init(params: GroupPanelPartInitParameters): void {\n        this.content.init({ ...params, tab: this.tab });\n        this.tab.init(params);\n    }\n\n    updateParentGroup(\n        group: DockviewGroupPanel,\n        isPanelVisible: boolean\n    ): void {\n        if (group !== this._group) {\n            this._group = group;\n            if (this._content.onGroupChange) {\n                this._content.onGroupChange(group);\n            }\n            if (this._tab.onGroupChange) {\n                this._tab.onGroupChange(group);\n            }\n        }\n\n        if (isPanelVisible !== this._isPanelVisible) {\n            this._isPanelVisible = isPanelVisible;\n            if (this._content.onPanelVisibleChange) {\n                this._content.onPanelVisibleChange(isPanelVisible);\n            }\n            if (this._tab.onPanelVisibleChange) {\n                this._tab.onPanelVisibleChange(isPanelVisible);\n            }\n        }\n    }\n\n    layout(width: number, height: number): void {\n        this.content.layout?.(width, height);\n    }\n\n    update(event: PanelUpdateEvent): void {\n        this.content.update?.(event);\n        this.tab.update?.(event);\n    }\n\n    dispose(): void {\n        this.content.dispose?.();\n        this.tab.dispose?.();\n    }\n\n    private createContentComponent(\n        id: string,\n        componentName: string\n    ): IContentRenderer {\n        return createComponent(\n            id,\n            componentName,\n            this.accessor.options.components ?? {},\n            this.accessor.options.frameworkComponents,\n            this.accessor.options.frameworkComponentFactory?.content\n        );\n    }\n\n    private createTabComponent(\n        id: string,\n        componentName?: string\n    ): ITabRenderer {\n        if (componentName) {\n            return createComponent(\n                id,\n                componentName,\n                this.accessor.options.tabComponents,\n                this.accessor.options.frameworkTabComponents,\n                this.accessor.options.frameworkComponentFactory?.tab,\n                () => new DefaultTab()\n            );\n        } else if (this.accessor.options.defaultTabComponent) {\n            return createComponent(\n                id,\n                this.accessor.options.defaultTabComponent,\n                this.accessor.options.tabComponents,\n                this.accessor.options.frameworkTabComponents,\n                this.accessor.options.frameworkComponentFactory?.tab,\n                () => new DefaultTab()\n            );\n        } else {\n            return new DefaultTab();\n        }\n    }\n}\n","import { GroupviewPanelState } from './types';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\nimport { DockviewPanel, IDockviewPanel } from './dockviewPanel';\nimport { DockviewComponent } from './dockviewComponent';\nimport { DockviewPanelModel } from './dockviewPanelModel';\nimport { DockviewApi } from '../api/component.api';\n\nexport interface IPanelDeserializer {\n    fromJSON(\n        panelData: GroupviewPanelState,\n        group: DockviewGroupPanel\n    ): IDockviewPanel;\n}\n\n// @depreciated\ninterface LegacyState extends GroupviewPanelState {\n    view?: {\n        tab?: { id: string };\n        content: { id: string };\n    };\n}\n\nexport class DefaultDockviewDeserialzier implements IPanelDeserializer {\n    constructor(private readonly accessor: DockviewComponent) {}\n\n    public fromJSON(\n        panelData: GroupviewPanelState,\n        group: DockviewGroupPanel\n    ): IDockviewPanel {\n        const panelId = panelData.id;\n        const params = panelData.params;\n        const title = panelData.title;\n\n        const viewData = (panelData as LegacyState).view!;\n\n        const contentComponent = viewData\n            ? viewData.content.id\n            : panelData.contentComponent ?? 'unknown';\n        const tabComponent = viewData\n            ? viewData.tab?.id\n            : panelData.tabComponent;\n\n        const view = new DockviewPanelModel(\n            this.accessor,\n            panelId,\n            contentComponent,\n            tabComponent\n        );\n\n        const panel = new DockviewPanel(\n            panelId,\n            this.accessor,\n            new DockviewApi(this.accessor),\n            group,\n            view,\n            {\n                renderer: panelData.renderer,\n            }\n        );\n\n        panel.init({\n            title: title ?? panelId,\n            params: params ?? {},\n        });\n\n        return panel;\n    }\n}\n","import {\n    IWatermarkRenderer,\n    WatermarkRendererInitParameters,\n} from '../../types';\nimport { addDisposableListener } from '../../../events';\nimport { toggleClass } from '../../../dom';\nimport { CompositeDisposable } from '../../../lifecycle';\nimport { DockviewGroupPanel } from '../../dockviewGroupPanel';\nimport { PanelUpdateEvent } from '../../../panel/types';\nimport { createCloseButton } from '../../../svg';\nimport { DockviewApi } from '../../../api/component.api';\n\nexport class Watermark\n    extends CompositeDisposable\n    implements IWatermarkRenderer\n{\n    private _element: HTMLElement;\n    private _group: DockviewGroupPanel | undefined;\n    private _api: DockviewApi | undefined;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        super();\n        this._element = document.createElement('div');\n        this._element.className = 'watermark';\n\n        const title = document.createElement('div');\n        title.className = 'watermark-title';\n\n        const emptySpace = document.createElement('span');\n        emptySpace.style.flexGrow = '1';\n\n        const content = document.createElement('div');\n        content.className = 'watermark-content';\n\n        this._element.appendChild(title);\n        this._element.appendChild(content);\n\n        const actionsContainer = document.createElement('div');\n        actionsContainer.className = 'actions-container';\n\n        const closeAnchor = document.createElement('div');\n        closeAnchor.className = 'close-action';\n        closeAnchor.appendChild(createCloseButton());\n\n        actionsContainer.appendChild(closeAnchor);\n\n        title.appendChild(emptySpace);\n        title.appendChild(actionsContainer);\n\n        this.addDisposables(\n            addDisposableListener(closeAnchor, 'click', (ev) => {\n                ev.preventDefault();\n                if (this._group) {\n                    this._api?.removeGroup(this._group);\n                }\n            })\n        );\n    }\n\n    update(_event: PanelUpdateEvent): void {\n        // noop\n    }\n\n    focus(): void {\n        // noop\n    }\n\n    layout(_width: number, _height: number): void {\n        // noop\n    }\n\n    init(_params: WatermarkRendererInitParameters): void {\n        this._api = _params.containerApi;\n        this.render();\n    }\n\n    updateParentGroup(group: DockviewGroupPanel, _visible: boolean): void {\n        this._group = group;\n        this.render();\n    }\n\n    dispose(): void {\n        super.dispose();\n    }\n\n    private render(): void {\n        const isOneGroup = !!(this._api && this._api.size <= 1);\n        toggleClass(this.element, 'has-actions', isOneGroup);\n    }\n}\n","import {\n    getElementsByTagName,\n    quasiDefaultPrevented,\n    toggleClass,\n} from '../dom';\nimport {\n    Emitter,\n    Event,\n    addDisposableListener,\n    addDisposableWindowListener,\n} from '../events';\nimport { CompositeDisposable, MutableDisposable } from '../lifecycle';\nimport { clamp } from '../math';\nimport { Box } from '../types';\n\nconst bringElementToFront = (() => {\n    let previous: HTMLElement | null = null;\n\n    function pushToTop(element: HTMLElement) {\n        if (previous !== element && previous !== null) {\n            toggleClass(previous, 'dv-bring-to-front', false);\n        }\n\n        toggleClass(element, 'dv-bring-to-front', true);\n        previous = element;\n    }\n\n    return pushToTop;\n})();\n\nexport class Overlay extends CompositeDisposable {\n    private _element: HTMLElement = document.createElement('div');\n\n    private readonly _onDidChange = new Emitter<void>();\n    readonly onDidChange: Event<void> = this._onDidChange.event;\n\n    private readonly _onDidChangeEnd = new Emitter<void>();\n    readonly onDidChangeEnd: Event<void> = this._onDidChangeEnd.event;\n\n    private static MINIMUM_HEIGHT = 20;\n    private static MINIMUM_WIDTH = 20;\n\n    set minimumInViewportWidth(value: number | undefined) {\n        this.options.minimumInViewportWidth = value;\n    }\n\n    set minimumInViewportHeight(value: number | undefined) {\n        this.options.minimumInViewportHeight = value;\n    }\n\n    constructor(\n        private readonly options: Box & {\n            container: HTMLElement;\n            content: HTMLElement;\n            minimumInViewportWidth?: number;\n            minimumInViewportHeight?: number;\n        }\n    ) {\n        super();\n\n        this.addDisposables(this._onDidChange, this._onDidChangeEnd);\n\n        this._element.className = 'dv-resize-container';\n\n        this.setupResize('top');\n        this.setupResize('bottom');\n        this.setupResize('left');\n        this.setupResize('right');\n        this.setupResize('topleft');\n        this.setupResize('topright');\n        this.setupResize('bottomleft');\n        this.setupResize('bottomright');\n\n        this._element.appendChild(this.options.content);\n        this.options.container.appendChild(this._element);\n\n        // if input bad resize within acceptable boundaries\n        this.setBounds({\n            height: this.options.height,\n            width: this.options.width,\n            top: this.options.top,\n            left: this.options.left,\n        });\n    }\n\n    setBounds(bounds: Partial<Box> = {}): void {\n        if (typeof bounds.height === 'number') {\n            this._element.style.height = `${bounds.height}px`;\n        }\n        if (typeof bounds.width === 'number') {\n            this._element.style.width = `${bounds.width}px`;\n        }\n        if (typeof bounds.top === 'number') {\n            this._element.style.top = `${bounds.top}px`;\n        }\n        if (typeof bounds.left === 'number') {\n            this._element.style.left = `${bounds.left}px`;\n        }\n\n        const containerRect = this.options.container.getBoundingClientRect();\n        const overlayRect = this._element.getBoundingClientRect();\n\n        // region: ensure bounds within allowable limits\n\n        // a minimum width of minimumViewportWidth must be inside the viewport\n        const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));\n\n        // a minimum height of minimumViewportHeight must be inside the viewport\n        const yOffset =\n            typeof this.options.minimumInViewportHeight === 'number'\n                ? Math.max(0, this.getMinimumHeight(overlayRect.height))\n                : 0;\n\n        const left = clamp(\n            overlayRect.left - containerRect.left,\n            -xOffset,\n            Math.max(0, containerRect.width - overlayRect.width + xOffset)\n        );\n\n        const top = clamp(\n            overlayRect.top - containerRect.top,\n            -yOffset,\n            Math.max(0, containerRect.height - overlayRect.height + yOffset)\n        );\n\n        this._element.style.left = `${left}px`;\n        this._element.style.top = `${top}px`;\n\n        this._onDidChange.fire();\n    }\n\n    toJSON(): Box {\n        const container = this.options.container.getBoundingClientRect();\n        const element = this._element.getBoundingClientRect();\n\n        return {\n            top: element.top - container.top,\n            left: element.left - container.left,\n            width: element.width,\n            height: element.height,\n        };\n    }\n\n    setupDrag(\n        dragTarget: HTMLElement,\n        options: { inDragMode: boolean } = { inDragMode: false }\n    ): void {\n        const move = new MutableDisposable();\n\n        const track = () => {\n            let offset: { x: number; y: number } | null = null;\n\n            const iframes = [\n                ...getElementsByTagName('iframe'),\n                ...getElementsByTagName('webview'),\n            ];\n\n            for (const iframe of iframes) {\n                iframe.style.pointerEvents = 'none';\n            }\n\n            move.value = new CompositeDisposable(\n                {\n                    dispose: () => {\n                        for (const iframe of iframes) {\n                            iframe.style.pointerEvents = 'auto';\n                        }\n                    },\n                },\n                addDisposableWindowListener(window, 'mousemove', (e) => {\n                    const containerRect =\n                        this.options.container.getBoundingClientRect();\n                    const x = e.clientX - containerRect.left;\n                    const y = e.clientY - containerRect.top;\n\n                    toggleClass(\n                        this._element,\n                        'dv-resize-container-dragging',\n                        true\n                    );\n\n                    const overlayRect = this._element.getBoundingClientRect();\n                    if (offset === null) {\n                        offset = {\n                            x: e.clientX - overlayRect.left,\n                            y: e.clientY - overlayRect.top,\n                        };\n                    }\n\n                    const xOffset = Math.max(\n                        0,\n                        this.getMinimumWidth(overlayRect.width)\n                    );\n                    const yOffset = Math.max(\n                        0,\n                        this.options.minimumInViewportHeight\n                            ? this.getMinimumHeight(overlayRect.height)\n                            : 0\n                    );\n\n                    const left = clamp(\n                        x - offset.x,\n                        -xOffset,\n                        Math.max(\n                            0,\n                            containerRect.width - overlayRect.width + xOffset\n                        )\n                    );\n\n                    const top = clamp(\n                        y - offset.y,\n                        -yOffset,\n                        Math.max(\n                            0,\n                            containerRect.height - overlayRect.height + yOffset\n                        )\n                    );\n\n                    this.setBounds({ top, left });\n                }),\n                addDisposableWindowListener(window, 'mouseup', () => {\n                    toggleClass(\n                        this._element,\n                        'dv-resize-container-dragging',\n                        false\n                    );\n\n                    move.dispose();\n                    this._onDidChangeEnd.fire();\n                })\n            );\n        };\n\n        this.addDisposables(\n            move,\n            addDisposableListener(dragTarget, 'mousedown', (event) => {\n                if (event.defaultPrevented) {\n                    event.preventDefault();\n                    return;\n                }\n\n                // if somebody has marked this event then treat as a defaultPrevented\n                // without actually calling event.preventDefault()\n                if (quasiDefaultPrevented(event)) {\n                    return;\n                }\n\n                track();\n            }),\n            addDisposableListener(\n                this.options.content,\n                'mousedown',\n                (event) => {\n                    if (event.defaultPrevented) {\n                        return;\n                    }\n\n                    // if somebody has marked this event then treat as a defaultPrevented\n                    // without actually calling event.preventDefault()\n                    if (quasiDefaultPrevented(event)) {\n                        return;\n                    }\n\n                    if (event.shiftKey) {\n                        track();\n                    }\n                }\n            ),\n            addDisposableListener(\n                this.options.content,\n                'mousedown',\n                () => {\n                    bringElementToFront(this._element);\n                },\n                true\n            )\n        );\n\n        bringElementToFront(this._element);\n\n        if (options.inDragMode) {\n            track();\n        }\n    }\n\n    private setupResize(\n        direction:\n            | 'top'\n            | 'bottom'\n            | 'left'\n            | 'right'\n            | 'topleft'\n            | 'topright'\n            | 'bottomleft'\n            | 'bottomright'\n    ): void {\n        const resizeHandleElement = document.createElement('div');\n        resizeHandleElement.className = `dv-resize-handle-${direction}`;\n        this._element.appendChild(resizeHandleElement);\n\n        const move = new MutableDisposable();\n\n        this.addDisposables(\n            move,\n            addDisposableListener(resizeHandleElement, 'mousedown', (e) => {\n                e.preventDefault();\n\n                let startPosition: {\n                    originalY: number;\n                    originalHeight: number;\n                    originalX: number;\n                    originalWidth: number;\n                } | null = null;\n\n                const iframes = [\n                    ...getElementsByTagName('iframe'),\n                    ...getElementsByTagName('webview'),\n                ];\n\n                for (const iframe of iframes) {\n                    iframe.style.pointerEvents = 'none';\n                }\n\n                move.value = new CompositeDisposable(\n                    addDisposableWindowListener(window, 'mousemove', (e) => {\n                        const containerRect =\n                            this.options.container.getBoundingClientRect();\n                        const overlayRect =\n                            this._element.getBoundingClientRect();\n\n                        const y = e.clientY - containerRect.top;\n                        const x = e.clientX - containerRect.left;\n\n                        if (startPosition === null) {\n                            // record the initial dimensions since as all subsequence moves are relative to this\n                            startPosition = {\n                                originalY: y,\n                                originalHeight: overlayRect.height,\n                                originalX: x,\n                                originalWidth: overlayRect.width,\n                            };\n                        }\n\n                        let top: number | undefined = undefined;\n                        let height: number | undefined = undefined;\n                        let left: number | undefined = undefined;\n                        let width: number | undefined = undefined;\n\n                        const moveTop = () => {\n                            top = clamp(\n                                y,\n                                -Number.MAX_VALUE,\n                                startPosition!.originalY +\n                                    startPosition!.originalHeight >\n                                    containerRect.height\n                                    ? this.getMinimumHeight(\n                                          containerRect.height\n                                      )\n                                    : Math.max(\n                                          0,\n                                          startPosition!.originalY +\n                                              startPosition!.originalHeight -\n                                              Overlay.MINIMUM_HEIGHT\n                                      )\n                            );\n                            height =\n                                startPosition!.originalY +\n                                startPosition!.originalHeight -\n                                top;\n                        };\n\n                        const moveBottom = () => {\n                            top =\n                                startPosition!.originalY -\n                                startPosition!.originalHeight;\n\n                            height = clamp(\n                                y - top,\n                                top < 0 &&\n                                    typeof this.options\n                                        .minimumInViewportHeight === 'number'\n                                    ? -top +\n                                          this.options.minimumInViewportHeight\n                                    : Overlay.MINIMUM_HEIGHT,\n                                Number.MAX_VALUE\n                            );\n                        };\n\n                        const moveLeft = () => {\n                            left = clamp(\n                                x,\n                                -Number.MAX_VALUE,\n                                startPosition!.originalX +\n                                    startPosition!.originalWidth >\n                                    containerRect.width\n                                    ? this.getMinimumWidth(containerRect.width)\n                                    : Math.max(\n                                          0,\n                                          startPosition!.originalX +\n                                              startPosition!.originalWidth -\n                                              Overlay.MINIMUM_WIDTH\n                                      )\n                            );\n\n                            width =\n                                startPosition!.originalX +\n                                startPosition!.originalWidth -\n                                left;\n                        };\n\n                        const moveRight = () => {\n                            left =\n                                startPosition!.originalX -\n                                startPosition!.originalWidth;\n\n                            width = clamp(\n                                x - left,\n                                left < 0 &&\n                                    typeof this.options\n                                        .minimumInViewportWidth === 'number'\n                                    ? -left +\n                                          this.options.minimumInViewportWidth\n                                    : Overlay.MINIMUM_WIDTH,\n                                Number.MAX_VALUE\n                            );\n                        };\n\n                        switch (direction) {\n                            case 'top':\n                                moveTop();\n                                break;\n                            case 'bottom':\n                                moveBottom();\n                                break;\n                            case 'left':\n                                moveLeft();\n                                break;\n                            case 'right':\n                                moveRight();\n                                break;\n                            case 'topleft':\n                                moveTop();\n                                moveLeft();\n                                break;\n                            case 'topright':\n                                moveTop();\n                                moveRight();\n                                break;\n                            case 'bottomleft':\n                                moveBottom();\n                                moveLeft();\n                                break;\n                            case 'bottomright':\n                                moveBottom();\n                                moveRight();\n                                break;\n                        }\n\n                        this.setBounds({ height, width, top, left });\n                    }),\n                    {\n                        dispose: () => {\n                            for (const iframe of iframes) {\n                                iframe.style.pointerEvents = 'auto';\n                            }\n                        },\n                    },\n                    addDisposableWindowListener(window, 'mouseup', () => {\n                        move.dispose();\n                        this._onDidChangeEnd.fire();\n                    })\n                );\n            })\n        );\n    }\n\n    private getMinimumWidth(width: number) {\n        if (typeof this.options.minimumInViewportWidth === 'number') {\n            return width - this.options.minimumInViewportWidth;\n        }\n        return 0;\n    }\n\n    private getMinimumHeight(height: number) {\n        if (typeof this.options.minimumInViewportHeight === 'number') {\n            return height - this.options.minimumInViewportHeight;\n        }\n        return height;\n    }\n\n    override dispose(): void {\n        this._element.remove();\n        super.dispose();\n    }\n}\n","import { Overlay } from '../dnd/overlay';\nimport { CompositeDisposable } from '../lifecycle';\nimport { DockviewGroupPanel, IDockviewGroupPanel } from './dockviewGroupPanel';\n\nexport interface IDockviewFloatingGroupPanel {\n    readonly group: IDockviewGroupPanel;\n    position(\n        bounds: Partial<{\n            top: number;\n            left: number;\n            height: number;\n            width: number;\n        }>\n    ): void;\n}\n\nexport class DockviewFloatingGroupPanel\n    extends CompositeDisposable\n    implements IDockviewFloatingGroupPanel\n{\n    constructor(readonly group: DockviewGroupPanel, readonly overlay: Overlay) {\n        super();\n\n        this.addDisposables(overlay);\n    }\n\n    position(\n        bounds: Partial<{\n            top: number;\n            left: number;\n            height: number;\n            width: number;\n        }>\n    ): void {\n        this.overlay.setBounds(bounds);\n    }\n}\n","import { addStyles } from './dom';\nimport { Emitter, addDisposableWindowListener } from './events';\nimport { CompositeDisposable, IDisposable } from './lifecycle';\nimport { Box } from './types';\n\nexport type PopoutWindowOptions = {\n    url: string;\n} & Box;\n\nexport class PopoutWindow extends CompositeDisposable {\n    private readonly _onDidClose = new Emitter<void>();\n    readonly onDidClose = this._onDidClose.event;\n\n    private _window: { value: Window; disposable: IDisposable } | null = null;\n\n    constructor(\n        private readonly id: string,\n        private readonly className: string,\n        private readonly options: PopoutWindowOptions\n    ) {\n        super();\n\n        this.addDisposables(this._onDidClose, {\n            dispose: () => {\n                this.close();\n            },\n        });\n    }\n\n    dimensions(): Box | null {\n        if (!this._window) {\n            return null;\n        }\n\n        const left = this._window.value.screenX;\n        const top = this._window.value.screenY;\n        const width = this._window.value.innerWidth;\n        const height = this._window.value.innerHeight;\n\n        return { top, left, width, height };\n    }\n\n    close(): void {\n        if (this._window) {\n            this._window.disposable.dispose();\n            this._window.value.close();\n            this._window = null;\n        }\n    }\n\n    open(content: HTMLElement): void {\n        if (this._window) {\n            throw new Error('instance of popout window is already open');\n        }\n\n        const url = `${this.options.url}`;\n\n        const features = Object.entries({\n            top: this.options.top,\n            left: this.options.left,\n            width: this.options.width,\n            height: this.options.height,\n        })\n            .map(([key, value]) => `${key}=${value}`)\n            .join(',');\n\n        // https://developer.mozilla.org/en-US/docs/Web/API/Window/open\n        const externalWindow = window.open(url, this.id, features);\n\n        if (!externalWindow) {\n            return;\n        }\n\n        const disposable = new CompositeDisposable();\n\n        this._window = { value: externalWindow, disposable };\n\n        const cleanUp = () => {\n            this._onDidClose.fire();\n            this._window = null;\n        };\n\n        // prevent any default content from loading\n        // externalWindow.document.body.replaceWith(document.createElement('div'));\n\n        disposable.addDisposables(\n            addDisposableWindowListener(window, 'beforeunload', () => {\n                cleanUp();\n                this.close();\n            })\n        );\n\n        externalWindow.addEventListener('load', () => {\n            const externalDocument = externalWindow.document;\n            externalDocument.title = document.title;\n\n            const div = document.createElement('div');\n            div.classList.add('dv-popout-window');\n            div.style.position = 'absolute';\n            div.style.width = '100%';\n            div.style.height = '100%';\n            div.style.top = '0px';\n            div.style.left = '0px';\n            div.classList.add(this.className);\n            div.appendChild(content);\n\n            externalDocument.body.replaceChildren(div);\n            externalDocument.body.classList.add(this.className);\n\n            addStyles(externalDocument, window.document.styleSheets);\n\n            externalWindow.addEventListener('beforeunload', () => {\n                // TODO: indicate external window is closing\n                cleanUp();\n            });\n        });\n    }\n}\n","import { CompositeDisposable } from '../lifecycle';\nimport { PopoutWindow } from '../popoutWindow';\nimport { Box } from '../types';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\n\nexport class DockviewPopoutGroupPanel extends CompositeDisposable {\n    readonly window: PopoutWindow;\n\n    constructor(\n        readonly group: DockviewGroupPanel,\n        private readonly options: {\n            className: string;\n            popoutUrl: string;\n            box: Box;\n        }\n    ) {\n        super();\n\n        this.window = new PopoutWindow('test', options.className ?? '', {\n            url: this.options.popoutUrl,\n            left: this.options.box.left,\n            top: this.options.box.top,\n            width: this.options.box.width,\n            height: this.options.box.height,\n        });\n\n        group.model.location = 'popout';\n\n        this.addDisposables(\n            this.window,\n            {\n                dispose: () => {\n                    group.model.location = 'grid';\n                },\n            },\n            this.window.onDidClose(() => {\n                this.dispose();\n            })\n        );\n\n        this.window.open(group.element);\n    }\n}\n","export const DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE = 100;\n\nexport const DEFAULT_FLOATING_GROUP_POSITION = { left: 100, top: 100 };\n","import { DragAndDropObserver } from './dnd/dnd';\nimport { Droptarget } from './dnd/droptarget';\nimport { getDomNodePagePosition, toggleClass } from './dom';\nimport { CompositeDisposable, Disposable, IDisposable } from './lifecycle';\nimport { IDockviewPanel } from './dockview/dockviewPanel';\n\nexport type DockviewPanelRenderer = 'onlyWhenVisibile' | 'always';\n\nexport interface IRenderable {\n    readonly element: HTMLElement;\n    readonly dropTarget: Droptarget;\n}\n\nfunction createFocusableElement(): HTMLDivElement {\n    const element = document.createElement('div');\n    element.tabIndex = -1;\n    return element;\n}\n\nexport class OverlayRenderContainer extends CompositeDisposable {\n    private readonly map: Record<\n        string,\n        { disposable: IDisposable; element: HTMLElement }\n    > = {};\n\n    get allIds(): string[] {\n        return Object.keys(this.map);\n    }\n\n    constructor(private readonly element: HTMLElement) {\n        super();\n\n        this.addDisposables({\n            dispose: () => {\n                for (const value of Object.values(this.map)) {\n                    value.disposable.dispose();\n                }\n            },\n        });\n    }\n\n    remove(panel: IDockviewPanel): boolean {\n        if (this.map[panel.api.id]) {\n            this.map[panel.api.id].disposable.dispose();\n            delete this.map[panel.api.id];\n            return true;\n        }\n        return false;\n    }\n\n    setReferenceContentContainer(\n        panel: IDockviewPanel,\n        referenceContainer: IRenderable\n    ): HTMLElement {\n        if (!this.map[panel.api.id]) {\n            const element = createFocusableElement();\n            element.className = 'dv-render-overlay';\n\n            this.map[panel.api.id] = {\n                disposable: Disposable.NONE,\n                element,\n            };\n        }\n\n        this.map[panel.api.id]?.disposable.dispose();\n        const focusContainer = this.map[panel.api.id].element;\n\n        if (panel.view.content.element.parentElement !== focusContainer) {\n            focusContainer.appendChild(panel.view.content.element);\n        }\n\n        if (focusContainer.parentElement !== this.element) {\n            this.element.appendChild(focusContainer);\n        }\n\n        const resize = () => {\n            // TODO propagate position to avoid getDomNodePagePosition calls, possible performance bottleneck?\n            const box = getDomNodePagePosition(referenceContainer.element);\n            const box2 = getDomNodePagePosition(this.element);\n            focusContainer.style.left = `${box.left - box2.left}px`;\n            focusContainer.style.top = `${box.top - box2.top}px`;\n            focusContainer.style.width = `${box.width}px`;\n            focusContainer.style.height = `${box.height}px`;\n\n            toggleClass(\n                focusContainer,\n                'dv-render-overlay-float',\n                panel.group.api.location === 'floating'\n            );\n        };\n\n        const visibilityChanged = () => {\n            if (panel.api.isVisible) {\n                resize();\n            }\n\n            focusContainer.style.display = panel.api.isVisible ? '' : 'none';\n        };\n\n        const disposable = new CompositeDisposable(\n            /**\n             * since container is positioned absoutely we must explicitly forward\n             * the dnd events for the expect behaviours to continue to occur in terms of dnd\n             */\n            new DragAndDropObserver(focusContainer, {\n                onDragEnd: (e) => {\n                    referenceContainer.dropTarget.dnd.onDragEnd(e);\n                },\n                onDragEnter: (e) => {\n                    referenceContainer.dropTarget.dnd.onDragEnter(e);\n                },\n                onDragLeave: (e) => {\n                    referenceContainer.dropTarget.dnd.onDragLeave(e);\n                },\n                onDrop: (e) => {\n                    referenceContainer.dropTarget.dnd.onDrop(e);\n                },\n                onDragOver: (e) => {\n                    referenceContainer.dropTarget.dnd.onDragOver(e);\n                },\n            }),\n            panel.api.onDidVisibilityChange((event) => {\n                /**\n                 * Control the visibility of the content, however even when not visible (display: none)\n                 * the content is still maintained within the DOM hence DOM specific attributes\n                 * such as scroll position are maintained when next made visible.\n                 */\n                visibilityChanged();\n            }),\n            panel.api.onDidDimensionsChange(() => {\n                if (!panel.api.isVisible) {\n                    return;\n                }\n\n                resize();\n            }),\n            {\n                dispose: () => {\n                    focusContainer.removeChild(panel.view.content.element);\n                    this.element.removeChild(focusContainer);\n                },\n            }\n        );\n\n        queueMicrotask(() => {\n            if (this.isDisposed) {\n                return;\n            }\n\n            /**\n             * wait until everything has finished in the current stack-frame call before\n             * calling the first resize as other size-altering events may still occur before\n             * the end of the stack-frame.\n             */\n            visibilityChanged();\n        });\n\n        this.map[panel.api.id].disposable = disposable;\n\n        return focusContainer;\n    }\n}\n","import {\n    getRelativeLocation,\n    SerializedGridObject,\n    getGridLocation,\n    ISerializedLeafNode,\n} from '../gridview/gridview';\nimport { directionToPosition, Droptarget, Position } from '../dnd/droptarget';\nimport { tail, sequenceEquals, remove } from '../array';\nimport { DockviewPanel, IDockviewPanel } from './dockviewPanel';\nimport { CompositeDisposable, Disposable } from '../lifecycle';\nimport { Event, Emitter } from '../events';\nimport { Watermark } from './components/watermark/watermark';\nimport {\n    IWatermarkRenderer,\n    GroupviewPanelState,\n    DockviewDropTargets,\n} from './types';\nimport { sequentialNumberGenerator } from '../math';\nimport { DefaultDockviewDeserialzier } from './deserializer';\nimport { createComponent } from '../panel/componentFactory';\nimport {\n    AddGroupOptions,\n    AddPanelOptions,\n    DockviewComponentOptions,\n    isGroupOptionsWithGroup,\n    isGroupOptionsWithPanel,\n    isPanelOptionsWithGroup,\n    isPanelOptionsWithPanel,\n    MovementOptions,\n} from './options';\nimport {\n    BaseGrid,\n    Direction,\n    IBaseGrid,\n    toTarget,\n} from '../gridview/baseComponentGridview';\nimport { DockviewApi } from '../api/component.api';\nimport { Orientation, Sizing } from '../splitview/splitview';\nimport {\n    GroupOptions,\n    GroupPanelViewState,\n    GroupviewDropEvent,\n} from './dockviewGroupPanelModel';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\nimport { DockviewPanelModel } from './dockviewPanelModel';\nimport { getPanelData } from '../dnd/dataTransfer';\nimport { Parameters } from '../panel/types';\nimport { Overlay } from '../dnd/overlay';\nimport { toggleClass, watchElementResize } from '../dom';\nimport { DockviewFloatingGroupPanel } from './dockviewFloatingGroupPanel';\nimport {\n    GroupDragEvent,\n    TabDragEvent,\n} from './components/titlebar/tabsContainer';\nimport { Box } from '../types';\nimport { DockviewPopoutGroupPanel } from './dockviewPopoutGroupPanel';\nimport {\n    DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE,\n    DEFAULT_FLOATING_GROUP_POSITION,\n} from '../constants';\nimport {\n    DockviewPanelRenderer,\n    OverlayRenderContainer,\n} from '../overlayRenderContainer';\n\nfunction getTheme(element: HTMLElement): string | undefined {\n    function toClassList(element: HTMLElement) {\n        const list: string[] = [];\n\n        for (let i = 0; i < element.classList.length; i++) {\n            list.push(element.classList.item(i)!);\n        }\n\n        return list;\n    }\n\n    let theme: string | undefined = undefined;\n    let parent: HTMLElement | null = element;\n\n    while (parent !== null) {\n        theme = toClassList(parent).find((cls) =>\n            cls.startsWith('dockview-theme-')\n        );\n        if (typeof theme === 'string') {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n\n    return theme;\n}\n\nexport interface PanelReference {\n    update: (event: { params: { [key: string]: any } }) => void;\n    remove: () => void;\n}\n\nexport interface SerializedFloatingGroup {\n    data: GroupPanelViewState;\n    position: Box;\n}\n\nexport interface SerializedPopoutGroup {\n    data: GroupPanelViewState;\n    position: Box | null;\n}\n\nexport interface SerializedDockview {\n    grid: {\n        root: SerializedGridObject<GroupPanelViewState>;\n        height: number;\n        width: number;\n        orientation: Orientation;\n    };\n    panels: Record<string, GroupviewPanelState>;\n    activeGroup?: string;\n    floatingGroups?: SerializedFloatingGroup[];\n    popoutGroups?: SerializedPopoutGroup[];\n}\n\nfunction typeValidate3(data: GroupPanelViewState, path: string): void {\n    if (typeof data.id !== 'string') {\n        throw new Error(`${path}.id must be a string`);\n    }\n\n    if (\n        typeof data.activeView !== 'string' ||\n        typeof data.activeView !== 'undefined'\n    ) {\n        throw new Error(`${path}.activeView must be a string of undefined`);\n    }\n}\n\nfunction typeValidate2(\n    data: SerializedGridObject<GroupPanelViewState>,\n    path: string\n): void {\n    if (typeof data.size !== 'number' && typeof data.size !== 'undefined') {\n        throw new Error(`${path}.size must be a number or undefined`);\n    }\n\n    if (\n        typeof data.visible !== 'boolean' &&\n        typeof data.visible !== 'undefined'\n    ) {\n        throw new Error(`${path}.visible must be a boolean or undefined`);\n    }\n\n    if (data.type === 'leaf') {\n        if (\n            typeof data.data !== 'object' ||\n            data.data === null ||\n            Array.isArray(data.data)\n        ) {\n            throw new Error('object must be a non-null object');\n        }\n\n        typeValidate3(data.data, `${path}.data`);\n    } else if (data.type === 'branch') {\n        if (!Array.isArray(data.data)) {\n            throw new Error(`${path}.data must be an array`);\n        }\n    } else {\n        throw new Error(`${path}.type must be onew of {'branch', 'leaf'}`);\n    }\n}\n\nfunction typeValidate(data: SerializedDockview): void {\n    if (typeof data !== 'object' || data === null) {\n        throw new Error('object must be a non-null object');\n    }\n\n    const { grid, panels, activeGroup, floatingGroups } = data;\n\n    if (typeof grid !== 'object' || grid === null) {\n        throw new Error(\"'.grid' must be a non-null object\");\n    }\n\n    if (typeof grid.height !== 'number') {\n        throw new Error(\"'.grid.height' must be a number\");\n    }\n\n    if (typeof grid.width !== 'number') {\n        throw new Error(\"'.grid.width' must be a number\");\n    }\n\n    if (typeof grid.root !== 'object' || grid.root === null) {\n        throw new Error(\"'.grid.root' must be a non-null object\");\n    }\n\n    if (grid.root.type !== 'branch') {\n        throw new Error(\".grid.root.type must be of type 'branch'\");\n    }\n\n    if (\n        grid.orientation !== Orientation.HORIZONTAL &&\n        grid.orientation !== Orientation.VERTICAL\n    ) {\n        throw new Error(\n            `'.grid.width' must be one of {${Orientation.HORIZONTAL}, ${Orientation.VERTICAL}}`\n        );\n    }\n\n    typeValidate2(grid.root, '.grid.root');\n}\n\nexport type DockviewComponentUpdateOptions = Pick<\n    DockviewComponentOptions,\n    | 'orientation'\n    | 'components'\n    | 'frameworkComponents'\n    | 'tabComponents'\n    | 'frameworkTabComponents'\n    | 'showDndOverlay'\n    | 'watermarkFrameworkComponent'\n    | 'defaultTabComponent'\n    | 'createLeftHeaderActionsElement'\n    | 'createRightHeaderActionsElement'\n    | 'createPrefixHeaderActionsElement'\n    | 'disableFloatingGroups'\n    | 'floatingGroupBounds'\n>;\n\nexport interface DockviewDropEvent extends GroupviewDropEvent {\n    api: DockviewApi;\n    group: DockviewGroupPanel | null;\n}\n\nexport interface IDockviewComponent extends IBaseGrid<DockviewGroupPanel> {\n    readonly activePanel: IDockviewPanel | undefined;\n    readonly totalPanels: number;\n    readonly panels: IDockviewPanel[];\n    readonly onDidDrop: Event<DockviewDropEvent>;\n    readonly orientation: Orientation;\n    updateOptions(options: DockviewComponentUpdateOptions): void;\n    moveGroupOrPanel(\n        referenceGroup: DockviewGroupPanel,\n        groupId: string,\n        itemId: string,\n        target: Position,\n        index?: number\n    ): void;\n    doSetGroupActive: (group: DockviewGroupPanel, skipFocus?: boolean) => void;\n    removeGroup: (group: DockviewGroupPanel) => void;\n    options: DockviewComponentOptions;\n    addPanel<T extends object = Parameters>(\n        options: AddPanelOptions<T>\n    ): IDockviewPanel;\n    removePanel(panel: IDockviewPanel): void;\n    getGroupPanel: (id: string) => IDockviewPanel | undefined;\n    createWatermarkComponent(): IWatermarkRenderer;\n    // lifecycle\n    addGroup(options?: AddGroupOptions): DockviewGroupPanel;\n    closeAllGroups(): void;\n    // events\n    moveToNext(options?: MovementOptions): void;\n    moveToPrevious(options?: MovementOptions): void;\n    setActivePanel(panel: IDockviewPanel): void;\n    focus(): void;\n    toJSON(): SerializedDockview;\n    fromJSON(data: SerializedDockview): void;\n    //\n    readonly onDidRemovePanel: Event<IDockviewPanel>;\n    readonly onDidAddPanel: Event<IDockviewPanel>;\n    readonly onDidLayoutFromJSON: Event<void>;\n    readonly onDidActivePanelChange: Event<IDockviewPanel | undefined>;\n    readonly onWillDragPanel: Event<TabDragEvent>;\n    readonly onWillDragGroup: Event<GroupDragEvent>;\n    addFloatingGroup(\n        item: IDockviewPanel | DockviewGroupPanel,\n        coord?: { x: number; y: number }\n    ): void;\n    addPopoutGroup(\n        item: IDockviewPanel | DockviewGroupPanel,\n        options?: {\n            position?: Box;\n            popoutUrl?: string;\n        }\n    ): void;\n}\n\nexport class DockviewComponent\n    extends BaseGrid<DockviewGroupPanel>\n    implements IDockviewComponent\n{\n    private readonly nextGroupId = sequentialNumberGenerator();\n    private readonly _deserializer = new DefaultDockviewDeserialzier(this);\n    private readonly _api: DockviewApi;\n    private _options: Exclude<DockviewComponentOptions, 'orientation'>;\n    private watermark: IWatermarkRenderer | null = null;\n\n    readonly overlayRenderContainer: OverlayRenderContainer;\n\n    private readonly _onWillDragPanel = new Emitter<TabDragEvent>();\n    readonly onWillDragPanel: Event<TabDragEvent> = this._onWillDragPanel.event;\n\n    private readonly _onWillDragGroup = new Emitter<GroupDragEvent>();\n    readonly onWillDragGroup: Event<GroupDragEvent> =\n        this._onWillDragGroup.event;\n\n    private readonly _onDidDrop = new Emitter<DockviewDropEvent>();\n    readonly onDidDrop: Event<DockviewDropEvent> = this._onDidDrop.event;\n\n    private readonly _onDidRemovePanel = new Emitter<IDockviewPanel>();\n    readonly onDidRemovePanel: Event<IDockviewPanel> =\n        this._onDidRemovePanel.event;\n\n    private readonly _onDidAddPanel = new Emitter<IDockviewPanel>();\n    readonly onDidAddPanel: Event<IDockviewPanel> = this._onDidAddPanel.event;\n\n    private readonly _onDidLayoutFromJSON = new Emitter<void>();\n    readonly onDidLayoutFromJSON: Event<void> = this._onDidLayoutFromJSON.event;\n\n    private readonly _onDidActivePanelChange = new Emitter<\n        IDockviewPanel | undefined\n    >();\n    readonly onDidActivePanelChange: Event<IDockviewPanel | undefined> =\n        this._onDidActivePanelChange.event;\n\n    private readonly _floatingGroups: DockviewFloatingGroupPanel[] = [];\n    private readonly _popoutGroups: DockviewPopoutGroupPanel[] = [];\n\n    get orientation(): Orientation {\n        return this.gridview.orientation;\n    }\n\n    get totalPanels(): number {\n        return this.panels.length;\n    }\n\n    get panels(): IDockviewPanel[] {\n        return this.groups.flatMap((group) => group.panels);\n    }\n\n    get options(): DockviewComponentOptions {\n        return this._options;\n    }\n\n    get activePanel(): IDockviewPanel | undefined {\n        const activeGroup = this.activeGroup;\n\n        if (!activeGroup) {\n            return undefined;\n        }\n\n        return activeGroup.activePanel;\n    }\n\n    get renderer(): DockviewPanelRenderer {\n        return this.options.defaultRenderer ?? 'onlyWhenVisibile';\n    }\n\n    constructor(options: DockviewComponentOptions) {\n        super({\n            proportionalLayout: true,\n            orientation: options.orientation ?? Orientation.HORIZONTAL,\n            styles: options.styles,\n            parentElement: options.parentElement,\n            disableAutoResizing: options.disableAutoResizing,\n        });\n\n        const gready = document.createElement('div');\n        gready.className = 'dv-overlay-render-container';\n        this.gridview.element.appendChild(gready);\n\n        this.overlayRenderContainer = new OverlayRenderContainer(gready);\n\n        toggleClass(this.gridview.element, 'dv-dockview', true);\n        toggleClass(this.element, 'dv-debug', !!options.debug);\n\n        this.addDisposables(\n            this.overlayRenderContainer,\n            this._onWillDragPanel,\n            this._onWillDragGroup,\n            this._onDidActivePanelChange,\n            this._onDidAddPanel,\n            this._onDidRemovePanel,\n            this._onDidLayoutFromJSON,\n            this._onDidDrop,\n            Event.any(\n                this.onDidAddGroup,\n                this.onDidRemoveGroup\n            )(() => {\n                this.updateWatermark();\n            }),\n            Event.any(\n                this.onDidAddPanel,\n                this.onDidRemovePanel,\n                this.onDidActivePanelChange\n            )(() => {\n                this._bufferOnDidLayoutChange.fire();\n            }),\n            Disposable.from(() => {\n                // iterate over a copy of the array since .dispose() mutates the original array\n                for (const group of [...this._floatingGroups]) {\n                    group.dispose();\n                }\n\n                // iterate over a copy of the array since .dispose() mutates the original array\n                for (const group of [...this._popoutGroups]) {\n                    group.dispose();\n                }\n            })\n        );\n\n        this._options = options;\n\n        if (!this.options.components) {\n            this.options.components = {};\n        }\n        if (!this.options.frameworkComponents) {\n            this.options.frameworkComponents = {};\n        }\n        if (!this.options.frameworkTabComponents) {\n            this.options.frameworkTabComponents = {};\n        }\n        if (!this.options.tabComponents) {\n            this.options.tabComponents = {};\n        }\n        if (\n            !this.options.watermarkComponent &&\n            !this.options.watermarkFrameworkComponent\n        ) {\n            this.options.watermarkComponent = Watermark;\n        }\n\n        const dropTarget = new Droptarget(this.element, {\n            canDisplayOverlay: (event, position) => {\n                const data = getPanelData();\n\n                if (data) {\n                    if (data.viewId !== this.id) {\n                        return false;\n                    }\n\n                    if (position === 'center') {\n                        // center drop target is only allowed if there are no panels in the grid\n                        // floating panels are allowed\n                        return this.gridview.length === 0;\n                    }\n\n                    return true;\n                }\n\n                if (this.options.showDndOverlay) {\n                    if (position === 'center' && this.gridview.length !== 0) {\n                        /**\n                         * for external events only show the four-corner drag overlays, disable\n                         * the center position so that external drag events can fall through to the group\n                         * and panel drop target handlers\n                         */\n                        return false;\n                    }\n\n                    return this.options.showDndOverlay({\n                        nativeEvent: event,\n                        position: position,\n                        target: DockviewDropTargets.Edge,\n                        getData: getPanelData,\n                    });\n                }\n\n                return false;\n            },\n            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],\n            overlayModel: {\n                activationSize: { type: 'pixels', value: 10 },\n                size: { type: 'pixels', value: 20 },\n            },\n        });\n\n        this.addDisposables(\n            dropTarget.onDrop((event) => {\n                const data = getPanelData();\n\n                if (data) {\n                    this.moveGroupOrPanel(\n                        this.orthogonalize(event.position),\n                        data.groupId,\n                        data.panelId ?? undefined,\n                        'center'\n                    );\n                } else {\n                    this._onDidDrop.fire({\n                        ...event,\n                        api: this._api,\n                        group: null,\n                        getData: getPanelData,\n                    });\n                }\n            }),\n            dropTarget\n        );\n\n        this._api = new DockviewApi(this);\n\n        this.updateWatermark();\n    }\n\n    addPopoutGroup(\n        item: DockviewPanel | DockviewGroupPanel,\n        options?: {\n            skipRemoveGroup?: boolean;\n            position?: Box;\n            popoutUrl?: string;\n        }\n    ): void {\n        let group: DockviewGroupPanel;\n        let box: Box | undefined = options?.position;\n\n        if (item instanceof DockviewPanel) {\n            group = this.createGroup();\n\n            this.removePanel(item, {\n                removeEmptyGroup: true,\n                skipDispose: true,\n            });\n\n            group.model.openPanel(item);\n\n            if (!box) {\n                box = this.element.getBoundingClientRect();\n            }\n        } else {\n            group = item;\n\n            if (!box) {\n                box = group.element.getBoundingClientRect();\n            }\n\n            const skip =\n                typeof options?.skipRemoveGroup === 'boolean' &&\n                options.skipRemoveGroup;\n\n            if (!skip) {\n                this.doRemoveGroup(item, { skipDispose: true });\n            }\n        }\n\n        const theme = getTheme(this.gridview.element);\n\n        const popoutWindow = new DockviewPopoutGroupPanel(group, {\n            className: theme ?? '',\n            popoutUrl: options?.popoutUrl ?? '/popout.html',\n            box: {\n                left: box.left,\n                top: box.top,\n                width: box.width,\n                height: box.height,\n            },\n        });\n\n        popoutWindow.addDisposables(\n            {\n                dispose: () => {\n                    remove(this._popoutGroups, popoutWindow);\n                },\n            },\n            popoutWindow.window.onDidClose(() => {\n                this.doAddGroup(group, [0]);\n            })\n        );\n\n        this._popoutGroups.push(popoutWindow);\n    }\n\n    addFloatingGroup(\n        item: DockviewPanel | DockviewGroupPanel,\n        coord?: { x?: number; y?: number; height?: number; width?: number },\n        options?: { skipRemoveGroup?: boolean; inDragMode: boolean }\n    ): void {\n        let group: DockviewGroupPanel;\n\n        if (item instanceof DockviewPanel) {\n            group = this.createGroup();\n\n            this.removePanel(item, {\n                removeEmptyGroup: true,\n                skipDispose: true,\n            });\n\n            group.model.openPanel(item);\n        } else {\n            group = item;\n\n            const skip =\n                typeof options?.skipRemoveGroup === 'boolean' &&\n                options.skipRemoveGroup;\n\n            if (!skip) {\n                this.doRemoveGroup(item, { skipDispose: true });\n            }\n        }\n\n        group.model.location = 'floating';\n\n        const overlayLeft =\n            typeof coord?.x === 'number'\n                ? Math.max(coord.x, 0)\n                : DEFAULT_FLOATING_GROUP_POSITION.left;\n        const overlayTop =\n            typeof coord?.y === 'number'\n                ? Math.max(coord.y, 0)\n                : DEFAULT_FLOATING_GROUP_POSITION.top;\n\n        const overlay = new Overlay({\n            container: this.gridview.element,\n            content: group.element,\n            height: coord?.height ?? 300,\n            width: coord?.width ?? 300,\n            left: overlayLeft,\n            top: overlayTop,\n            minimumInViewportWidth:\n                this.options.floatingGroupBounds === 'boundedWithinViewport'\n                    ? undefined\n                    : this.options.floatingGroupBounds\n                          ?.minimumWidthWithinViewport ??\n                      DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE,\n            minimumInViewportHeight:\n                this.options.floatingGroupBounds === 'boundedWithinViewport'\n                    ? undefined\n                    : this.options.floatingGroupBounds\n                          ?.minimumHeightWithinViewport ??\n                      DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE,\n        });\n\n        const el = group.element.querySelector('.void-container');\n\n        if (!el) {\n            throw new Error('failed to find drag handle');\n        }\n\n        overlay.setupDrag(<HTMLElement>el, {\n            inDragMode:\n                typeof options?.inDragMode === 'boolean'\n                    ? options.inDragMode\n                    : false,\n        });\n\n        const floatingGroupPanel = new DockviewFloatingGroupPanel(\n            group,\n            overlay\n        );\n\n        const disposable = watchElementResize(group.element, (entry) => {\n            const { width, height } = entry.contentRect;\n            group.layout(width, height); // let the group know it's size is changing so it can fire events to the panel\n        });\n\n        floatingGroupPanel.addDisposables(\n            overlay.onDidChange(() => {\n                // this is either a resize or a move\n                // to inform the panels .layout(...) the group with it's current size\n                // don't care about resize since the above watcher handles that\n                group.layout(group.height, group.width);\n            }),\n            overlay.onDidChangeEnd(() => {\n                this._bufferOnDidLayoutChange.fire();\n            }),\n            group.onDidChange((event) => {\n                overlay.setBounds({\n                    height: event?.height,\n                    width: event?.width,\n                });\n            }),\n            {\n                dispose: () => {\n                    disposable.dispose();\n\n                    group.model.location = 'grid';\n                    remove(this._floatingGroups, floatingGroupPanel);\n                    this.updateWatermark();\n                },\n            }\n        );\n\n        this._floatingGroups.push(floatingGroupPanel);\n        this.updateWatermark();\n    }\n\n    private orthogonalize(position: Position): DockviewGroupPanel {\n        switch (position) {\n            case 'top':\n            case 'bottom':\n                if (this.gridview.orientation === Orientation.HORIZONTAL) {\n                    // we need to add to a vertical splitview but the current root is a horizontal splitview.\n                    // insert a vertical splitview at the root level and add the existing view as a child\n                    this.gridview.insertOrthogonalSplitviewAtRoot();\n                }\n                break;\n            case 'left':\n            case 'right':\n                if (this.gridview.orientation === Orientation.VERTICAL) {\n                    // we need to add to a horizontal splitview but the current root is a vertical splitview.\n                    // insert a horiziontal splitview at the root level and add the existing view as a child\n                    this.gridview.insertOrthogonalSplitviewAtRoot();\n                }\n                break;\n            default:\n                break;\n        }\n\n        switch (position) {\n            case 'top':\n            case 'left':\n            case 'center':\n                return this.createGroupAtLocation([0]); // insert into first position\n            case 'bottom':\n            case 'right':\n                return this.createGroupAtLocation([this.gridview.length]); // insert into last position\n            default:\n                throw new Error(`unsupported position ${position}`);\n        }\n    }\n\n    updateOptions(options: DockviewComponentUpdateOptions): void {\n        const hasOrientationChanged =\n            typeof options.orientation === 'string' &&\n            this.gridview.orientation !== options.orientation;\n        const hasFloatingGroupOptionsChanged =\n            options.floatingGroupBounds !== undefined &&\n            options.floatingGroupBounds !== this.options.floatingGroupBounds;\n\n        this._options = { ...this.options, ...options };\n\n        if (hasOrientationChanged) {\n            this.gridview.orientation = options.orientation!;\n        }\n\n        if (hasFloatingGroupOptionsChanged) {\n            for (const group of this._floatingGroups) {\n                switch (this.options.floatingGroupBounds) {\n                    case 'boundedWithinViewport':\n                        group.overlay.minimumInViewportHeight = undefined;\n                        group.overlay.minimumInViewportWidth = undefined;\n                        break;\n                    case undefined:\n                        group.overlay.minimumInViewportHeight =\n                            DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;\n                        group.overlay.minimumInViewportWidth =\n                            DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;\n                        break;\n                    default:\n                        group.overlay.minimumInViewportHeight =\n                            this.options.floatingGroupBounds?.minimumHeightWithinViewport;\n                        group.overlay.minimumInViewportWidth =\n                            this.options.floatingGroupBounds?.minimumWidthWithinViewport;\n                }\n\n                group.overlay.setBounds({});\n            }\n        }\n\n        this.layout(this.gridview.width, this.gridview.height, true);\n    }\n\n    override layout(\n        width: number,\n        height: number,\n        forceResize?: boolean | undefined\n    ): void {\n        super.layout(width, height, forceResize);\n\n        if (this._floatingGroups) {\n            for (const floating of this._floatingGroups) {\n                // ensure floting groups stay within visible boundaries\n                floating.overlay.setBounds();\n            }\n        }\n    }\n\n    focus(): void {\n        this.activeGroup?.focus();\n    }\n\n    getGroupPanel(id: string): IDockviewPanel | undefined {\n        return this.panels.find((panel) => panel.id === id);\n    }\n\n    setActivePanel(panel: IDockviewPanel): void {\n        this.doSetGroupActive(panel.group);\n        panel.group.model.openPanel(panel);\n    }\n\n    moveToNext(options: MovementOptions = {}): void {\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n\n        if (options.includePanel && options.group) {\n            if (\n                options.group.activePanel !==\n                options.group.panels[options.group.panels.length - 1]\n            ) {\n                options.group.model.moveToNext({ suppressRoll: true });\n                return;\n            }\n        }\n\n        const location = getGridLocation(options.group.element);\n        const next = <DockviewGroupPanel>this.gridview.next(location)?.view;\n        this.doSetGroupAndPanelActive(next);\n    }\n\n    moveToPrevious(options: MovementOptions = {}): void {\n        if (!options.group) {\n            if (!this.activeGroup) {\n                return;\n            }\n            options.group = this.activeGroup;\n        }\n\n        if (options.includePanel && options.group) {\n            if (options.group.activePanel !== options.group.panels[0]) {\n                options.group.model.moveToPrevious({ suppressRoll: true });\n                return;\n            }\n        }\n\n        const location = getGridLocation(options.group.element);\n        const next = this.gridview.previous(location)?.view;\n        if (next) {\n            this.doSetGroupAndPanelActive(next as DockviewGroupPanel);\n        }\n    }\n\n    /**\n     * Serialize the current state of the layout\n     *\n     * @returns A JSON respresentation of the layout\n     */\n    toJSON(): SerializedDockview {\n        const data = this.gridview.serialize();\n\n        const panels = this.panels.reduce((collection, panel) => {\n            collection[panel.id] = panel.toJSON();\n            return collection;\n        }, {} as { [key: string]: GroupviewPanelState });\n\n        const floats: SerializedFloatingGroup[] = this._floatingGroups.map(\n            (group) => {\n                return {\n                    data: group.group.toJSON() as GroupPanelViewState,\n                    position: group.overlay.toJSON(),\n                };\n            }\n        );\n\n        const popoutGroups: SerializedPopoutGroup[] = this._popoutGroups.map(\n            (group) => {\n                return {\n                    data: group.group.toJSON() as GroupPanelViewState,\n                    position: group.window.dimensions(),\n                };\n            }\n        );\n\n        const result: SerializedDockview = {\n            grid: data,\n            panels,\n            activeGroup: this.activeGroup?.id,\n        };\n\n        if (floats.length > 0) {\n            result.floatingGroups = floats;\n        }\n\n        if (popoutGroups.length > 0) {\n            result.popoutGroups = popoutGroups;\n        }\n\n        return result;\n    }\n\n    fromJSON(data: SerializedDockview): void {\n        this.clear();\n\n        if (typeof data !== 'object' || data === null) {\n            throw new Error('serialized layout must be a non-null object');\n        }\n\n        const { grid, panels, activeGroup } = data;\n\n        if (grid.root.type !== 'branch' || !Array.isArray(grid.root.data)) {\n            throw new Error('root must be of type branch');\n        }\n\n        try {\n            // take note of the existing dimensions\n            const width = this.width;\n            const height = this.height;\n\n            const createGroupFromSerializedState = (\n                data: GroupPanelViewState\n            ) => {\n                const { id, locked, hideHeader, views, activeView } = data;\n\n                if (typeof id !== 'string') {\n                    throw new Error('group id must be of type string');\n                }\n\n                const group = this.createGroup({\n                    id,\n                    locked: !!locked,\n                    hideHeader: !!hideHeader,\n                });\n\n                const createdPanels: IDockviewPanel[] = [];\n\n                for (const child of views) {\n                    /**\n                     * Run the deserializer step seperately since this may fail to due corrupted external state.\n                     * In running this section first we avoid firing lots of 'add' events in the event of a failure\n                     * due to a corruption of input data.\n                     */\n                    const panel = this._deserializer.fromJSON(\n                        panels[child],\n                        group\n                    );\n                    createdPanels.push(panel);\n                }\n\n                this._onDidAddGroup.fire(group);\n\n                for (let i = 0; i < views.length; i++) {\n                    const panel = createdPanels[i];\n\n                    const isActive =\n                        typeof activeView === 'string' &&\n                        activeView === panel.id;\n\n                    group.model.openPanel(panel, {\n                        skipSetPanelActive: !isActive,\n                        skipSetGroupActive: true,\n                    });\n                }\n\n                if (!group.activePanel && group.panels.length > 0) {\n                    group.model.openPanel(\n                        group.panels[group.panels.length - 1],\n                        {\n                            skipSetGroupActive: true,\n                        }\n                    );\n                }\n\n                return group;\n            };\n\n            this.gridview.deserialize(grid, {\n                fromJSON: (node: ISerializedLeafNode<GroupPanelViewState>) => {\n                    return createGroupFromSerializedState(node.data);\n                },\n            });\n\n            this.layout(width, height, true);\n\n            const serializedFloatingGroups = data.floatingGroups ?? [];\n\n            for (const serializedFloatingGroup of serializedFloatingGroups) {\n                const { data, position } = serializedFloatingGroup;\n\n                const group = createGroupFromSerializedState(data);\n\n                this.addFloatingGroup(\n                    group,\n                    {\n                        x: position.left,\n                        y: position.top,\n                        height: position.height,\n                        width: position.width,\n                    },\n                    { skipRemoveGroup: true, inDragMode: false }\n                );\n            }\n\n            const serializedPopoutGroups = data.popoutGroups ?? [];\n\n            for (const serializedPopoutGroup of serializedPopoutGroups) {\n                const { data, position } = serializedPopoutGroup;\n\n                const group = createGroupFromSerializedState(data);\n\n                this.addPopoutGroup(group, {\n                    skipRemoveGroup: true,\n                    position: position ?? undefined,\n                });\n            }\n\n            for (const floatingGroup of this._floatingGroups) {\n                floatingGroup.overlay.setBounds();\n            }\n\n            if (typeof activeGroup === 'string') {\n                const panel = this.getPanel(activeGroup);\n                if (panel) {\n                    this.doSetGroupAndPanelActive(panel);\n                }\n            }\n        } catch (err) {\n            /**\n             * Takes all the successfully created groups and remove all of their panels.\n             */\n            for (const group of this.groups) {\n                for (const panel of group.panels) {\n                    this.removePanel(panel, {\n                        removeEmptyGroup: false,\n                        skipDispose: false,\n                    });\n                }\n            }\n\n            /**\n             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about\n             * the underlying HTMLElement existing in the Gridview.\n             */\n            for (const group of this.groups) {\n                group.dispose();\n                this._groups.delete(group.id);\n                this._onDidRemoveGroup.fire(group);\n            }\n\n            // iterate over a reassigned array since original array will be modified\n            for (const floatingGroup of [...this._floatingGroups]) {\n                floatingGroup.dispose();\n            }\n\n            // fires clean-up events and clears the underlying HTML gridview.\n            this.clear();\n\n            /**\n             * even though we have cleaned-up we still want to inform the caller of their error\n             * and we'll do this through re-throwing the original error since afterall you would\n             * expect trying to load a corrupted layout to result in an error and not silently fail...\n             */\n            throw err;\n        }\n\n        this._onDidLayoutFromJSON.fire();\n    }\n\n    clear(): void {\n        const groups = Array.from(this._groups.values()).map((_) => _.value);\n\n        const hasActiveGroup = !!this.activeGroup;\n        const hasActivePanel = !!this.activePanel;\n\n        for (const group of groups) {\n            // remove the group will automatically remove the panels\n            this.removeGroup(group, { skipActive: true });\n        }\n\n        if (hasActiveGroup) {\n            this.doSetGroupAndPanelActive(undefined);\n        }\n\n        if (hasActivePanel) {\n            this._onDidActivePanelChange.fire(undefined);\n        }\n\n        this.gridview.clear();\n    }\n\n    closeAllGroups(): void {\n        for (const entry of this._groups.entries()) {\n            const [_, group] = entry;\n\n            group.value.model.closeAllPanels();\n        }\n    }\n\n    addPanel<T extends object = Parameters>(\n        options: AddPanelOptions<T>\n    ): DockviewPanel {\n        if (this.panels.find((_) => _.id === options.id)) {\n            throw new Error(`panel with id ${options.id} already exists`);\n        }\n\n        let referenceGroup: DockviewGroupPanel | undefined;\n\n        if (options.position && options.floating) {\n            throw new Error(\n                'you can only provide one of: position, floating as arguments to .addPanel(...)'\n            );\n        }\n\n        if (options.position) {\n            if (isPanelOptionsWithPanel(options.position)) {\n                const referencePanel =\n                    typeof options.position.referencePanel === 'string'\n                        ? this.getGroupPanel(options.position.referencePanel)\n                        : options.position.referencePanel;\n\n                if (!referencePanel) {\n                    throw new Error(\n                        `referencePanel ${options.position.referencePanel} does not exist`\n                    );\n                }\n\n                referenceGroup = this.findGroup(referencePanel);\n            } else if (isPanelOptionsWithGroup(options.position)) {\n                referenceGroup =\n                    typeof options.position.referenceGroup === 'string'\n                        ? this._groups.get(options.position.referenceGroup)\n                              ?.value\n                        : options.position.referenceGroup;\n\n                if (!referenceGroup) {\n                    throw new Error(\n                        `referencePanel ${options.position.referenceGroup} does not exist`\n                    );\n                }\n            } else {\n                const group = this.orthogonalize(\n                    directionToPosition(<Direction>options.position.direction)\n                );\n                const panel = this.createPanel(options, group);\n                group.model.openPanel(panel);\n                return panel;\n            }\n        } else {\n            referenceGroup = this.activeGroup;\n        }\n\n        let panel: DockviewPanel;\n\n        if (referenceGroup) {\n            const target = toTarget(\n                <Direction>options.position?.direction || 'within'\n            );\n\n            if (options.floating) {\n                const group = this.createGroup();\n                const o =\n                    typeof options.floating === 'object' &&\n                    options.floating !== null\n                        ? options.floating\n                        : {};\n                this.addFloatingGroup(group, o, {\n                    inDragMode: false,\n                    skipRemoveGroup: true,\n                });\n\n                this._onDidAddGroup.fire(group);\n                panel = this.createPanel(options, group);\n                group.model.openPanel(panel);\n                this.doSetGroupAndPanelActive(group);\n            } else if (\n                referenceGroup.api.location === 'floating' ||\n                target === 'center'\n            ) {\n                panel = this.createPanel(options, referenceGroup);\n                referenceGroup.model.openPanel(panel);\n            } else {\n                const location = getGridLocation(referenceGroup.element);\n                const relativeLocation = getRelativeLocation(\n                    this.gridview.orientation,\n                    location,\n                    target\n                );\n                const group = this.createGroupAtLocation(relativeLocation);\n                panel = this.createPanel(options, group);\n                group.model.openPanel(panel);\n            }\n        } else if (options.floating) {\n            const group = this.createGroup();\n            const o =\n                typeof options.floating === 'object' &&\n                options.floating !== null\n                    ? options.floating\n                    : {};\n            this.addFloatingGroup(group, o, {\n                inDragMode: false,\n                skipRemoveGroup: true,\n            });\n\n            this._onDidAddGroup.fire(group);\n\n            panel = this.createPanel(options, group);\n            group.model.openPanel(panel);\n            this.doSetGroupAndPanelActive(group);\n        } else {\n            const group = this.createGroupAtLocation();\n\n            panel = this.createPanel(options, group);\n\n            group.model.openPanel(panel);\n        }\n\n        return panel;\n    }\n\n    removePanel(\n        panel: IDockviewPanel,\n        options: { removeEmptyGroup: boolean; skipDispose: boolean } = {\n            removeEmptyGroup: true,\n            skipDispose: false,\n        }\n    ): void {\n        const group = panel.group;\n\n        if (!group) {\n            throw new Error(\n                `cannot remove panel ${panel.id}. it's missing a group.`\n            );\n        }\n\n        group.model.removePanel(panel);\n\n        if (!options.skipDispose) {\n            this.overlayRenderContainer.remove(panel);\n            panel.dispose();\n        }\n\n        if (group.size === 0 && options.removeEmptyGroup) {\n            this.removeGroup(group);\n        }\n    }\n\n    createWatermarkComponent(): IWatermarkRenderer {\n        return createComponent(\n            'watermark-id',\n            'watermark-name',\n            this.options.watermarkComponent\n                ? { 'watermark-name': this.options.watermarkComponent }\n                : {},\n            this.options.watermarkFrameworkComponent\n                ? { 'watermark-name': this.options.watermarkFrameworkComponent }\n                : {},\n            this.options.frameworkComponentFactory?.watermark\n        );\n    }\n\n    private updateWatermark(): void {\n        if (this.groups.filter((x) => x.api.location === 'grid').length === 0) {\n            if (!this.watermark) {\n                this.watermark = this.createWatermarkComponent();\n\n                this.watermark.init({\n                    containerApi: new DockviewApi(this),\n                });\n\n                const watermarkContainer = document.createElement('div');\n                watermarkContainer.className = 'dv-watermark-container';\n                watermarkContainer.appendChild(this.watermark.element);\n\n                this.gridview.element.appendChild(watermarkContainer);\n            }\n        } else if (this.watermark) {\n            this.watermark.element.parentElement!.remove();\n            this.watermark.dispose?.();\n            this.watermark = null;\n        }\n    }\n\n    addGroup(options?: AddGroupOptions): DockviewGroupPanel {\n        const group = this.createGroup();\n\n        if (options) {\n            let referenceGroup: DockviewGroupPanel | undefined;\n\n            if (isGroupOptionsWithPanel(options)) {\n                const referencePanel =\n                    typeof options.referencePanel === 'string'\n                        ? this.panels.find(\n                              (panel) => panel.id === options.referencePanel\n                          )\n                        : options.referencePanel;\n\n                if (!referencePanel) {\n                    throw new Error(\n                        `reference panel ${options.referencePanel} does not exist`\n                    );\n                }\n\n                referenceGroup = this.findGroup(referencePanel);\n\n                if (!referenceGroup) {\n                    throw new Error(\n                        `reference group for reference panel ${options.referencePanel} does not exist`\n                    );\n                }\n            } else if (isGroupOptionsWithGroup(options)) {\n                referenceGroup =\n                    typeof options.referenceGroup === 'string'\n                        ? this._groups.get(options.referenceGroup)?.value\n                        : options.referenceGroup;\n\n                if (!referenceGroup) {\n                    throw new Error(\n                        `reference group ${options.referenceGroup} does not exist`\n                    );\n                }\n            } else {\n                const group = this.orthogonalize(\n                    directionToPosition(<Direction>options.direction)\n                );\n                return group;\n            }\n\n            const target = toTarget(<Direction>options.direction || 'within');\n\n            const location = getGridLocation(referenceGroup.element);\n            const relativeLocation = getRelativeLocation(\n                this.gridview.orientation,\n                location,\n                target\n            );\n            this.doAddGroup(group, relativeLocation);\n            return group;\n        } else {\n            this.doAddGroup(group);\n            return group;\n        }\n    }\n\n    removeGroup(\n        group: DockviewGroupPanel,\n        options?:\n            | {\n                  skipActive?: boolean;\n                  skipDispose?: boolean;\n              }\n            | undefined\n    ): void {\n        const panels = [...group.panels]; // reassign since group panels will mutate\n\n        for (const panel of panels) {\n            this.removePanel(panel, {\n                removeEmptyGroup: false,\n                skipDispose: options?.skipDispose ?? false,\n            });\n        }\n\n        const activePanel = this.activePanel;\n\n        this.doRemoveGroup(group, options);\n\n        if (this.activePanel !== activePanel) {\n            this._onDidActivePanelChange.fire(this.activePanel);\n        }\n    }\n\n    protected override doRemoveGroup(\n        group: DockviewGroupPanel,\n        options?:\n            | {\n                  skipActive?: boolean;\n                  skipDispose?: boolean;\n              }\n            | undefined\n    ): DockviewGroupPanel {\n        if (group.api.location === 'floating') {\n            const floatingGroup = this._floatingGroups.find(\n                (_) => _.group === group\n            );\n\n            if (floatingGroup) {\n                if (!options?.skipDispose) {\n                    floatingGroup.group.dispose();\n                    this._groups.delete(group.id);\n                    this._onDidRemoveGroup.fire(group);\n                }\n\n                remove(this._floatingGroups, floatingGroup);\n                floatingGroup.dispose();\n\n                if (!options?.skipActive && this._activeGroup === group) {\n                    const groups = Array.from(this._groups.values());\n\n                    this.doSetGroupActive(\n                        groups.length > 0 ? groups[0].value : undefined\n                    );\n                }\n\n                return floatingGroup.group;\n            }\n\n            throw new Error('failed to find floating group');\n        }\n\n        if (group.api.location === 'popout') {\n            const selectedGroup = this._popoutGroups.find(\n                (_) => _.group === group\n            );\n\n            if (selectedGroup) {\n                if (!options?.skipDispose) {\n                    selectedGroup.group.dispose();\n                    this._groups.delete(group.id);\n                    this._onDidRemoveGroup.fire(group);\n                }\n\n                selectedGroup.dispose();\n\n                if (!options?.skipActive && this._activeGroup === group) {\n                    const groups = Array.from(this._groups.values());\n\n                    this.doSetGroupActive(\n                        groups.length > 0 ? groups[0].value : undefined\n                    );\n                }\n\n                return selectedGroup.group;\n            }\n\n            throw new Error('failed to find popout group');\n        }\n\n        return super.doRemoveGroup(group, options);\n    }\n\n    moveGroupOrPanel(\n        destinationGroup: DockviewGroupPanel,\n        sourceGroupId: string,\n        sourceItemId: string | undefined,\n        destinationTarget: Position,\n        destinationIndex?: number\n    ): void {\n        const sourceGroup = sourceGroupId\n            ? this._groups.get(sourceGroupId)?.value\n            : undefined;\n\n        if (sourceItemId === undefined) {\n            if (sourceGroup) {\n                this.moveGroup(\n                    sourceGroup,\n                    destinationGroup,\n                    destinationTarget\n                );\n            }\n            return;\n        }\n\n        if (!destinationTarget || destinationTarget === 'center') {\n            const groupItem: IDockviewPanel | undefined =\n                sourceGroup?.model.removePanel(sourceItemId) ??\n                this.panels.find((panel) => panel.id === sourceItemId);\n\n            if (!groupItem) {\n                throw new Error(`No panel with id ${sourceItemId}`);\n            }\n\n            if (sourceGroup?.model.size === 0) {\n                this.doRemoveGroup(sourceGroup);\n            }\n\n            destinationGroup.model.openPanel(groupItem, {\n                index: destinationIndex,\n            });\n        } else {\n            const referenceLocation = getGridLocation(destinationGroup.element);\n            const targetLocation = getRelativeLocation(\n                this.gridview.orientation,\n                referenceLocation,\n                destinationTarget\n            );\n\n            if (sourceGroup && sourceGroup.size < 2) {\n                const [targetParentLocation, to] = tail(targetLocation);\n\n                if (sourceGroup.api.location === 'grid') {\n                    const sourceLocation = getGridLocation(sourceGroup.element);\n                    const [sourceParentLocation, from] = tail(sourceLocation);\n\n                    if (\n                        sequenceEquals(\n                            sourceParentLocation,\n                            targetParentLocation\n                        )\n                    ) {\n                        // special case when 'swapping' two views within same grid location\n                        // if a group has one tab - we are essentially moving the 'group'\n                        // which is equivalent to swapping two views in this case\n                        this.gridview.moveView(sourceParentLocation, from, to);\n                    }\n                }\n\n                // source group will become empty so delete the group\n                const targetGroup = this.doRemoveGroup(sourceGroup, {\n                    skipActive: true,\n                    skipDispose: true,\n                });\n\n                // after deleting the group we need to re-evaulate the ref location\n                const updatedReferenceLocation = getGridLocation(\n                    destinationGroup.element\n                );\n                const location = getRelativeLocation(\n                    this.gridview.orientation,\n                    updatedReferenceLocation,\n                    destinationTarget\n                );\n                this.doAddGroup(targetGroup, location);\n            } else {\n                const groupItem: IDockviewPanel | undefined =\n                    sourceGroup?.model.removePanel(sourceItemId) ??\n                    this.panels.find((panel) => panel.id === sourceItemId);\n\n                if (!groupItem) {\n                    throw new Error(`No panel with id ${sourceItemId}`);\n                }\n\n                const dropLocation = getRelativeLocation(\n                    this.gridview.orientation,\n                    referenceLocation,\n                    destinationTarget\n                );\n\n                const group = this.createGroupAtLocation(dropLocation);\n                group.model.openPanel(groupItem);\n            }\n        }\n    }\n\n    private moveGroup(\n        sourceGroup: DockviewGroupPanel,\n        referenceGroup: DockviewGroupPanel,\n        target: Position\n    ): void {\n        if (sourceGroup) {\n            if (!target || target === 'center') {\n                const activePanel = sourceGroup.activePanel;\n                const panels = [...sourceGroup.panels].map((p) =>\n                    sourceGroup.model.removePanel(p.id)\n                );\n\n                if (sourceGroup?.model.size === 0) {\n                    this.doRemoveGroup(sourceGroup);\n                }\n\n                for (const panel of panels) {\n                    referenceGroup.model.openPanel(panel, {\n                        skipSetPanelActive: panel !== activePanel,\n                    });\n                }\n            } else {\n                switch (sourceGroup.api.location) {\n                    case 'grid':\n                        this.gridview.removeView(\n                            getGridLocation(sourceGroup.element)\n                        );\n                        break;\n                    case 'floating': {\n                        const selectedFloatingGroup = this._floatingGroups.find(\n                            (x) => x.group === sourceGroup\n                        );\n                        if (!selectedFloatingGroup) {\n                            throw new Error('failed to find floating group');\n                        }\n                        selectedFloatingGroup.dispose();\n                        break;\n                    }\n                    case 'popout': {\n                        const selectedPopoutGroup = this._popoutGroups.find(\n                            (x) => x.group === sourceGroup\n                        );\n                        if (!selectedPopoutGroup) {\n                            throw new Error('failed to find popout group');\n                        }\n                        selectedPopoutGroup.dispose();\n                    }\n                }\n\n                const referenceLocation = getGridLocation(\n                    referenceGroup.element\n                );\n                const dropLocation = getRelativeLocation(\n                    this.gridview.orientation,\n                    referenceLocation,\n                    target\n                );\n\n                this.gridview.addView(\n                    sourceGroup,\n                    Sizing.Distribute,\n                    dropLocation\n                );\n            }\n        }\n    }\n\n    doSetGroupAndPanelActive(\n        group: DockviewGroupPanel | undefined,\n        skipFocus?: boolean\n    ): void {\n        const activePanel = this.activePanel;\n        super.doSetGroupActive(group, skipFocus);\n\n        if (this._activeGroup?.activePanel !== activePanel) {\n            this._onDidActivePanelChange.fire(this._activeGroup?.activePanel);\n        }\n    }\n\n    createGroup(options?: GroupOptions): DockviewGroupPanel {\n        if (!options) {\n            options = {};\n        }\n\n        let id = options?.id;\n\n        if (id && this._groups.has(options.id!)) {\n            console.warn(\n                `Duplicate group id ${options?.id}. reassigning group id to avoid errors`\n            );\n            id = undefined;\n        }\n\n        if (!id) {\n            id = this.nextGroupId.next();\n            while (this._groups.has(id)) {\n                id = this.nextGroupId.next();\n            }\n        }\n\n        const view = new DockviewGroupPanel(this, id, options);\n        view.init({ params: {}, accessor: <any>null }); // required to initialized .part and allow for correct disposal of group\n\n        if (!this._groups.has(view.id)) {\n            const disposable = new CompositeDisposable(\n                view.model.onTabDragStart((event) => {\n                    this._onWillDragPanel.fire(event);\n                }),\n                view.model.onGroupDragStart((event) => {\n                    this._onWillDragGroup.fire(event);\n                }),\n                view.model.onMove((event) => {\n                    const { groupId, itemId, target, index } = event;\n                    this.moveGroupOrPanel(view, groupId, itemId, target, index);\n                }),\n                view.model.onDidDrop((event) => {\n                    this._onDidDrop.fire({\n                        ...event,\n                        api: this._api,\n                        group: view,\n                    });\n                }),\n                view.model.onDidAddPanel((event) => {\n                    this._onDidAddPanel.fire(event.panel);\n                }),\n                view.model.onDidRemovePanel((event) => {\n                    this._onDidRemovePanel.fire(event.panel);\n                }),\n                view.model.onDidActivePanelChange((event) => {\n                    this._onDidActivePanelChange.fire(event.panel);\n                })\n            );\n\n            this._groups.set(view.id, { value: view, disposable });\n        }\n\n        // TODO: must be called after the above listeners have been setup,\n        // not an ideal pattern\n        view.initialize();\n\n        return view;\n    }\n\n    private createPanel(\n        options: AddPanelOptions,\n        group: DockviewGroupPanel\n    ): DockviewPanel {\n        const contentComponent = options.component;\n        const tabComponent =\n            options.tabComponent ?? this.options.defaultTabComponent;\n\n        const view = new DockviewPanelModel(\n            this,\n            options.id,\n            contentComponent,\n            tabComponent\n        );\n\n        const panel = new DockviewPanel(\n            options.id,\n            this,\n            this._api,\n            group,\n            view,\n            { renderer: options.renderer }\n        );\n\n        panel.init({\n            title: options.title ?? options.id,\n            params: options?.params ?? {},\n        });\n\n        return panel;\n    }\n\n    private createGroupAtLocation(\n        location: number[] = [0]\n    ): DockviewGroupPanel {\n        const group = this.createGroup();\n        this.doAddGroup(group, location);\n        return group;\n    }\n\n    private findGroup(panel: IDockviewPanel): DockviewGroupPanel | undefined {\n        return Array.from(this._groups.values()).find((group) =>\n            group.value.model.containsPanel(panel)\n        )?.value;\n    }\n}\n","import { DockviewApi } from '../api/component.api';\nimport { Direction } from '../gridview/baseComponentGridview';\nimport { IGridView } from '../gridview/gridview';\nimport {\n    IContentRenderer,\n    ITabRenderer,\n    WatermarkConstructor,\n    IWatermarkRenderer,\n    DockviewDropTargets,\n} from './types';\nimport { Parameters } from '../panel/types';\nimport { DockviewGroupPanel } from './dockviewGroupPanel';\nimport { ISplitviewStyles, Orientation } from '../splitview/splitview';\nimport { PanelTransfer } from '../dnd/dataTransfer';\nimport { IDisposable } from '../lifecycle';\nimport { Position } from '../dnd/droptarget';\nimport { IDockviewPanel } from './dockviewPanel';\nimport {\n    ComponentConstructor,\n    FrameworkFactory,\n} from '../panel/componentFactory';\nimport { DockviewGroupPanelApi } from '../api/dockviewGroupPanelApi';\nimport { DockviewPanelRenderer } from '../overlayRenderContainer';\n\nexport interface IHeaderActionsRenderer extends IDisposable {\n    readonly element: HTMLElement;\n    init(params: {\n        containerApi: DockviewApi;\n        api: DockviewGroupPanelApi;\n    }): void;\n}\n\nexport interface GroupPanelFrameworkComponentFactory {\n    content: FrameworkFactory<IContentRenderer>;\n    tab: FrameworkFactory<ITabRenderer>;\n    watermark: FrameworkFactory<IWatermarkRenderer>;\n}\n\nexport interface TabContextMenuEvent {\n    event: MouseEvent;\n    api: DockviewApi;\n    panel: IDockviewPanel;\n}\n\nexport interface DockviewRenderFunctions {\n    tabComponents?: {\n        [componentName: string]: ComponentConstructor<ITabRenderer>;\n    };\n    components?: {\n        [componentName: string]: ComponentConstructor<IContentRenderer>;\n    };\n    frameworkTabComponents?: {\n        [componentName: string]: any;\n    };\n    frameworkComponents?: {\n        [componentName: string]: any;\n    };\n}\n\nexport interface ViewFactoryData {\n    content: string;\n    tab?: string;\n}\n\nexport interface DockviewDndOverlayEvent {\n    nativeEvent: DragEvent;\n    target: DockviewDropTargets;\n    position: Position;\n    group?: DockviewGroupPanel;\n    getData: () => PanelTransfer | undefined;\n}\n\nexport interface DockviewComponentOptions extends DockviewRenderFunctions {\n    disableAutoResizing?: boolean;\n    watermarkComponent?: WatermarkConstructor;\n    watermarkFrameworkComponent?: any;\n    frameworkComponentFactory?: GroupPanelFrameworkComponentFactory;\n    orientation?: Orientation;\n    styles?: ISplitviewStyles;\n    defaultTabComponent?: string;\n    showDndOverlay?: (event: DockviewDndOverlayEvent) => boolean;\n    createRightHeaderActionsElement?: (\n        group: DockviewGroupPanel\n    ) => IHeaderActionsRenderer;\n    createLeftHeaderActionsElement?: (\n        group: DockviewGroupPanel\n    ) => IHeaderActionsRenderer;\n    createPrefixHeaderActionsElement?: (\n        group: DockviewGroupPanel\n    ) => IHeaderActionsRenderer;\n    singleTabMode?: 'fullwidth' | 'default';\n    parentElement?: HTMLElement;\n    disableFloatingGroups?: boolean;\n    floatingGroupBounds?:\n        | 'boundedWithinViewport'\n        | {\n              minimumHeightWithinViewport?: number;\n              minimumWidthWithinViewport?: number;\n          };\n    popoutUrl?: string;\n    defaultRenderer?: DockviewPanelRenderer;\n    debug?: boolean;\n}\n\nexport interface PanelOptions<P extends object = Parameters> {\n    component: string;\n    tabComponent?: string;\n    params?: P;\n    id: string;\n    title?: string;\n}\n\ntype RelativePanel = {\n    direction?: Direction;\n    referencePanel: string | IDockviewPanel;\n};\n\ntype RelativeGroup = {\n    direction?: Direction;\n    referenceGroup: string | DockviewGroupPanel;\n};\n\ntype AbsolutePosition = {\n    direction: Omit<Direction, 'within'>;\n};\n\nexport type AddPanelPositionOptions =\n    | RelativePanel\n    | RelativeGroup\n    | AbsolutePosition;\n\nexport function isPanelOptionsWithPanel(\n    data: AddPanelPositionOptions\n): data is RelativePanel {\n    if ((data as RelativePanel).referencePanel) {\n        return true;\n    }\n    return false;\n}\n\nexport function isPanelOptionsWithGroup(\n    data: AddPanelPositionOptions\n): data is RelativeGroup {\n    if ((data as RelativeGroup).referenceGroup) {\n        return true;\n    }\n    return false;\n}\n\ntype AddPanelFloatingGroupUnion = {\n    floating:\n        | {\n              height?: number;\n              width?: number;\n              x?: number;\n              y?: number;\n          }\n        | true;\n    position: never;\n};\n\ntype AddPanelPositionUnion = {\n    floating: false | never;\n    position: AddPanelPositionOptions;\n};\n\ntype AddPanelOptionsUnion = AddPanelFloatingGroupUnion | AddPanelPositionUnion;\n\nexport type AddPanelOptions<P extends object = Parameters> = Omit<\n    PanelOptions<P>,\n    'component' | 'tabComponent'\n> & {\n    component: string;\n    tabComponent?: string;\n    renderer?: DockviewPanelRenderer;\n} & Partial<AddPanelOptionsUnion>;\n\ntype AddGroupOptionsWithPanel = {\n    referencePanel: string | IDockviewPanel;\n    direction?: Omit<Direction, 'within'>;\n};\n\ntype AddGroupOptionsWithGroup = {\n    referenceGroup: string | DockviewGroupPanel;\n    direction?: Omit<Direction, 'within'>;\n};\n\nexport type AddGroupOptions =\n    | AddGroupOptionsWithGroup\n    | AddGroupOptionsWithPanel\n    | AbsolutePosition;\n\nexport function isGroupOptionsWithPanel(\n    data: AddGroupOptions\n): data is AddGroupOptionsWithPanel {\n    if ((data as AddGroupOptionsWithPanel).referencePanel) {\n        return true;\n    }\n    return false;\n}\n\nexport function isGroupOptionsWithGroup(\n    data: AddGroupOptions\n): data is AddGroupOptionsWithGroup {\n    if ((data as AddGroupOptionsWithGroup).referenceGroup) {\n        return true;\n    }\n    return false;\n}\n\nexport interface MovementOptions2 {\n    group?: IGridView;\n}\n\nexport interface MovementOptions extends MovementOptions2 {\n    includePanel?: boolean;\n    group?: DockviewGroupPanel;\n}\n","import {\n    getRelativeLocation,\n    SerializedGridObject,\n    getGridLocation,\n    SerializedGridview,\n} from './gridview';\nimport { tail, sequenceEquals } from '../array';\nimport { CompositeDisposable } from '../lifecycle';\nimport { IPanelDeserializer } from '../dockview/deserializer';\nimport { GridviewComponentOptions } from './options';\nimport {\n    BaseGrid,\n    Direction,\n    IBaseGrid,\n    IGridPanelView,\n    toTarget,\n} from './baseComponentGridview';\nimport {\n    GridviewPanel,\n    GridviewInitParameters,\n    GridPanelViewState,\n    IGridviewPanel,\n} from './gridviewPanel';\nimport { BaseComponentOptions, Parameters } from '../panel/types';\nimport { Orientation, Sizing } from '../splitview/splitview';\nimport { createComponent } from '../panel/componentFactory';\nimport { Emitter, Event } from '../events';\nimport { Position } from '../dnd/droptarget';\n\nexport interface SerializedGridviewComponent {\n    grid: SerializedGridview<GridPanelViewState>;\n    activePanel?: string;\n}\n\nexport interface AddComponentOptions<T extends object = Parameters>\n    extends BaseComponentOptions<T> {\n    minimumWidth?: number;\n    maximumWidth?: number;\n    minimumHeight?: number;\n    maximumHeight?: number;\n    position?: {\n        direction: Direction;\n        referencePanel: string;\n    };\n    location?: number[];\n}\n\nexport interface IGridPanelComponentView extends IGridPanelView {\n    init: (params: GridviewInitParameters) => void;\n}\n\nexport type GridviewComponentUpdateOptions = Pick<\n    GridviewComponentOptions,\n    'orientation' | 'components' | 'frameworkComponents'\n>;\n\nexport interface IGridviewComponent extends IBaseGrid<GridviewPanel> {\n    readonly orientation: Orientation;\n    readonly onDidLayoutFromJSON: Event<void>;\n    updateOptions(options: Partial<GridviewComponentUpdateOptions>): void;\n    addPanel<T extends object = Parameters>(\n        options: AddComponentOptions<T>\n    ): IGridviewPanel;\n    removePanel(panel: IGridviewPanel, sizing?: Sizing): void;\n    focus(): void;\n    fromJSON(serializedGridview: SerializedGridviewComponent): void;\n    toJSON(): SerializedGridviewComponent;\n    movePanel(\n        panel: IGridviewPanel,\n        options: { direction: Direction; reference: string; size?: number }\n    ): void;\n    setVisible(panel: IGridviewPanel, visible: boolean): void;\n    setActive(panel: IGridviewPanel): void;\n}\n\nexport class GridviewComponent\n    extends BaseGrid<GridviewPanel>\n    implements IGridviewComponent\n{\n    private _options: Exclude<GridviewComponentOptions, 'orientation'>;\n    private _deserializer: IPanelDeserializer | undefined;\n\n    private readonly _onDidLayoutfromJSON = new Emitter<void>();\n    readonly onDidLayoutFromJSON: Event<void> = this._onDidLayoutfromJSON.event;\n\n    get orientation(): Orientation {\n        return this.gridview.orientation;\n    }\n\n    set orientation(value: Orientation) {\n        this.gridview.orientation = value;\n    }\n\n    get options(): GridviewComponentOptions {\n        return this._options;\n    }\n\n    get deserializer(): IPanelDeserializer | undefined {\n        return this._deserializer;\n    }\n\n    set deserializer(value: IPanelDeserializer | undefined) {\n        this._deserializer = value;\n    }\n\n    constructor(options: GridviewComponentOptions) {\n        super({\n            parentElement: options.parentElement,\n            proportionalLayout: options.proportionalLayout,\n            orientation: options.orientation,\n            styles: options.styles,\n            disableAutoResizing: options.disableAutoResizing,\n        });\n\n        this._options = options;\n\n        if (!this.options.components) {\n            this.options.components = {};\n        }\n        if (!this.options.frameworkComponents) {\n            this.options.frameworkComponents = {};\n        }\n    }\n\n    updateOptions(options: Partial<GridviewComponentUpdateOptions>): void {\n        const hasOrientationChanged =\n            typeof options.orientation === 'string' &&\n            this.gridview.orientation !== options.orientation;\n\n        this._options = { ...this.options, ...options };\n\n        if (hasOrientationChanged) {\n            this.gridview.orientation = options.orientation!;\n        }\n\n        this.layout(this.gridview.width, this.gridview.height, true);\n    }\n\n    removePanel(panel: GridviewPanel): void {\n        this.removeGroup(panel);\n    }\n\n    /**\n     * Serialize the current state of the layout\n     *\n     * @returns A JSON respresentation of the layout\n     */\n    public toJSON(): SerializedGridviewComponent {\n        const data = this.gridview.serialize() as {\n            height: number;\n            width: number;\n            orientation: Orientation;\n            root: SerializedGridObject<GridPanelViewState>;\n        };\n\n        return {\n            grid: data,\n            activePanel: this.activeGroup?.id,\n        };\n    }\n\n    setVisible(panel: GridviewPanel, visible: boolean): void {\n        this.gridview.setViewVisible(getGridLocation(panel.element), visible);\n    }\n\n    setActive(panel: GridviewPanel): void {\n        this._groups.forEach((value, _key) => {\n            value.value.setActive(panel === value.value);\n        });\n    }\n\n    focus(): void {\n        this.activeGroup?.focus();\n    }\n\n    public fromJSON(serializedGridview: SerializedGridviewComponent): void {\n        this.clear();\n\n        const { grid, activePanel } = serializedGridview;\n\n        try {\n            const queue: Function[] = [];\n\n            // take note of the existing dimensions\n            const width = this.width;\n            const height = this.height;\n\n            this.gridview.deserialize(grid, {\n                fromJSON: (node) => {\n                    const { data } = node;\n                    const view = createComponent(\n                        data.id,\n                        data.component,\n                        this.options.components ?? {},\n                        this.options.frameworkComponents ?? {},\n                        this.options.frameworkComponentFactory\n                            ? {\n                                  createComponent:\n                                      this.options.frameworkComponentFactory\n                                          .createComponent,\n                              }\n                            : undefined\n                    );\n\n                    queue.push(() =>\n                        view.init({\n                            params: data.params,\n                            minimumWidth: data.minimumWidth,\n                            maximumWidth: data.maximumWidth,\n                            minimumHeight: data.minimumHeight,\n                            maximumHeight: data.maximumHeight,\n                            priority: data.priority,\n                            snap: !!data.snap,\n                            accessor: this,\n                            isVisible: node.visible,\n                        })\n                    );\n\n                    this._onDidAddGroup.fire(view);\n\n                    this.registerPanel(view);\n\n                    return view;\n                },\n            });\n\n            this.layout(width, height, true);\n\n            queue.forEach((f) => f());\n\n            if (typeof activePanel === 'string') {\n                const panel = this.getPanel(activePanel);\n                if (panel) {\n                    this.doSetGroupActive(panel);\n                }\n            }\n        } catch (err) {\n            /**\n             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about\n             * the underlying HTMLElement existing in the Gridview.\n             */\n            for (const group of this.groups) {\n                group.dispose();\n                this._groups.delete(group.id);\n                this._onDidRemoveGroup.fire(group);\n            }\n\n            // fires clean-up events and clears the underlying HTML gridview.\n            this.clear();\n\n            /**\n             * even though we have cleaned-up we still want to inform the caller of their error\n             * and we'll do this through re-throwing the original error since afterall you would\n             * expect trying to load a corrupted layout to result in an error and not silently fail...\n             */\n            throw err;\n        }\n\n        this._onDidLayoutfromJSON.fire();\n    }\n\n    clear(): void {\n        const hasActiveGroup = this.activeGroup;\n\n        const groups = Array.from(this._groups.values()); // reassign since group panels will mutate\n        for (const group of groups) {\n            group.disposable.dispose();\n            this.doRemoveGroup(group.value, { skipActive: true });\n        }\n\n        if (hasActiveGroup) {\n            this.doSetGroupActive(undefined);\n        }\n\n        this.gridview.clear();\n    }\n\n    movePanel(\n        panel: GridviewPanel,\n        options: { direction: Direction; reference: string; size?: number }\n    ): void {\n        let relativeLocation: number[];\n\n        const removedPanel = this.gridview.remove(panel) as GridviewPanel;\n\n        const referenceGroup = this._groups.get(options.reference)?.value;\n\n        if (!referenceGroup) {\n            throw new Error(\n                `reference group ${options.reference} does not exist`\n            );\n        }\n\n        const target = toTarget(options.direction);\n        if (target === 'center') {\n            throw new Error(`${target} not supported as an option`);\n        } else {\n            const location = getGridLocation(referenceGroup.element);\n            relativeLocation = getRelativeLocation(\n                this.gridview.orientation,\n                location,\n                target\n            );\n        }\n\n        this.doAddGroup(removedPanel, relativeLocation, options.size);\n    }\n\n    public addPanel<T extends object = Parameters>(\n        options: AddComponentOptions<T>\n    ): IGridviewPanel {\n        let relativeLocation: number[] = options.location ?? [0];\n\n        if (options.position?.referencePanel) {\n            const referenceGroup = this._groups.get(\n                options.position.referencePanel\n            )?.value;\n\n            if (!referenceGroup) {\n                throw new Error(\n                    `reference group ${options.position.referencePanel} does not exist`\n                );\n            }\n\n            const target = toTarget(options.position.direction);\n            if (target === 'center') {\n                throw new Error(`${target} not supported as an option`);\n            } else {\n                const location = getGridLocation(referenceGroup.element);\n                relativeLocation = getRelativeLocation(\n                    this.gridview.orientation,\n                    location,\n                    target\n                );\n            }\n        }\n\n        const view = createComponent(\n            options.id,\n            options.component,\n            this.options.components ?? {},\n            this.options.frameworkComponents ?? {},\n            this.options.frameworkComponentFactory\n                ? {\n                      createComponent:\n                          this.options.frameworkComponentFactory\n                              .createComponent,\n                  }\n                : undefined\n        );\n\n        view.init({\n            params: options.params ?? {},\n            minimumWidth: options.minimumWidth,\n            maximumWidth: options.maximumWidth,\n            minimumHeight: options.minimumHeight,\n            maximumHeight: options.maximumHeight,\n            priority: options.priority,\n            snap: !!options.snap,\n            accessor: this,\n            isVisible: true,\n        });\n\n        this.registerPanel(view);\n\n        this.doAddGroup(view, relativeLocation, options.size);\n\n        return view;\n    }\n\n    private registerPanel(panel: GridviewPanel): void {\n        const disposable = new CompositeDisposable(\n            panel.api.onDidFocusChange((event) => {\n                if (!event.isFocused) {\n                    return;\n                }\n                this._groups.forEach((groupItem) => {\n                    const group = groupItem.value;\n                    if (group !== panel) {\n                        group.setActive(false);\n                    } else {\n                        group.setActive(true);\n                    }\n                });\n            })\n        );\n\n        this._groups.set(panel.id, {\n            value: panel,\n            disposable,\n        });\n    }\n\n    public moveGroup(\n        referenceGroup: IGridPanelComponentView,\n        groupId: string,\n        target: Position\n    ): void {\n        const sourceGroup = this.getPanel(groupId);\n\n        if (!sourceGroup) {\n            throw new Error('invalid operation');\n        }\n\n        const referenceLocation = getGridLocation(referenceGroup.element);\n        const targetLocation = getRelativeLocation(\n            this.gridview.orientation,\n            referenceLocation,\n            target\n        );\n\n        const [targetParentLocation, to] = tail(targetLocation);\n        const sourceLocation = getGridLocation(sourceGroup.element);\n        const [sourceParentLocation, from] = tail(sourceLocation);\n\n        if (sequenceEquals(sourceParentLocation, targetParentLocation)) {\n            // special case when 'swapping' two views within same grid location\n            // if a group has one tab - we are essentially moving the 'group'\n            // which is equivalent to swapping two views in this case\n            this.gridview.moveView(sourceParentLocation, from, to);\n\n            return;\n        }\n\n        // source group will become empty so delete the group\n        const targetGroup = this.doRemoveGroup(sourceGroup, {\n            skipActive: true,\n            skipDispose: true,\n        });\n\n        // after deleting the group we need to re-evaulate the ref location\n        const updatedReferenceLocation = getGridLocation(\n            referenceGroup.element\n        );\n        const location = getRelativeLocation(\n            this.gridview.orientation,\n            updatedReferenceLocation,\n            target\n        );\n        this.doAddGroup(targetGroup, location);\n    }\n\n    removeGroup(group: GridviewPanel): void {\n        super.removeGroup(group);\n    }\n\n    public dispose(): void {\n        super.dispose();\n\n        this._onDidLayoutfromJSON.dispose();\n    }\n}\n","import {\n    CompositeDisposable,\n    IDisposable,\n    MutableDisposable,\n} from '../lifecycle';\nimport {\n    IView,\n    LayoutPriority,\n    Orientation,\n    Sizing,\n    Splitview,\n} from './splitview';\nimport { SplitviewComponentOptions } from './options';\nimport { BaseComponentOptions, Parameters } from '../panel/types';\nimport { Emitter, Event } from '../events';\nimport { SplitviewPanel, ISplitviewPanel } from './splitviewPanel';\nimport { createComponent } from '../panel/componentFactory';\nimport { Resizable } from '../resizable';\n\nexport interface SerializedSplitviewPanelData {\n    id: string;\n    component: string;\n    minimumSize?: number;\n    maximumSize?: number;\n    params?: { [index: string]: any };\n}\n\nexport interface SerializedSplitviewPanel {\n    snap?: boolean;\n    priority?: LayoutPriority;\n    data: SerializedSplitviewPanelData;\n    size: number;\n}\n\nexport interface SerializedSplitview {\n    orientation: Orientation;\n    size: number;\n    activeView?: string;\n    views: SerializedSplitviewPanel[];\n}\n\nexport interface AddSplitviewComponentOptions<T extends Parameters = Parameters>\n    extends BaseComponentOptions<T> {\n    index?: number;\n    minimumSize?: number;\n    maximumSize?: number;\n}\n\nexport type SplitviewComponentUpdateOptions = Pick<\n    SplitviewComponentOptions,\n    'orientation' | 'components' | 'frameworkComponents'\n>;\n\nexport interface ISplitviewComponent extends IDisposable {\n    readonly minimumSize: number;\n    readonly maximumSize: number;\n    readonly height: number;\n    readonly width: number;\n    readonly length: number;\n    readonly orientation: Orientation;\n    readonly onDidAddView: Event<IView>;\n    readonly onDidRemoveView: Event<IView>;\n    readonly onDidLayoutFromJSON: Event<void>;\n    readonly panels: SplitviewPanel[];\n    updateOptions(options: Partial<SplitviewComponentUpdateOptions>): void;\n    addPanel<T extends object = Parameters>(\n        options: AddSplitviewComponentOptions<T>\n    ): ISplitviewPanel;\n    layout(width: number, height: number): void;\n    onDidLayoutChange: Event<void>;\n    toJSON(): SerializedSplitview;\n    fromJSON(serializedSplitview: SerializedSplitview): void;\n    focus(): void;\n    getPanel(id: string): ISplitviewPanel | undefined;\n    removePanel(panel: ISplitviewPanel, sizing?: Sizing): void;\n    setVisible(panel: ISplitviewPanel, visible: boolean): void;\n    movePanel(from: number, to: number): void;\n    clear(): void;\n}\n\n/**\n * A high-level implementation of splitview that works using 'panels'\n */\nexport class SplitviewComponent\n    extends Resizable\n    implements ISplitviewComponent\n{\n    private _splitviewChangeDisposable = new MutableDisposable();\n    private _splitview!: Splitview;\n    private _activePanel: SplitviewPanel | undefined;\n    private _panels = new Map<string, IDisposable>();\n    private _options: SplitviewComponentOptions;\n\n    private readonly _onDidLayoutfromJSON = new Emitter<void>();\n    readonly onDidLayoutFromJSON: Event<void> = this._onDidLayoutfromJSON.event;\n\n    private readonly _onDidAddView = new Emitter<IView>();\n    readonly onDidAddView = this._onDidAddView.event;\n\n    private readonly _onDidRemoveView = new Emitter<IView>();\n    readonly onDidRemoveView = this._onDidRemoveView.event;\n\n    private readonly _onDidLayoutChange = new Emitter<void>();\n    readonly onDidLayoutChange: Event<void> = this._onDidLayoutChange.event;\n\n    get panels(): SplitviewPanel[] {\n        return this.splitview.getViews();\n    }\n\n    get options(): SplitviewComponentOptions {\n        return this._options;\n    }\n\n    get length(): number {\n        return this._panels.size;\n    }\n\n    get orientation(): Orientation {\n        return this.splitview.orientation;\n    }\n\n    get splitview(): Splitview {\n        return this._splitview;\n    }\n\n    set splitview(value: Splitview) {\n        this._splitview = value;\n\n        this._splitviewChangeDisposable.value = new CompositeDisposable(\n            this._splitview.onDidSashEnd(() => {\n                this._onDidLayoutChange.fire(undefined);\n            }),\n            this._splitview.onDidAddView((e) => this._onDidAddView.fire(e)),\n            this._splitview.onDidRemoveView((e) =>\n                this._onDidRemoveView.fire(e)\n            )\n        );\n    }\n\n    get minimumSize(): number {\n        return this.splitview.minimumSize;\n    }\n\n    get maximumSize(): number {\n        return this.splitview.maximumSize;\n    }\n\n    get height(): number {\n        return this.splitview.orientation === Orientation.HORIZONTAL\n            ? this.splitview.orthogonalSize\n            : this.splitview.size;\n    }\n\n    get width(): number {\n        return this.splitview.orientation === Orientation.HORIZONTAL\n            ? this.splitview.size\n            : this.splitview.orthogonalSize;\n    }\n\n    constructor(options: SplitviewComponentOptions) {\n        super(options.parentElement, options.disableAutoResizing);\n\n        this._options = options;\n\n        if (!options.components) {\n            options.components = {};\n        }\n        if (!options.frameworkComponents) {\n            options.frameworkComponents = {};\n        }\n\n        this.splitview = new Splitview(this.element, options);\n\n        this.addDisposables(\n            this._onDidAddView,\n            this._onDidLayoutfromJSON,\n            this._onDidRemoveView,\n            this._onDidLayoutChange\n        );\n    }\n\n    updateOptions(options: Partial<SplitviewComponentUpdateOptions>): void {\n        const hasOrientationChanged =\n            typeof options.orientation === 'string' &&\n            this.options.orientation !== options.orientation;\n\n        this._options = { ...this.options, ...options };\n\n        if (hasOrientationChanged) {\n            this.splitview.orientation = options.orientation!;\n        }\n\n        this.splitview.layout(\n            this.splitview.size,\n            this.splitview.orthogonalSize\n        );\n    }\n\n    focus(): void {\n        this._activePanel?.focus();\n    }\n\n    movePanel(from: number, to: number): void {\n        this.splitview.moveView(from, to);\n    }\n\n    setVisible(panel: SplitviewPanel, visible: boolean): void {\n        const index = this.panels.indexOf(panel);\n        this.splitview.setViewVisible(index, visible);\n    }\n\n    setActive(view: SplitviewPanel, skipFocus?: boolean): void {\n        this._activePanel = view;\n\n        this.panels\n            .filter((v) => v !== view)\n            .forEach((v) => {\n                v.api._onDidActiveChange.fire({ isActive: false });\n                if (!skipFocus) {\n                    v.focus();\n                }\n            });\n        view.api._onDidActiveChange.fire({ isActive: true });\n        if (!skipFocus) {\n            view.focus();\n        }\n    }\n\n    removePanel(panel: SplitviewPanel, sizing?: Sizing): void {\n        const item = this._panels.get(panel.id);\n\n        if (!item) {\n            throw new Error(`unknown splitview panel ${panel.id}`);\n        }\n\n        item.dispose();\n\n        this._panels.delete(panel.id);\n\n        const index = this.panels.findIndex((_) => _ === panel);\n        const removedView = this.splitview.removeView(index, sizing);\n        removedView.dispose();\n\n        const panels = this.panels;\n        if (panels.length > 0) {\n            this.setActive(panels[panels.length - 1]);\n        }\n    }\n\n    getPanel(id: string): SplitviewPanel | undefined {\n        return this.panels.find((view) => view.id === id);\n    }\n\n    addPanel<T extends object = Parameters>(\n        options: AddSplitviewComponentOptions<T>\n    ): SplitviewPanel {\n        if (this._panels.has(options.id)) {\n            throw new Error(`panel ${options.id} already exists`);\n        }\n\n        const view = createComponent(\n            options.id,\n            options.component,\n            this.options.components ?? {},\n            this.options.frameworkComponents ?? {},\n            this.options.frameworkWrapper\n                ? {\n                      createComponent:\n                          this.options.frameworkWrapper.createComponent,\n                  }\n                : undefined\n        );\n\n        view.orientation = this.splitview.orientation;\n\n        view.init({\n            params: options.params ?? {},\n            minimumSize: options.minimumSize,\n            maximumSize: options.maximumSize,\n            snap: options.snap,\n            priority: options.priority,\n            accessor: this,\n        });\n\n        const size: Sizing | number =\n            typeof options.size === 'number' ? options.size : Sizing.Distribute;\n        const index =\n            typeof options.index === 'number' ? options.index : undefined;\n\n        this.splitview.addView(view, size, index);\n\n        this.doAddView(view);\n        this.setActive(view);\n\n        return view;\n    }\n\n    layout(width: number, height: number): void {\n        const [size, orthogonalSize] =\n            this.splitview.orientation === Orientation.HORIZONTAL\n                ? [width, height]\n                : [height, width];\n        this.splitview.layout(size, orthogonalSize);\n    }\n\n    private doAddView(view: SplitviewPanel): void {\n        const disposable = view.api.onDidFocusChange((event) => {\n            if (!event.isFocused) {\n                return;\n            }\n            this.setActive(view, true);\n        });\n\n        this._panels.set(view.id, disposable);\n    }\n\n    toJSON(): SerializedSplitview {\n        const views: SerializedSplitviewPanel[] = this.splitview\n            .getViews<SplitviewPanel>()\n            .map((view, i) => {\n                const size = this.splitview.getViewSize(i);\n                return {\n                    size,\n                    data: view.toJSON(),\n                    snap: !!view.snap,\n                    priority: view.priority,\n                };\n            });\n\n        return {\n            views,\n            activeView: this._activePanel?.id,\n            size: this.splitview.size,\n            orientation: this.splitview.orientation,\n        };\n    }\n\n    fromJSON(serializedSplitview: SerializedSplitview): void {\n        this.clear();\n\n        const { views, orientation, size, activeView } = serializedSplitview;\n\n        const queue: Function[] = [];\n\n        // take note of the existing dimensions\n        const width = this.width;\n        const height = this.height;\n\n        this.splitview = new Splitview(this.element, {\n            orientation,\n            proportionalLayout: this.options.proportionalLayout,\n            descriptor: {\n                size,\n                views: views.map((view) => {\n                    const data = view.data;\n\n                    if (this._panels.has(data.id)) {\n                        throw new Error(`panel ${data.id} already exists`);\n                    }\n\n                    const panel = createComponent(\n                        data.id,\n                        data.component,\n                        this.options.components ?? {},\n                        this.options.frameworkComponents ?? {},\n                        this.options.frameworkWrapper\n                            ? {\n                                  createComponent:\n                                      this.options.frameworkWrapper\n                                          .createComponent,\n                              }\n                            : undefined\n                    );\n\n                    queue.push(() => {\n                        panel.init({\n                            params: data.params ?? {},\n                            minimumSize: data.minimumSize,\n                            maximumSize: data.maximumSize,\n                            snap: view.snap,\n                            priority: view.priority,\n                            accessor: this,\n                        });\n                    });\n\n                    panel.orientation = orientation;\n\n                    this.doAddView(panel);\n                    setTimeout(() => {\n                        // the original onDidAddView events are missed since they are fired before we can subcribe to them\n                        this._onDidAddView.fire(panel);\n                    }, 0);\n\n                    return { size: view.size, view: panel };\n                }),\n            },\n        });\n\n        this.layout(width, height);\n\n        queue.forEach((f) => f());\n\n        if (typeof activeView === 'string') {\n            const panel = this.getPanel(activeView);\n            if (panel) {\n                this.setActive(panel);\n            }\n        }\n\n        this._onDidLayoutfromJSON.fire();\n    }\n\n    clear(): void {\n        for (const disposable of this._panels.values()) {\n            disposable.dispose();\n        }\n\n        this._panels.clear();\n\n        while (this.splitview.length > 0) {\n            const view = this.splitview.removeView(0, Sizing.Distribute, true);\n            view.dispose();\n        }\n    }\n\n    dispose(): void {\n        for (const disposable of this._panels.values()) {\n            disposable.dispose();\n        }\n\n        this._panels.clear();\n\n        const views = this.splitview.getViews();\n\n        this._splitviewChangeDisposable.dispose();\n        this.splitview.dispose();\n\n        for (const view of views) {\n            view.dispose();\n        }\n\n        super.dispose();\n    }\n}\n","import { addDisposableListener } from '../events';\nimport { PaneviewPanelApiImpl } from '../api/paneviewPanelApi';\nimport { CompositeDisposable, MutableDisposable } from '../lifecycle';\nimport { PanelUpdateEvent } from '../panel/types';\nimport { IPaneHeaderPart, PanePanelInitParameter } from './paneviewPanel';\nimport { toggleClass } from '../dom';\nimport { createChevronRightButton, createExpandMoreButton } from '../svg';\n\nexport class DefaultHeader\n    extends CompositeDisposable\n    implements IPaneHeaderPart\n{\n    private readonly _expandedIcon = createExpandMoreButton();\n    private readonly _collapsedIcon = createChevronRightButton();\n    private readonly disposable = new MutableDisposable();\n    private readonly _element: HTMLElement;\n    private readonly _content: HTMLElement;\n    private readonly _expander: HTMLElement;\n    private apiRef: { api: PaneviewPanelApiImpl | null } = { api: null };\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        super();\n\n        this._element = document.createElement('div');\n        this.element.className = 'default-header';\n\n        this._content = document.createElement('span');\n        this._expander = document.createElement('div');\n        this._expander.className = 'dockview-pane-header-icon';\n\n        this.element.appendChild(this._expander);\n        this.element.appendChild(this._content);\n\n        this.addDisposables(\n            addDisposableListener(this._element, 'click', () => {\n                this.apiRef.api?.setExpanded(!this.apiRef.api.isExpanded);\n            })\n        );\n    }\n\n    init(params: PanePanelInitParameter & { api: PaneviewPanelApiImpl }): void {\n        this.apiRef.api = params.api;\n\n        this._content.textContent = params.title;\n\n        this.updateIcon();\n\n        this.disposable.value = params.api.onDidExpansionChange(() => {\n            this.updateIcon();\n        });\n    }\n\n    private updateIcon(): void {\n        const isExpanded = !!this.apiRef.api?.isExpanded;\n        toggleClass(this._expander, 'collapsed', !isExpanded);\n\n        if (isExpanded) {\n            if (this._expander.contains(this._collapsedIcon)) {\n                this._collapsedIcon.remove();\n            }\n            if (!this._expander.contains(this._expandedIcon)) {\n                this._expander.appendChild(this._expandedIcon);\n            }\n        } else {\n            if (this._expander.contains(this._expandedIcon)) {\n                this._expandedIcon.remove();\n            }\n            if (!this._expander.contains(this._collapsedIcon)) {\n                this._expander.appendChild(this._collapsedIcon);\n            }\n        }\n    }\n\n    update(_params: PanelUpdateEvent): void {\n        //\n    }\n\n    dispose(): void {\n        this.disposable.dispose();\n        super.dispose();\n    }\n}\n","import { PaneviewApi } from '../api/component.api';\nimport { createComponent } from '../panel/componentFactory';\nimport { Emitter, Event } from '../events';\nimport {\n    CompositeDisposable,\n    IDisposable,\n    MutableDisposable,\n} from '../lifecycle';\nimport { LayoutPriority, Orientation, Sizing } from '../splitview/splitview';\nimport { PaneviewComponentOptions } from './options';\nimport { Paneview } from './paneview';\nimport {\n    IPaneBodyPart,\n    IPaneHeaderPart,\n    PaneviewPanel,\n    IPaneviewPanel,\n} from './paneviewPanel';\nimport {\n    DraggablePaneviewPanel,\n    PaneviewDropEvent,\n} from './draggablePaneviewPanel';\nimport { DefaultHeader } from './defaultPaneviewHeader';\nimport { sequentialNumberGenerator } from '../math';\nimport { PaneTransfer } from '../dnd/dataTransfer';\nimport { Resizable } from '../resizable';\nimport { Parameters } from '../panel/types';\n\nconst nextLayoutId = sequentialNumberGenerator();\n\nexport interface PaneviewDndOverlayEvent {\n    nativeEvent: DragEvent;\n    panel: IPaneviewPanel;\n    getData: () => PaneTransfer | undefined;\n}\n\nexport interface SerializedPaneviewPanel {\n    snap?: boolean;\n    priority?: LayoutPriority;\n    minimumSize?: number;\n    maximumSize?: number;\n    data: {\n        id: string;\n        component: string;\n        title: string;\n        headerComponent?: string;\n        params?: { [index: string]: any };\n    };\n    size: number;\n    expanded?: boolean;\n}\n\nexport interface SerializedPaneview {\n    size: number;\n    views: SerializedPaneviewPanel[];\n}\n\nexport class PaneFramework extends DraggablePaneviewPanel {\n    constructor(\n        private readonly options: {\n            id: string;\n            component: string;\n            headerComponent: string | undefined;\n            body: IPaneBodyPart;\n            header: IPaneHeaderPart;\n            orientation: Orientation;\n            isExpanded: boolean;\n            disableDnd: boolean;\n            accessor: IPaneviewComponent;\n        }\n    ) {\n        super(\n            options.accessor,\n            options.id,\n            options.component,\n            options.headerComponent,\n            options.orientation,\n            options.isExpanded,\n            options.disableDnd\n        );\n    }\n\n    getBodyComponent() {\n        return this.options.body;\n    }\n\n    getHeaderComponent() {\n        return this.options.header;\n    }\n}\n\nexport interface AddPaneviewComponentOptions<T extends object = Parameters> {\n    id: string;\n    component: string;\n    headerComponent?: string;\n    params?: T;\n    minimumBodySize?: number;\n    maximumBodySize?: number;\n    isExpanded?: boolean;\n    title: string;\n    index?: number;\n    size?: number;\n}\n\nexport interface IPaneviewComponent extends IDisposable {\n    readonly id: string;\n    readonly width: number;\n    readonly height: number;\n    readonly minimumSize: number;\n    readonly maximumSize: number;\n    readonly panels: IPaneviewPanel[];\n    readonly options: PaneviewComponentOptions;\n    readonly onDidAddView: Event<PaneviewPanel>;\n    readonly onDidRemoveView: Event<PaneviewPanel>;\n    readonly onDidDrop: Event<PaneviewDropEvent>;\n    readonly onDidLayoutChange: Event<void>;\n    readonly onDidLayoutFromJSON: Event<void>;\n    addPanel<T extends object = Parameters>(\n        options: AddPaneviewComponentOptions<T>\n    ): IPaneviewPanel;\n    layout(width: number, height: number): void;\n    toJSON(): SerializedPaneview;\n    fromJSON(serializedPaneview: SerializedPaneview): void;\n    focus(): void;\n    removePanel(panel: IPaneviewPanel): void;\n    getPanel(id: string): IPaneviewPanel | undefined;\n    movePanel(from: number, to: number): void;\n    updateOptions(options: Partial<PaneviewComponentOptions>): void;\n    clear(): void;\n}\n\nexport class PaneviewComponent extends Resizable implements IPaneviewComponent {\n    private readonly _id = nextLayoutId.next();\n    private _options: PaneviewComponentOptions;\n    private _disposable = new MutableDisposable();\n    private _viewDisposables = new Map<string, IDisposable>();\n    private _paneview!: Paneview;\n\n    private readonly _onDidLayoutfromJSON = new Emitter<void>();\n    readonly onDidLayoutFromJSON: Event<void> = this._onDidLayoutfromJSON.event;\n\n    private readonly _onDidLayoutChange = new Emitter<void>();\n    readonly onDidLayoutChange: Event<void> = this._onDidLayoutChange.event;\n\n    private readonly _onDidDrop = new Emitter<PaneviewDropEvent>();\n    readonly onDidDrop: Event<PaneviewDropEvent> = this._onDidDrop.event;\n\n    private readonly _onDidAddView = new Emitter<PaneviewPanel>();\n    readonly onDidAddView = this._onDidAddView.event;\n\n    private readonly _onDidRemoveView = new Emitter<PaneviewPanel>();\n    readonly onDidRemoveView = this._onDidRemoveView.event;\n\n    get id(): string {\n        return this._id;\n    }\n\n    get panels(): PaneviewPanel[] {\n        return this.paneview.getPanes();\n    }\n\n    set paneview(value: Paneview) {\n        this._paneview = value;\n\n        this._disposable.value = new CompositeDisposable(\n            this._paneview.onDidChange(() => {\n                this._onDidLayoutChange.fire(undefined);\n            }),\n            this._paneview.onDidAddView((e) => this._onDidAddView.fire(e)),\n            this._paneview.onDidRemoveView((e) => this._onDidRemoveView.fire(e))\n        );\n    }\n\n    get paneview(): Paneview {\n        return this._paneview;\n    }\n\n    get minimumSize(): number {\n        return this.paneview.minimumSize;\n    }\n\n    get maximumSize(): number {\n        return this.paneview.maximumSize;\n    }\n\n    get height(): number {\n        return this.paneview.orientation === Orientation.HORIZONTAL\n            ? this.paneview.orthogonalSize\n            : this.paneview.size;\n    }\n\n    get width(): number {\n        return this.paneview.orientation === Orientation.HORIZONTAL\n            ? this.paneview.size\n            : this.paneview.orthogonalSize;\n    }\n\n    get options(): PaneviewComponentOptions {\n        return this._options;\n    }\n\n    constructor(options: PaneviewComponentOptions) {\n        super(options.parentElement, options.disableAutoResizing);\n\n        this.addDisposables(\n            this._onDidLayoutChange,\n            this._onDidLayoutfromJSON,\n            this._onDidDrop,\n            this._onDidAddView,\n            this._onDidRemoveView\n        );\n\n        this._options = options;\n\n        if (!options.components) {\n            options.components = {};\n        }\n        if (!options.frameworkComponents) {\n            options.frameworkComponents = {};\n        }\n\n        this.paneview = new Paneview(this.element, {\n            // only allow paneview in the vertical orientation for now\n            orientation: Orientation.VERTICAL,\n        });\n\n        this.addDisposables(this._disposable);\n    }\n\n    focus(): void {\n        //noop\n    }\n\n    updateOptions(options: Partial<PaneviewComponentOptions>): void {\n        this._options = { ...this.options, ...options };\n    }\n\n    addPanel<T extends object = Parameters>(\n        options: AddPaneviewComponentOptions<T>\n    ): IPaneviewPanel {\n        const body = createComponent(\n            options.id,\n            options.component,\n            this.options.components ?? {},\n            this.options.frameworkComponents ?? {},\n            this.options.frameworkWrapper\n                ? {\n                      createComponent:\n                          this.options.frameworkWrapper.body.createComponent,\n                  }\n                : undefined\n        );\n\n        let header: IPaneHeaderPart;\n\n        if (options.headerComponent) {\n            header = createComponent(\n                options.id,\n                options.headerComponent,\n                this.options.headerComponents ?? {},\n                this.options.headerframeworkComponents,\n                this.options.frameworkWrapper\n                    ? {\n                          createComponent:\n                              this.options.frameworkWrapper.header\n                                  .createComponent,\n                      }\n                    : undefined\n            );\n        } else {\n            header = new DefaultHeader();\n        }\n\n        const view = new PaneFramework({\n            id: options.id,\n            component: options.component,\n            headerComponent: options.headerComponent,\n            header,\n            body,\n            orientation: Orientation.VERTICAL,\n            isExpanded: !!options.isExpanded,\n            disableDnd: !!this.options.disableDnd,\n            accessor: this,\n        });\n\n        this.doAddPanel(view);\n\n        const size: Sizing | number =\n            typeof options.size === 'number' ? options.size : Sizing.Distribute;\n        const index =\n            typeof options.index === 'number' ? options.index : undefined;\n\n        view.init({\n            params: options.params ?? {},\n            minimumBodySize: options.minimumBodySize,\n            maximumBodySize: options.maximumBodySize,\n            isExpanded: options.isExpanded,\n            title: options.title,\n            containerApi: new PaneviewApi(this),\n        });\n\n        this.paneview.addPane(view, size, index);\n\n        view.orientation = this.paneview.orientation;\n\n        return view;\n    }\n\n    removePanel(panel: PaneviewPanel): void {\n        const views = this.panels;\n        const index = views.findIndex((_) => _ === panel);\n        this.paneview.removePane(index);\n\n        this.doRemovePanel(panel);\n    }\n\n    movePanel(from: number, to: number): void {\n        this.paneview.moveView(from, to);\n    }\n\n    getPanel(id: string): PaneviewPanel | undefined {\n        return this.panels.find((view) => view.id === id);\n    }\n\n    layout(width: number, height: number): void {\n        const [size, orthogonalSize] =\n            this.paneview.orientation === Orientation.HORIZONTAL\n                ? [width, height]\n                : [height, width];\n        this.paneview.layout(size, orthogonalSize);\n    }\n\n    toJSON(): SerializedPaneview {\n        const maximum = (value: number) =>\n            value === Number.MAX_SAFE_INTEGER ||\n            value === Number.POSITIVE_INFINITY\n                ? undefined\n                : value;\n        const minimum = (value: number) => (value <= 0 ? undefined : value);\n\n        const views: SerializedPaneviewPanel[] = this.paneview\n            .getPanes()\n            .map((view, i) => {\n                const size = this.paneview.getViewSize(i);\n                return {\n                    size,\n                    data: view.toJSON(),\n                    minimumSize: minimum(view.minimumBodySize),\n                    maximumSize: maximum(view.maximumBodySize),\n                    expanded: view.isExpanded(),\n                };\n            });\n\n        return {\n            views,\n            size: this.paneview.size,\n        };\n    }\n\n    fromJSON(serializedPaneview: SerializedPaneview): void {\n        this.clear();\n\n        const { views, size } = serializedPaneview;\n\n        const queue: Function[] = [];\n\n        // take note of the existing dimensions\n        const width = this.width;\n        const height = this.height;\n\n        this.paneview = new Paneview(this.element, {\n            orientation: Orientation.VERTICAL,\n            descriptor: {\n                size,\n                views: views.map((view) => {\n                    const data = view.data;\n\n                    const body = createComponent(\n                        data.id,\n                        data.component,\n                        this.options.components ?? {},\n                        this.options.frameworkComponents ?? {},\n                        this.options.frameworkWrapper\n                            ? {\n                                  createComponent:\n                                      this.options.frameworkWrapper.body\n                                          .createComponent,\n                              }\n                            : undefined\n                    );\n\n                    let header: IPaneHeaderPart;\n\n                    if (data.headerComponent) {\n                        header = createComponent(\n                            data.id,\n                            data.headerComponent,\n                            this.options.headerComponents ?? {},\n                            this.options.headerframeworkComponents ?? {},\n                            this.options.frameworkWrapper\n                                ? {\n                                      createComponent:\n                                          this.options.frameworkWrapper.header\n                                              .createComponent,\n                                  }\n                                : undefined\n                        );\n                    } else {\n                        header = new DefaultHeader();\n                    }\n\n                    const panel = new PaneFramework({\n                        id: data.id,\n                        component: data.component,\n                        headerComponent: data.headerComponent,\n                        header,\n                        body,\n                        orientation: Orientation.VERTICAL,\n                        isExpanded: !!view.expanded,\n                        disableDnd: !!this.options.disableDnd,\n                        accessor: this,\n                    });\n\n                    this.doAddPanel(panel);\n\n                    queue.push(() => {\n                        panel.init({\n                            params: data.params ?? {},\n                            minimumBodySize: view.minimumSize,\n                            maximumBodySize: view.maximumSize,\n                            title: data.title,\n                            isExpanded: !!view.expanded,\n                            containerApi: new PaneviewApi(this),\n                        });\n                        panel.orientation = this.paneview.orientation;\n                    });\n\n                    setTimeout(() => {\n                        // the original onDidAddView events are missed since they are fired before we can subcribe to them\n                        this._onDidAddView.fire(panel);\n                    }, 0);\n\n                    return { size: view.size, view: panel };\n                }),\n            },\n        });\n\n        this.layout(width, height);\n\n        queue.forEach((f) => f());\n\n        this._onDidLayoutfromJSON.fire();\n    }\n\n    clear(): void {\n        for (const [_, value] of this._viewDisposables.entries()) {\n            value.dispose();\n        }\n        this._viewDisposables.clear();\n\n        this.paneview.dispose();\n    }\n\n    private doAddPanel(panel: PaneFramework): void {\n        const disposable = panel.onDidDrop((event) => {\n            this._onDidDrop.fire(event);\n        });\n\n        this._viewDisposables.set(panel.id, disposable);\n    }\n\n    private doRemovePanel(panel: PaneviewPanel): void {\n        const disposable = this._viewDisposables.get(panel.id);\n\n        if (disposable) {\n            disposable.dispose();\n            this._viewDisposables.delete(panel.id);\n        }\n    }\n\n    public dispose(): void {\n        super.dispose();\n\n        for (const [_, value] of this._viewDisposables.entries()) {\n            value.dispose();\n        }\n        this._viewDisposables.clear();\n\n        this.paneview.dispose();\n    }\n}\n","import { ISerializableView, PanelViewInitParameters } from './options';\nimport {\n    BasePanelView,\n    BasePanelViewExported,\n} from '../gridview/basePanelView';\nimport { SplitviewPanelApiImpl } from '../api/splitviewPanelApi';\nimport { LayoutPriority, Orientation } from './splitview';\nimport { FunctionOrValue } from '../types';\nimport { Emitter, Event } from '../events';\n\nexport interface ISplitviewPanel\n    extends BasePanelViewExported<SplitviewPanelApiImpl> {\n    readonly priority: LayoutPriority | undefined;\n    readonly minimumSize: number;\n    readonly maximumSize: number;\n    readonly snap: boolean;\n    readonly orientation: Orientation;\n}\n\nexport abstract class SplitviewPanel\n    extends BasePanelView<SplitviewPanelApiImpl>\n    implements ISerializableView, ISplitviewPanel\n{\n    private _evaluatedMinimumSize = 0;\n    private _evaluatedMaximumSize = Number.POSITIVE_INFINITY;\n\n    private _minimumSize: FunctionOrValue<number> = 0;\n    private _maximumSize: FunctionOrValue<number> = Number.POSITIVE_INFINITY;\n    private _priority?: LayoutPriority;\n    private _snap = false;\n\n    private _orientation?: Orientation;\n\n    private readonly _onDidChange = new Emitter<{\n        size?: number;\n        orthogonalSize?: number;\n    }>();\n    readonly onDidChange: Event<{ size?: number; orthogonalSize?: number }> =\n        this._onDidChange.event;\n\n    get priority(): LayoutPriority | undefined {\n        return this._priority;\n    }\n\n    set orientation(value: Orientation) {\n        this._orientation = value;\n    }\n\n    get orientation(): Orientation {\n        return this._orientation!;\n    }\n\n    get minimumSize(): number {\n        const size =\n            typeof this._minimumSize === 'function'\n                ? this._minimumSize()\n                : this._minimumSize;\n\n        if (size !== this._evaluatedMinimumSize) {\n            this._evaluatedMinimumSize = size;\n            this.updateConstraints();\n        }\n\n        return size;\n    }\n\n    get maximumSize(): number {\n        const size =\n            typeof this._maximumSize === 'function'\n                ? this._maximumSize()\n                : this._maximumSize;\n\n        if (size !== this._evaluatedMaximumSize) {\n            this._evaluatedMaximumSize = size;\n            this.updateConstraints();\n        }\n\n        return size;\n    }\n\n    get snap(): boolean {\n        return this._snap;\n    }\n\n    constructor(id: string, componentName: string) {\n        super(id, componentName, new SplitviewPanelApiImpl(id));\n\n        this.api.initialize(this);\n\n        this.addDisposables(\n            this._onDidChange,\n            this.api.onVisibilityChange((event) => {\n                const { isVisible } = event;\n                const { accessor } = this._params as PanelViewInitParameters;\n                accessor.setVisible(this, isVisible);\n            }),\n            this.api.onActiveChange(() => {\n                const { accessor } = this._params as PanelViewInitParameters;\n                accessor.setActive(this);\n            }),\n            this.api.onDidConstraintsChangeInternal((event) => {\n                if (\n                    typeof event.minimumSize === 'number' ||\n                    typeof event.minimumSize === 'function'\n                ) {\n                    this._minimumSize = event.minimumSize;\n                }\n                if (\n                    typeof event.maximumSize === 'number' ||\n                    typeof event.maximumSize === 'function'\n                ) {\n                    this._maximumSize = event.maximumSize;\n                }\n                this.updateConstraints();\n            }),\n            this.api.onDidSizeChange((event) => {\n                this._onDidChange.fire({ size: event.size });\n            })\n        );\n    }\n\n    setVisible(isVisible: boolean): void {\n        this.api._onDidVisibilityChange.fire({ isVisible });\n    }\n\n    setActive(isActive: boolean): void {\n        this.api._onDidActiveChange.fire({ isActive });\n    }\n\n    layout(size: number, orthogonalSize: number): void {\n        const [width, height] =\n            this.orientation === Orientation.HORIZONTAL\n                ? [size, orthogonalSize]\n                : [orthogonalSize, size];\n        super.layout(width, height);\n    }\n\n    init(parameters: PanelViewInitParameters): void {\n        super.init(parameters);\n\n        this._priority = parameters.priority;\n\n        if (parameters.minimumSize) {\n            this._minimumSize = parameters.minimumSize;\n        }\n        if (parameters.maximumSize) {\n            this._maximumSize = parameters.maximumSize;\n        }\n        if (parameters.snap) {\n            this._snap = parameters.snap;\n        }\n    }\n\n    toJSON() {\n        const maximum = (value: number) =>\n            value === Number.MAX_SAFE_INTEGER ||\n            value === Number.POSITIVE_INFINITY\n                ? undefined\n                : value;\n        const minimum = (value: number) => (value <= 0 ? undefined : value);\n\n        return {\n            ...super.toJSON(),\n            minimumSize: minimum(this.minimumSize),\n            maximumSize: maximum(this.maximumSize),\n        };\n    }\n\n    private updateConstraints(): void {\n        this.api._onDidConstraintsChange.fire({\n            maximumSize: this._evaluatedMaximumSize,\n            minimumSize: this._evaluatedMinimumSize,\n        });\n    }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { IFrameworkPart, IDockviewDisposable, Parameters } from 'dockview-core';\n\nexport interface ReactPortalStore {\n    addPortal: (portal: React.ReactPortal) => IDockviewDisposable;\n}\n\ninterface IPanelWrapperProps {\n    component: React.FunctionComponent<{ [key: string]: any }>;\n    componentProps: { [key: string]: any };\n}\n\ninterface IPanelWrapperRef {\n    update: (props: { [key: string]: any }) => void;\n}\n\n/**\n * This component is intended to interface between vanilla-js and React hence we need to be\n * creative in how we update props.\n * A ref of the component is exposed with an update method; which when called stores the props\n * as a ref within this component and forcefully triggers a re-render of the component using\n * the ref of props we just set on the renderered component as the props passed to the inner\n * component\n */\nconst ReactComponentBridge: React.ForwardRefRenderFunction<\n    IPanelWrapperRef,\n    IPanelWrapperProps\n> = (props, ref) => {\n    const [_, triggerRender] = React.useState<number>();\n    const _props = React.useRef<object>(props.componentProps);\n\n    React.useImperativeHandle(\n        ref,\n        () => ({\n            update: (componentProps: object) => {\n                _props.current = { ..._props.current, ...componentProps };\n                /**\n                 * setting a arbitrary piece of state within this component will\n                 * trigger a re-render.\n                 * we use this rather than updating through a prop since we can\n                 * pass a ref into the vanilla-js world.\n                 */\n                triggerRender(Date.now());\n            },\n        }),\n        []\n    );\n\n    return React.createElement(props.component, _props.current);\n};\nReactComponentBridge.displayName = 'DockviewReactJsBridge';\n\n/**\n * Since we are storing the React.Portal references in a rendered array they\n * require a key property like any other React element rendered in an array\n * to prevent excessive re-rendering\n */\nconst uniquePortalKeyGenerator = (() => {\n    let value = 1;\n    return { next: () => `dockview_react_portal_key_${(value++).toString()}` };\n})();\n\nexport const ReactPartContext = React.createContext<{}>({});\n\nexport class ReactPart<P extends object, C extends object = {}>\n    implements IFrameworkPart\n{\n    private _initialProps: Parameters = {};\n    private componentInstance?: IPanelWrapperRef;\n    private ref?: {\n        portal: React.ReactPortal;\n        disposable: IDockviewDisposable;\n    };\n    private disposed = false;\n\n    constructor(\n        private readonly parent: HTMLElement,\n        private readonly portalStore: ReactPortalStore,\n        private readonly component: React.FunctionComponent<P>,\n        private readonly parameters: P,\n        private readonly context?: C\n    ) {\n        this.createPortal();\n    }\n\n    public update(props: { [index: string]: any }) {\n        if (this.disposed) {\n            throw new Error('invalid operation: resource is already disposed');\n        }\n\n        if (!this.componentInstance) {\n            // if the component is yet to be mounted store the props\n            this._initialProps = { ...this._initialProps, ...props };\n        } else {\n            this.componentInstance.update(props);\n        }\n    }\n\n    private createPortal() {\n        if (this.disposed) {\n            throw new Error('invalid operation: resource is already disposed');\n        }\n\n        if (typeof this.component !== 'function') {\n            /**\n             * we know this isn't a React.FunctionComponent so throw an error here.\n             * if we do not intercept this the React library will throw a very obsure error\n             * for the same reason, at least at this point we will emit a sensible stacktrace.\n             */\n            throw new Error(\n                'Invalid Operation. dockview only supports React Functional Components.'\n            );\n        }\n\n        const bridgeComponent = React.createElement(\n            React.forwardRef(ReactComponentBridge),\n            {\n                component: this\n                    .component as unknown as React.FunctionComponent<{}>,\n                componentProps: this.parameters as unknown as {},\n                ref: (element: IPanelWrapperRef) => {\n                    this.componentInstance = element;\n\n                    if (Object.keys(this._initialProps).length > 0) {\n                        this.componentInstance.update(this._initialProps);\n                        this._initialProps = {}; // don't keep a reference to the users object once no longer required\n                    }\n                },\n            }\n        );\n\n        const node = this.context\n            ? React.createElement(\n                  ReactPartContext.Provider,\n                  { value: this.context },\n                  bridgeComponent\n              )\n            : bridgeComponent;\n\n        const portal = ReactDOM.createPortal(\n            node,\n            this.parent,\n            uniquePortalKeyGenerator.next()\n        );\n\n        this.ref = {\n            portal,\n            disposable: this.portalStore.addPortal(portal),\n        };\n    }\n\n    public dispose() {\n        this.ref?.disposable.dispose();\n        this.disposed = true;\n    }\n}\n\ntype PortalLifecycleHook = () => [\n    React.ReactPortal[],\n    (portal: React.ReactPortal) => IDockviewDisposable\n];\n\n/**\n * A React Hook that returns an array of portals to be rendered by the user of this hook\n * and a disposable function to add a portal. Calling dispose removes this portal from the\n * portal array\n */\nexport const usePortalsLifecycle: PortalLifecycleHook = () => {\n    const [portals, setPortals] = React.useState<React.ReactPortal[]>([]);\n\n    React.useDebugValue(`Portal count: ${portals.length}`);\n\n    const addPortal = React.useCallback((portal: React.ReactPortal) => {\n        setPortals((existingPortals) => [...existingPortals, portal]);\n        let disposed = false;\n        return {\n            dispose: () => {\n                if (disposed) {\n                    throw new Error(\n                        'invalid operation: resource already disposed'\n                    );\n                }\n                disposed = true;\n                setPortals((existingPortals) =>\n                    existingPortals.filter((p) => p !== portal)\n                );\n            },\n        };\n    }, []);\n\n    return [portals, addPortal];\n};\n\n// it does the job...\nexport function isReactElement(\n    element: unknown\n): element is React.ReactElement {\n    return !!(element as React.ReactElement)?.type;\n}\n","import * as React from 'react';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport { IDockviewPanelProps } from '../dockview/dockview';\nimport {\n    DockviewEmitter,\n    DockviewEvent,\n    PanelUpdateEvent,\n    IContentRenderer,\n    GroupPanelContentPartInitParameters,\n} from 'dockview-core';\n\nexport class ReactPanelContentPart implements IContentRenderer {\n    private _element: HTMLElement;\n    private part?: ReactPart<IDockviewPanelProps>;\n\n    private readonly _onDidFocus = new DockviewEmitter<void>();\n    readonly onDidFocus: DockviewEvent<void> = this._onDidFocus.event;\n\n    private readonly _onDidBlur = new DockviewEmitter<void>();\n    readonly onDidBlur: DockviewEvent<void> = this._onDidBlur.event;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor(\n        public readonly id: string,\n        private readonly component: React.FunctionComponent<IDockviewPanelProps>,\n        private readonly reactPortalStore: ReactPortalStore\n    ) {\n        this._element = document.createElement('div');\n        this._element.className = 'dockview-react-part';\n    }\n\n    focus(): void {\n        // TODO\n    }\n\n    public init(parameters: GroupPanelContentPartInitParameters): void {\n        this.part = new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.component,\n            {\n                params: parameters.params,\n                api: parameters.api,\n                containerApi: parameters.containerApi,\n            }\n        );\n    }\n\n    public update(event: PanelUpdateEvent) {\n        this.part?.update(event.params);\n    }\n\n    public layout(_width: number, _height: number): void {\n        // noop\n    }\n\n    public dispose(): void {\n        this._onDidFocus.dispose();\n        this._onDidBlur.dispose();\n        this.part?.dispose();\n    }\n}\n","import * as React from 'react';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport { IGroupPanelBaseProps } from './dockview';\nimport {\n    PanelUpdateEvent,\n    ITabRenderer,\n    GroupPanelPartInitParameters,\n} from 'dockview-core';\n\nexport class ReactPanelHeaderPart implements ITabRenderer {\n    private _element: HTMLElement;\n    private part?: ReactPart<IGroupPanelBaseProps>;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor(\n        public readonly id: string,\n        private readonly component: React.FunctionComponent<IGroupPanelBaseProps>,\n        private readonly reactPortalStore: ReactPortalStore\n    ) {\n        this._element = document.createElement('div');\n        this._element.className = 'dockview-react-part';\n    }\n\n    focus(): void {\n        //noop\n    }\n\n    public init(parameters: GroupPanelPartInitParameters): void {\n        this.part = new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.component,\n            {\n                params: parameters.params,\n                api: parameters.api,\n                containerApi: parameters.containerApi,\n            }\n        );\n    }\n\n    public update(event: PanelUpdateEvent): void {\n        this.part?.update(event.params);\n    }\n\n    public layout(_width: number, _height: number): void {\n        // noop - retrieval from api\n    }\n\n    public dispose(): void {\n        this.part?.dispose();\n    }\n}\n","import * as React from 'react';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport {\n    PanelUpdateEvent,\n    DockviewGroupPanel,\n    GroupPanelPartInitParameters,\n    IWatermarkRenderer,\n    WatermarkRendererInitParameters,\n    DockviewApi,\n    IDockviewGroupPanel,\n} from 'dockview-core';\n\nexport interface IWatermarkPanelProps {\n    containerApi: DockviewApi;\n    group?: IDockviewGroupPanel;\n    close: () => void;\n}\n\nexport class ReactWatermarkPart implements IWatermarkRenderer {\n    private _element: HTMLElement;\n    private part?: ReactPart<IWatermarkPanelProps>;\n    private parameters: GroupPanelPartInitParameters | undefined;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor(\n        public readonly id: string,\n        private readonly component: React.FunctionComponent<IWatermarkPanelProps>,\n        private readonly reactPortalStore: ReactPortalStore\n    ) {\n        this._element = document.createElement('div');\n        this._element.className = 'dockview-react-part';\n    }\n\n    init(parameters: WatermarkRendererInitParameters): void {\n        this.part = new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.component,\n            {\n                group: parameters.group,\n                containerApi: parameters.containerApi,\n                close: () => {\n                    if (parameters.group) {\n                        parameters.containerApi.removeGroup(parameters.group);\n                    }\n                },\n            }\n        );\n    }\n\n    focus(): void {\n        // noop\n    }\n\n    update(params: PanelUpdateEvent): void {\n        if (this.parameters) {\n            this.parameters.params = params.params;\n        }\n\n        this.part?.update({ params: this.parameters?.params ?? {} });\n    }\n\n    layout(_width: number, _height: number): void {\n        // noop - retrieval from api\n    }\n\n    updateParentGroup(\n        _group: DockviewGroupPanel,\n        _isPanelVisible: boolean\n    ): void {\n        // noop\n    }\n\n    dispose(): void {\n        this.part?.dispose();\n    }\n}\n","import * as React from 'react';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport {\n    IDockviewPanel,\n    DockviewCompositeDisposable,\n    DockviewMutableDisposable,\n    DockviewApi,\n    DockviewGroupPanel,\n    DockviewGroupPanelApi,\n    PanelUpdateEvent,\n} from 'dockview-core';\n\nexport interface IDockviewHeaderActionsProps {\n    api: DockviewGroupPanelApi;\n    containerApi: DockviewApi;\n    panels: IDockviewPanel[];\n    activePanel: IDockviewPanel | undefined;\n    isGroupActive: boolean;\n    group: DockviewGroupPanel;\n}\n\nexport class ReactHeaderActionsRendererPart {\n    private mutableDisposable = new DockviewMutableDisposable();\n    private _element: HTMLElement;\n    private _part?: ReactPart<IDockviewHeaderActionsProps>;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    get part(): ReactPart<IDockviewHeaderActionsProps> | undefined {\n        return this._part;\n    }\n\n    get group(): DockviewGroupPanel {\n        return this._group;\n    }\n\n    constructor(\n        private readonly component: React.FunctionComponent<IDockviewHeaderActionsProps>,\n        private readonly reactPortalStore: ReactPortalStore,\n        private readonly _group: DockviewGroupPanel\n    ) {\n        this._element = document.createElement('div');\n        this._element.className = 'dockview-react-part';\n    }\n\n    focus(): void {\n        // TODO\n    }\n\n    public init(parameters: {\n        containerApi: DockviewApi;\n        api: DockviewGroupPanelApi;\n    }): void {\n        this.mutableDisposable.value = new DockviewCompositeDisposable(\n            this._group.model.onDidAddPanel(() => {\n                this.updatePanels();\n            }),\n            this._group.model.onDidRemovePanel(() => {\n                this.updatePanels();\n            }),\n            this._group.model.onDidActivePanelChange(() => {\n                this.updateActivePanel();\n            }),\n            parameters.api.onDidActiveChange(() => {\n                this.updateGroupActive();\n            })\n        );\n\n        this._part = new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.component,\n            {\n                api: parameters.api,\n                containerApi: parameters.containerApi,\n                panels: this._group.model.panels,\n                activePanel: this._group.model.activePanel,\n                isGroupActive: this._group.api.isActive,\n                group: this._group,\n            }\n        );\n    }\n\n    public update(event: PanelUpdateEvent): void {\n        this._part?.update(event.params);\n    }\n\n    public dispose(): void {\n        this.mutableDisposable.dispose();\n        this._part?.dispose();\n    }\n\n    private updatePanels(): void {\n        this.update({ params: { panels: this._group.model.panels } });\n    }\n\n    private updateActivePanel(): void {\n        this.update({\n            params: {\n                activePanel: this._group.model.activePanel,\n            },\n        });\n    }\n\n    private updateGroupActive(): void {\n        this.update({\n            params: {\n                isGroupActive: this._group.api.isActive,\n            },\n        });\n    }\n}\n","import * as React from 'react';\nimport {\n    DockviewComponent,\n    DockviewDropEvent,\n    DockviewDndOverlayEvent,\n    GroupPanelFrameworkComponentFactory,\n    DockviewPanelApi,\n    DockviewApi,\n    IContentRenderer,\n    ITabRenderer,\n    DockviewGroupPanel,\n    IHeaderActionsRenderer,\n    DockviewPanelRenderer,\n} from 'dockview-core';\nimport { ReactPanelContentPart } from './reactContentPart';\nimport { ReactPanelHeaderPart } from './reactHeaderPart';\n\nimport { ReactPortalStore, usePortalsLifecycle } from '../react';\nimport { IWatermarkPanelProps, ReactWatermarkPart } from './reactWatermarkPart';\nimport { PanelCollection, PanelParameters } from '../types';\nimport {\n    IDockviewHeaderActionsProps,\n    ReactHeaderActionsRendererPart,\n} from './headerActionsRenderer';\n\nfunction createGroupControlElement(\n    component: React.FunctionComponent<IDockviewHeaderActionsProps> | undefined,\n    store: ReactPortalStore\n): ((groupPanel: DockviewGroupPanel) => IHeaderActionsRenderer) | undefined {\n    return component\n        ? (groupPanel: DockviewGroupPanel) => {\n              return new ReactHeaderActionsRendererPart(\n                  component,\n                  store,\n                  groupPanel\n              );\n          }\n        : undefined;\n}\n\nexport interface IGroupPanelBaseProps<T extends { [index: string]: any } = any>\n    extends PanelParameters<T> {\n    api: DockviewPanelApi;\n    containerApi: DockviewApi;\n}\n\nexport type IDockviewPanelHeaderProps<\n    T extends { [index: string]: any } = any\n> = IGroupPanelBaseProps<T>;\n\nexport type IDockviewPanelProps<T extends { [index: string]: any } = any> =\n    IGroupPanelBaseProps<T>;\n\nexport interface DockviewReadyEvent {\n    api: DockviewApi;\n}\n\nexport interface IDockviewReactProps {\n    onReady: (event: DockviewReadyEvent) => void;\n    components: PanelCollection<IDockviewPanelProps>;\n    tabComponents?: PanelCollection<IDockviewPanelHeaderProps>;\n    watermarkComponent?: React.FunctionComponent<IWatermarkPanelProps>;\n    onDidDrop?: (event: DockviewDropEvent) => void;\n    showDndOverlay?: (event: DockviewDndOverlayEvent) => boolean;\n    hideBorders?: boolean;\n    className?: string;\n    disableAutoResizing?: boolean;\n    defaultTabComponent?: React.FunctionComponent<IDockviewPanelHeaderProps>;\n    rightHeaderActionsComponent?: React.FunctionComponent<IDockviewHeaderActionsProps>;\n    leftHeaderActionsComponent?: React.FunctionComponent<IDockviewHeaderActionsProps>;\n    prefixHeaderActionsComponent?: React.FunctionComponent<IDockviewHeaderActionsProps>;\n    singleTabMode?: 'fullwidth' | 'default';\n    disableFloatingGroups?: boolean;\n    floatingGroupBounds?:\n        | 'boundedWithinViewport'\n        | {\n              minimumHeightWithinViewport?: number;\n              minimumWidthWithinViewport?: number;\n          };\n    debug?: boolean;\n    defaultRenderer?: DockviewPanelRenderer;\n}\n\nconst DEFAULT_REACT_TAB = 'props.defaultTabComponent';\n\nexport const DockviewReact = React.forwardRef(\n    (props: IDockviewReactProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const domRef = React.useRef<HTMLDivElement>(null);\n        const dockviewRef = React.useRef<DockviewComponent>();\n        const [portals, addPortal] = usePortalsLifecycle();\n\n        React.useImperativeHandle(ref, () => domRef.current!, []);\n\n        React.useEffect(() => {\n            if (!domRef.current) {\n                return () => {\n                    // noop\n                };\n            }\n\n            const factory: GroupPanelFrameworkComponentFactory = {\n                content: {\n                    createComponent: (\n                        _id: string,\n                        componentId: string,\n                        component: React.FunctionComponent<IDockviewPanelProps>\n                    ): IContentRenderer => {\n                        return new ReactPanelContentPart(\n                            componentId,\n                            component,\n                            {\n                                addPortal,\n                            }\n                        );\n                    },\n                },\n                tab: {\n                    createComponent: (\n                        _id: string,\n                        componentId: string,\n                        component: React.FunctionComponent<IDockviewPanelHeaderProps>\n                    ): ITabRenderer => {\n                        return new ReactPanelHeaderPart(\n                            componentId,\n                            component,\n                            {\n                                addPortal,\n                            }\n                        );\n                    },\n                },\n                watermark: {\n                    createComponent: (\n                        _id: string,\n                        componentId: string,\n                        component: React.FunctionComponent<{}>\n                    ) => {\n                        return new ReactWatermarkPart(componentId, component, {\n                            addPortal,\n                        });\n                    },\n                },\n            };\n\n            const frameworkTabComponents = props.tabComponents ?? {};\n\n            if (props.defaultTabComponent) {\n                frameworkTabComponents[DEFAULT_REACT_TAB] =\n                    props.defaultTabComponent;\n            }\n\n            const dockview = new DockviewComponent({\n                parentElement: domRef.current,\n                frameworkComponentFactory: factory,\n                frameworkComponents: props.components,\n                disableAutoResizing: props.disableAutoResizing,\n                frameworkTabComponents,\n                watermarkFrameworkComponent: props.watermarkComponent,\n                defaultTabComponent: props.defaultTabComponent\n                    ? DEFAULT_REACT_TAB\n                    : undefined,\n                styles: props.hideBorders\n                    ? { separatorBorder: 'transparent' }\n                    : undefined,\n                showDndOverlay: props.showDndOverlay,\n                createLeftHeaderActionsElement: createGroupControlElement(\n                    props.leftHeaderActionsComponent,\n                    { addPortal }\n                ),\n                createRightHeaderActionsElement: createGroupControlElement(\n                    props.rightHeaderActionsComponent,\n                    { addPortal }\n                ),\n                createPrefixHeaderActionsElement: createGroupControlElement(\n                    props.prefixHeaderActionsComponent,\n                    { addPortal }\n                ),\n                singleTabMode: props.singleTabMode,\n                disableFloatingGroups: props.disableFloatingGroups,\n                floatingGroupBounds: props.floatingGroupBounds,\n                defaultRenderer: props.defaultRenderer,\n                debug: props.debug,\n            });\n\n            const { clientWidth, clientHeight } = domRef.current;\n            dockview.layout(clientWidth, clientHeight);\n\n            if (props.onReady) {\n                props.onReady({ api: new DockviewApi(dockview) });\n            }\n\n            dockviewRef.current = dockview;\n\n            return () => {\n                dockview.dispose();\n            };\n        }, []);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return () => {\n                    // noop\n                };\n            }\n\n            const disposable = dockviewRef.current.onDidDrop((event) => {\n                if (props.onDidDrop) {\n                    props.onDidDrop(event);\n                }\n            });\n\n            return () => {\n                disposable.dispose();\n            };\n        }, [props.onDidDrop]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                frameworkComponents: props.components,\n            });\n        }, [props.components]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                floatingGroupBounds: props.floatingGroupBounds,\n            });\n        }, [props.floatingGroupBounds]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                watermarkFrameworkComponent: props.watermarkComponent,\n            });\n        }, [props.watermarkComponent]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                showDndOverlay: props.showDndOverlay,\n            });\n        }, [props.showDndOverlay]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                frameworkTabComponents: props.tabComponents,\n            });\n        }, [props.tabComponents]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                disableFloatingGroups: props.disableFloatingGroups,\n            });\n        }, [props.disableFloatingGroups]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n\n            const frameworkTabComponents = props.tabComponents ?? {};\n\n            if (props.defaultTabComponent) {\n                frameworkTabComponents[DEFAULT_REACT_TAB] =\n                    props.defaultTabComponent;\n            }\n\n            dockviewRef.current.updateOptions({\n                defaultTabComponent: props.defaultTabComponent\n                    ? DEFAULT_REACT_TAB\n                    : undefined,\n                frameworkTabComponents,\n            });\n        }, [props.defaultTabComponent]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                createRightHeaderActionsElement: createGroupControlElement(\n                    props.rightHeaderActionsComponent,\n                    { addPortal }\n                ),\n            });\n        }, [props.rightHeaderActionsComponent]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                createLeftHeaderActionsElement: createGroupControlElement(\n                    props.leftHeaderActionsComponent,\n                    { addPortal }\n                ),\n            });\n        }, [props.leftHeaderActionsComponent]);\n\n        React.useEffect(() => {\n            if (!dockviewRef.current) {\n                return;\n            }\n            dockviewRef.current.updateOptions({\n                createPrefixHeaderActionsElement: createGroupControlElement(\n                    props.prefixHeaderActionsComponent,\n                    { addPortal }\n                ),\n            });\n        }, [props.prefixHeaderActionsComponent]);\n\n        return (\n            <div\n                className={props.className}\n                style={{ height: '100%', width: '100%' }}\n                ref={domRef}\n            >\n                {portals}\n            </div>\n        );\n    }\n);\nDockviewReact.displayName = 'DockviewComponent';\n","import * as React from 'react';\n\nexport const CloseButton = () => (\n    <svg\n        height=\"11\"\n        width=\"11\"\n        viewBox=\"0 0 28 28\"\n        aria-hidden={'false'}\n        focusable={false}\n        className=\"dockview-svg\"\n    >\n        <path d=\"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z\"></path>\n    </svg>\n);\n\nexport const ExpandMore = () => {\n    return (\n        <svg\n            width=\"11\"\n            height=\"11\"\n            viewBox=\"0 0 24 15\"\n            aria-hidden={'false'}\n            focusable={false}\n            className=\"dockview-svg\"\n        >\n            <path d=\"M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z\" />\n        </svg>\n    );\n};\n","import { IDockviewPanelHeaderProps } from './dockview';\nimport * as React from 'react';\nimport { CloseButton } from '../svg';\n\nexport type IDockviewDefaultTabProps = IDockviewPanelHeaderProps &\n    React.DOMAttributes<HTMLDivElement> & {\n        hideClose?: boolean;\n        closeActionOverride?: () => void;\n    };\n\nexport const DockviewDefaultTab: React.FunctionComponent<\n    IDockviewDefaultTabProps\n> = ({\n    api,\n    containerApi: _containerApi,\n    params: _params,\n    hideClose,\n    closeActionOverride,\n    ...rest\n}) => {\n    const onClose = React.useCallback(\n        (event: React.MouseEvent<HTMLSpanElement>) => {\n            event.preventDefault();\n\n            if (closeActionOverride) {\n                closeActionOverride();\n            } else {\n                api.close();\n            }\n        },\n        [api, closeActionOverride]\n    );\n\n    const onMouseDown = React.useCallback((e: React.MouseEvent) => {\n        e.preventDefault();\n    }, []);\n\n    const onClick = React.useCallback(\n        (event: React.MouseEvent<HTMLDivElement>) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n\n            api.setActive();\n\n            if (rest.onClick) {\n                rest.onClick(event);\n            }\n        },\n        [api, rest.onClick]\n    );\n\n    return (\n        <div\n            data-testid=\"dockview-default-tab\"\n            {...rest}\n            onClick={onClick}\n            className=\"dockview-react-tab\"\n        >\n            <span className=\"dockview-react-tab-title\">{api.title}</span>\n            {!hideClose && (\n                <div\n                    className=\"dv-react-tab-close-btn\"\n                    onMouseDown={onMouseDown}\n                    onClick={onClose}\n                >\n                    <CloseButton />\n                </div>\n            )}\n        </div>\n    );\n};\n","import {\n    SplitviewApi,\n    PanelViewInitParameters,\n    SplitviewPanel,\n} from 'dockview-core';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport { ISplitviewPanelProps } from './splitview';\n\nexport class ReactPanelView extends SplitviewPanel {\n    constructor(\n        id: string,\n        component: string,\n        private readonly reactComponent: React.FunctionComponent<ISplitviewPanelProps>,\n        private readonly reactPortalStore: ReactPortalStore\n    ) {\n        super(id, component);\n    }\n\n    getComponent(): ReactPart<ISplitviewPanelProps> {\n        return new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.reactComponent,\n            {\n                params: this._params?.params ?? {},\n                api: this.api,\n                containerApi: new SplitviewApi(\n                    (this._params as PanelViewInitParameters).accessor\n                ),\n            }\n        );\n    }\n}\n","import * as React from 'react';\nimport {\n    SplitviewApi,\n    SplitviewPanelApi,\n    ISplitviewComponent,\n    SplitviewComponent,\n    Orientation,\n} from 'dockview-core';\nimport { usePortalsLifecycle } from '../react';\nimport { PanelCollection, PanelParameters } from '../types';\nimport { ReactPanelView } from './view';\n\nexport interface SplitviewReadyEvent {\n    api: SplitviewApi;\n}\n\nexport interface ISplitviewPanelProps<T extends { [index: string]: any } = any>\n    extends PanelParameters<T> {\n    api: SplitviewPanelApi;\n    containerApi: SplitviewApi;\n}\n\nexport interface ISplitviewReactProps {\n    orientation?: Orientation;\n    onReady: (event: SplitviewReadyEvent) => void;\n    components: PanelCollection<ISplitviewPanelProps>;\n    proportionalLayout?: boolean;\n    hideBorders?: boolean;\n    className?: string;\n    disableAutoResizing?: boolean;\n}\n\nexport const SplitviewReact = React.forwardRef(\n    (props: ISplitviewReactProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const domRef = React.useRef<HTMLDivElement>(null);\n        const splitviewRef = React.useRef<ISplitviewComponent>();\n        const [portals, addPortal] = usePortalsLifecycle();\n\n        React.useImperativeHandle(ref, () => domRef.current!, []);\n\n        React.useEffect(() => {\n            const splitview = new SplitviewComponent({\n                parentElement: domRef.current!,\n                disableAutoResizing: props.disableAutoResizing,\n                orientation: props.orientation ?? Orientation.HORIZONTAL,\n                frameworkComponents: props.components,\n                frameworkWrapper: {\n                    createComponent: (\n                        id: string,\n                        componentId,\n                        component: any\n                    ) => {\n                        return new ReactPanelView(id, componentId, component, {\n                            addPortal,\n                        });\n                    },\n                },\n                proportionalLayout:\n                    typeof props.proportionalLayout === 'boolean'\n                        ? props.proportionalLayout\n                        : true,\n                styles: props.hideBorders\n                    ? { separatorBorder: 'transparent' }\n                    : undefined,\n            });\n\n            const { clientWidth, clientHeight } = domRef.current!;\n            splitview.layout(clientWidth, clientHeight);\n\n            if (props.onReady) {\n                props.onReady({ api: new SplitviewApi(splitview) });\n            }\n\n            splitviewRef.current = splitview;\n\n            return () => {\n                splitview.dispose();\n            };\n        }, []);\n\n        React.useEffect(() => {\n            if (!splitviewRef.current) {\n                return;\n            }\n            splitviewRef.current.updateOptions({\n                frameworkComponents: props.components,\n            });\n        }, [props.components]);\n\n        return (\n            <div\n                className={props.className}\n                style={{ height: '100%', width: '100%' }}\n                ref={domRef}\n            >\n                {portals}\n            </div>\n        );\n    }\n);\nSplitviewReact.displayName = 'SplitviewComponent';\n","import {\n    GridviewApi,\n    GridviewPanel,\n    GridviewInitParameters,\n    IFrameworkPart,\n} from 'dockview-core';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport { IGridviewPanelProps } from './gridview';\n\nexport class ReactGridPanelView extends GridviewPanel {\n    constructor(\n        id: string,\n        component: string,\n        private readonly reactComponent: React.FunctionComponent<IGridviewPanelProps>,\n        private readonly reactPortalStore: ReactPortalStore\n    ) {\n        super(id, component);\n    }\n\n    getComponent(): IFrameworkPart {\n        return new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.reactComponent,\n            {\n                params: this._params?.params ?? {},\n                api: this.api,\n                containerApi: new GridviewApi(\n                    (this._params as GridviewInitParameters).accessor\n                ),\n            }\n        );\n    }\n}\n","import * as React from 'react';\nimport {\n    GridviewComponent,\n    IGridviewComponent,\n    GridviewPanelApi,\n    Orientation,\n    GridviewApi,\n} from 'dockview-core';\nimport { ReactGridPanelView } from './view';\nimport { usePortalsLifecycle } from '../react';\nimport { PanelCollection, PanelParameters } from '../types';\n\nexport interface GridviewReadyEvent {\n    api: GridviewApi;\n}\n\nexport interface IGridviewPanelProps<T extends { [index: string]: any } = any>\n    extends PanelParameters<T> {\n    api: GridviewPanelApi;\n    containerApi: GridviewApi;\n}\n\nexport interface IGridviewReactProps {\n    orientation?: Orientation;\n    onReady: (event: GridviewReadyEvent) => void;\n    components: PanelCollection<IGridviewPanelProps>;\n    hideBorders?: boolean;\n    className?: string;\n    proportionalLayout?: boolean;\n    disableAutoResizing?: boolean;\n}\n\nexport const GridviewReact = React.forwardRef(\n    (props: IGridviewReactProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const domRef = React.useRef<HTMLDivElement>(null);\n        const gridviewRef = React.useRef<IGridviewComponent>();\n        const [portals, addPortal] = usePortalsLifecycle();\n\n        React.useImperativeHandle(ref, () => domRef.current!, []);\n\n        React.useEffect(() => {\n            if (!domRef.current) {\n                return () => {\n                    // noop\n                };\n            }\n\n            const gridview = new GridviewComponent({\n                parentElement: domRef.current,\n                disableAutoResizing: props.disableAutoResizing,\n                proportionalLayout:\n                    typeof props.proportionalLayout === 'boolean'\n                        ? props.proportionalLayout\n                        : true,\n                orientation: props.orientation ?? Orientation.HORIZONTAL,\n                frameworkComponents: props.components,\n                frameworkComponentFactory: {\n                    createComponent: (id: string, componentId, component) => {\n                        return new ReactGridPanelView(\n                            id,\n                            componentId,\n                            component,\n                            {\n                                addPortal,\n                            }\n                        );\n                    },\n                },\n                styles: props.hideBorders\n                    ? { separatorBorder: 'transparent' }\n                    : undefined,\n            });\n\n            const { clientWidth, clientHeight } = domRef.current;\n            gridview.layout(clientWidth, clientHeight);\n\n            if (props.onReady) {\n                props.onReady({ api: new GridviewApi(gridview) });\n            }\n\n            gridviewRef.current = gridview;\n\n            return () => {\n                gridview.dispose();\n            };\n        }, []);\n\n        React.useEffect(() => {\n            if (!gridviewRef.current) {\n                return;\n            }\n            gridviewRef.current.updateOptions({\n                frameworkComponents: props.components,\n            });\n        }, [props.components]);\n\n        return (\n            <div\n                className={props.className}\n                style={{ height: '100%', width: '100%' }}\n                ref={domRef}\n            >\n                {portals}\n            </div>\n        );\n    }\n);\nGridviewReact.displayName = 'GridviewComponent';\n","import * as React from 'react';\nimport {\n    PanelUpdateEvent,\n    IPaneBodyPart,\n    PanePanelComponentInitParameter,\n} from 'dockview-core';\nimport { ReactPart, ReactPortalStore } from '../react';\nimport { IPaneviewPanelProps } from './paneview';\n\nexport class PanePanelSection implements IPaneBodyPart {\n    private _element: HTMLElement;\n    private part?: ReactPart<IPaneviewPanelProps>;\n\n    get element() {\n        return this._element;\n    }\n\n    constructor(\n        public readonly id: string,\n        private readonly component: React.FunctionComponent<IPaneviewPanelProps>,\n        private readonly reactPortalStore: ReactPortalStore\n    ) {\n        this._element = document.createElement('div');\n        this._element.style.height = '100%';\n        this._element.style.width = '100%';\n    }\n\n    public init(parameters: PanePanelComponentInitParameter): void {\n        this.part = new ReactPart(\n            this.element,\n            this.reactPortalStore,\n            this.component,\n            {\n                params: parameters.params,\n                api: parameters.api,\n                title: parameters.title,\n                containerApi: parameters.containerApi,\n            }\n        );\n    }\n\n    public toJSON() {\n        return {\n            id: this.id,\n        };\n    }\n\n    public update(params: PanelUpdateEvent) {\n        this.part?.update(params.params);\n    }\n\n    public dispose() {\n        this.part?.dispose();\n    }\n}\n","import * as React from 'react';\nimport {\n    PaneviewPanelApi,\n    PaneviewComponent,\n    IPaneviewComponent,\n    PaneviewDndOverlayEvent,\n    PaneviewApi,\n    PaneviewDropEvent,\n} from 'dockview-core';\nimport { usePortalsLifecycle } from '../react';\nimport { PanePanelSection } from './view';\nimport { PanelCollection, PanelParameters } from '../types';\n\nexport interface PaneviewReadyEvent {\n    api: PaneviewApi;\n}\n\nexport interface IPaneviewPanelProps<T extends { [index: string]: any } = any>\n    extends PanelParameters<T> {\n    api: PaneviewPanelApi;\n    containerApi: PaneviewApi;\n    title: string;\n}\n\nexport interface IPaneviewReactProps {\n    onReady: (event: PaneviewReadyEvent) => void;\n    components: PanelCollection<IPaneviewPanelProps>;\n    headerComponents?: PanelCollection<IPaneviewPanelProps>;\n    className?: string;\n    disableAutoResizing?: boolean;\n    disableDnd?: boolean;\n    showDndOverlay?: (event: PaneviewDndOverlayEvent) => boolean;\n    onDidDrop?(event: PaneviewDropEvent): void;\n}\n\nexport const PaneviewReact = React.forwardRef(\n    (props: IPaneviewReactProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const domRef = React.useRef<HTMLDivElement>(null);\n        const paneviewRef = React.useRef<IPaneviewComponent>();\n        const [portals, addPortal] = usePortalsLifecycle();\n\n        React.useImperativeHandle(ref, () => domRef.current!, []);\n\n        React.useEffect(() => {\n            const createComponent = (\n                id: string,\n                _componentId: string,\n                component: any\n            ) =>\n                new PanePanelSection(id, component, {\n                    addPortal,\n                });\n\n            const paneview = new PaneviewComponent({\n                parentElement: domRef.current!,\n                disableAutoResizing: props.disableAutoResizing,\n                frameworkComponents: props.components,\n                components: {},\n                headerComponents: {},\n                disableDnd: props.disableDnd,\n                headerframeworkComponents: props.headerComponents,\n                frameworkWrapper: {\n                    header: {\n                        createComponent,\n                    },\n                    body: {\n                        createComponent,\n                    },\n                },\n                showDndOverlay: props.showDndOverlay,\n            });\n\n            const api = new PaneviewApi(paneview);\n\n            const { clientWidth, clientHeight } = domRef.current!;\n            paneview.layout(clientWidth, clientHeight);\n\n            if (props.onReady) {\n                props.onReady({ api });\n            }\n\n            paneviewRef.current = paneview;\n\n            return () => {\n                paneview.dispose();\n            };\n        }, []);\n\n        React.useEffect(() => {\n            if (!paneviewRef.current) {\n                return;\n            }\n            paneviewRef.current.updateOptions({\n                frameworkComponents: props.components,\n            });\n        }, [props.components]);\n\n        React.useEffect(() => {\n            if (!paneviewRef.current) {\n                return;\n            }\n            paneviewRef.current.updateOptions({\n                headerframeworkComponents: props.headerComponents,\n            });\n        }, [props.headerComponents]);\n\n        React.useEffect(() => {\n            if (!paneviewRef.current) {\n                return () => {\n                    //\n                };\n            }\n\n            const paneview = paneviewRef.current;\n\n            const disposable = paneview.onDidDrop((event) => {\n                if (props.onDidDrop) {\n                    props.onDidDrop({\n                        ...event,\n                        api: new PaneviewApi(paneview),\n                    });\n                }\n            });\n\n            return () => {\n                disposable.dispose();\n            };\n        }, [props.onDidDrop]);\n\n        React.useEffect(() => {\n            if (!paneviewRef.current) {\n                return;\n            }\n            paneviewRef.current.updateOptions({\n                showDndOverlay: props.showDndOverlay,\n            });\n        }, [props.showDndOverlay]);\n\n        return (\n            <div\n                className={props.className}\n                style={{ height: '100%', width: '100%' }}\n                ref={domRef}\n            >\n                {portals}\n            </div>\n        );\n    }\n);\nPaneviewReact.displayName = 'PaneviewComponent';\n","import {\n    DockviewApi,\n    DockviewReact,\n    DockviewReadyEvent,\n    GridConstraintChangeEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps) => {\n        const [contraints, setContraints] =\n            React.useState<GridConstraintChangeEvent | null>(null);\n\n        React.useEffect(() => {\n            props.api.group.api.onDidConstraintsChange((event) => {\n                setContraints(event);\n            });\n        }, []);\n\n        const onClick = () => {\n            props.api.group.api.setConstraints({\n                maximumWidth: 300,\n                maximumHeight: 300,\n            });\n        };\n\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                    color: 'white',\n                }}\n            >\n                <button onClick={onClick}>Set</button>\n                {contraints && (\n                    <div style={{ fontSize: '13px' }}>\n                        {typeof contraints.maximumHeight === 'number' && (\n                            <div\n                                style={{\n                                    border: '1px solid grey',\n                                    margin: '2px',\n                                    padding: '1px',\n                                }}\n                            >\n                                <span\n                                    style={{ color: 'grey' }}\n                                >{`Maximum Height: `}</span>\n                                <span>{`${contraints.maximumHeight}px`}</span>\n                            </div>\n                        )}\n                        {typeof contraints.minimumHeight === 'number' && (\n                            <div\n                                style={{\n                                    border: '1px solid grey',\n                                    margin: '2px',\n                                    padding: '1px',\n                                }}\n                            >\n                                <span\n                                    style={{ color: 'grey' }}\n                                >{`Minimum Height: `}</span>\n                                <span>{`${contraints.minimumHeight}px`}</span>\n                            </div>\n                        )}\n                        {typeof contraints.maximumWidth === 'number' && (\n                            <div\n                                style={{\n                                    border: '1px solid grey',\n                                    margin: '2px',\n                                    padding: '1px',\n                                }}\n                            >\n                                <span\n                                    style={{ color: 'grey' }}\n                                >{`Maximum Width: `}</span>\n                                <span>{`${contraints.maximumWidth}px`}</span>\n                            </div>\n                        )}\n                        {typeof contraints.minimumWidth === 'number' && (\n                            <div\n                                style={{\n                                    border: '1px solid grey',\n                                    margin: '2px',\n                                    padding: '1px',\n                                }}\n                            >\n                                <span\n                                    style={{ color: 'grey' }}\n                                >{`Minimum Width: `}</span>\n                                <span>{`${contraints.minimumWidth}px`}</span>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        );\n    },\n};\n\nconst App = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel1 = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n        });\n\n        const panel2 = event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            position: {\n                referencePanel: panel1,\n                direction: 'right',\n            },\n        });\n\n        const panel3 = event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            position: {\n                referencePanel: panel2,\n                direction: 'right',\n            },\n        });\n\n        const panel4 = event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            position: {\n                direction: 'below',\n            },\n        });\n    };\n\n    return (\n        <DockviewReact\n            onReady={onReady}\n            components={components}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n        />\n    );\n};\n\nexport default App;\n","import {\n    DockviewDefaultTab,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelHeaderProps,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\ninterface CustomProps {\n    valueA: string;\n}\n\nconst components = {\n    default: (props: IDockviewPanelProps<CustomProps>) => {\n        return <div style={{ padding: '20px' }}>{props.api.title}</div>;\n    },\n};\n\nconst headerComponents = {\n    default: (props: IDockviewPanelHeaderProps<CustomProps>) => {\n        const onContextMenu = (event: React.MouseEvent) => {\n            event.preventDefault();\n            alert(\n                `This custom header was parsed the params ${JSON.stringify(\n                    props.params\n                )}`\n            );\n        };\n        return <DockviewDefaultTab onContextMenu={onContextMenu} {...props} />;\n    },\n};\n\nconst CustomHeadersDockview = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            title: 'Panel 1',\n            params: {\n                valueA: 'test value',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            title: 'Panel 2',\n            params: {\n                valueA: 'test value',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            title: 'Panel 3',\n            params: {\n                valueA: 'test value',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            title: 'Panel 4',\n            position: { referencePanel: 'panel_3', direction: 'right' },\n            params: {\n                valueA: 'test value',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            title: 'Panel 5',\n            position: { referencePanel: 'panel_4', direction: 'within' },\n            params: {\n                valueA: 'test value',\n            },\n        });\n        const panel6 = event.api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            title: 'Panel 6',\n            position: { referencePanel: 'panel_4', direction: 'below' },\n            params: {\n                valueA: 'test value',\n            },\n        });\n        panel6.group.locked = true;\n        panel6.group.header.hidden = true;\n        event.api.addPanel({\n            id: 'panel_7',\n            component: 'default',\n            title: 'Panel 7',\n            position: { referencePanel: 'panel_6', direction: 'right' },\n            params: {\n                valueA: 'test value',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel_8',\n            component: 'default',\n\n            title: 'Panel 8',\n            position: { referencePanel: 'panel_7', direction: 'within' },\n            params: {\n                valueA: 'test value',\n            },\n        });\n\n        event.api.addGroup();\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            defaultTabComponent={headerComponents.default}\n            onReady={onReady}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n        />\n    );\n};\n\nexport default CustomHeadersDockview;\n","import {\n    DockviewApi,\n    DockviewDndOverlayEvent,\n    DockviewDropEvent,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n    positionToDirection,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px' }}>\n                <div>{props.params.title}</div>\n            </div>\n        );\n    },\n};\n\nconst DraggableElement = () => (\n    <span\n        tabIndex={-1}\n        onDragStart={(event) => {\n            if (event.dataTransfer) {\n                event.dataTransfer.effectAllowed = 'move';\n\n                event.dataTransfer.setData('text/plain', 'nothing');\n            }\n        }}\n        style={{\n            backgroundColor: 'orange',\n            padding: '0px 8px',\n            borderRadius: '4px',\n            width: '100px',\n            cursor: 'pointer',\n        }}\n        draggable={true}\n    >\n        Drag me into the dock\n    </span>\n);\n\nconst DndDockview = (props: { renderVisibleOnly: boolean; theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n\n    React.useEffect(() => {\n        if (!api) {\n            return;\n        }\n\n        api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            params: {\n                title: 'Panel 3',\n            },\n        });\n\n        api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        const panelDragDisposable = api.onWillDragPanel((event) => {\n            const dataTransfer = event.nativeEvent.dataTransfer;\n\n            if (dataTransfer) {\n                dataTransfer.setData(\n                    'text/plain',\n                    'Some custom panel data transfer data'\n                );\n                dataTransfer.setData(\n                    'text/json',\n                    '{text: \"Some custom panel data transfer data\"}'\n                );\n            }\n        });\n\n        const groupDragDisposable = api.onWillDragGroup((event) => {\n            const dataTransfer = event.nativeEvent.dataTransfer;\n\n            if (dataTransfer) {\n                dataTransfer.setData(\n                    'text/plain',\n                    'Some custom group data transfer data'\n                );\n                dataTransfer.setData(\n                    'text/json',\n                    '{text: \"Some custom group data transfer data\"}'\n                );\n            }\n        });\n\n        return () => {\n            panelDragDisposable.dispose();\n            groupDragDisposable.dispose();\n        };\n    }, [api]);\n\n    const onReady = (event: DockviewReadyEvent) => {\n        setApi(event.api);\n    };\n\n    const onDidDrop = (event: DockviewDropEvent) => {\n        event.api.addPanel({\n            id: 'test',\n            component: 'default',\n            position: {\n                direction: positionToDirection(event.position),\n                referenceGroup: event.group || undefined,\n            },\n        });\n    };\n\n    const showDndOverlay = (event: DockviewDndOverlayEvent) => {\n        return true;\n    };\n\n    const onDrop = (event: React.DragEvent) => {\n        const dataTransfer = event.dataTransfer;\n\n        let text = 'The following dataTransfer data was found:\\n';\n\n        for (let i = 0; i < dataTransfer.items.length; i++) {\n            const item = dataTransfer.items[i];\n            const value = dataTransfer.getData(item.type);\n            text += `type=${item.type},data=${value}\\n`;\n        }\n\n        alert(text);\n    };\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div style={{ margin: '2px 0px' }}>\n                <DraggableElement />\n                <div\n                    style={{\n                        padding: '0px 4px',\n                        backgroundColor: 'black',\n                        borderRadius: '2px',\n                        color: 'white',\n                    }}\n                    onDrop={onDrop}\n                >\n                    Drop a tab or group here to inspect the attached metadata\n                </div>\n            </div>\n            <DockviewReact\n                components={components}\n                onReady={onReady}\n                className={`${props.theme || 'dockview-theme-abyss'}`}\n                onDidDrop={onDidDrop}\n                showDndOverlay={showDndOverlay}\n            />\n        </div>\n    );\n};\n\nexport default DndDockview;\n","import * as React from 'react';\nimport './console.scss';\n\nconst formatTime = (now: Date) => {\n    const pad = (x: number) => (x < 10 ? `0${x}` : `${x}`);\n\n    return `${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(\n        now.getSeconds()\n    )}.${now.getMilliseconds()}`;\n};\n\nexport interface Line {\n    timestamp: Date;\n    text: string;\n    css?: React.CSSProperties;\n}\n\nexport interface IConsoleProps {\n    lines: Line[];\n}\n\nexport const Console = (props: IConsoleProps) => {\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    React.useLayoutEffect(() => {\n        if (!ref.current) {\n            return;\n        }\n\n        ref.current.scrollTop = Math.max(\n            0,\n            ref.current.scrollHeight - ref.current.clientHeight\n        );\n    }, [props.lines]);\n\n    return (\n        <div ref={ref} className=\"console-container\">\n            {props.lines.map((line, i) => {\n                return (\n                    <div key={i} className=\"console-line\">\n                        <span className=\"console-line-timestamp\">\n                            {formatTime(line.timestamp)}\n                        </span>\n                        <span className=\"console-line-text\" style={line.css}>\n                            {line.text}\n                        </span>\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n","import {\n    Orientation,\n    DockviewReact,\n    DockviewReadyEvent,\n    DockviewApi,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport { Console, Line } from './console';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return <div style={{ padding: '20px' }}>{props.params.title}</div>;\n    },\n};\n\nconst EventsDockview = (props: { theme?: string }) => {\n    const [lines, setLines] = React.useState<Line[]>([]);\n    const [checked, setChecked] = React.useState<boolean>(false);\n\n    const [api, setApi] = React.useState<DockviewApi | undefined>();\n\n    React.useEffect(() => {\n        if (!api) {\n            return () => {\n                //noop\n            };\n        }\n\n        const disposables = [\n            api.onDidAddPanel((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    {\n                        timestamp: new Date(),\n                        text: `onDidAddPanel: ${panel.id}`,\n                    },\n                ]);\n            }),\n            api.onDidRemovePanel((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    {\n                        timestamp: new Date(),\n                        text: `onDidRemovePanel: ${panel.id}`,\n                    },\n                ]);\n            }),\n            api.onDidActivePanelChange((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    {\n                        timestamp: new Date(),\n                        text: `onDidActivePanelChange: ${panel?.id}`,\n                    },\n                ]);\n            }),\n            api.onDidAddGroup((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    {\n                        timestamp: new Date(),\n                        text: `onDidAddGroup: ${panel.id}`,\n                    },\n                ]);\n            }),\n            api.onDidRemoveGroup((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    {\n                        timestamp: new Date(),\n                        text: `onDidRemoveGroup: ${panel.id}`,\n                    },\n                ]);\n            }),\n            api.onDidActiveGroupChange((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    {\n                        timestamp: new Date(),\n                        text: `onDidActiveGroupChange: ${panel?.id}`,\n                    },\n                ]);\n            }),\n            api.onDidLayoutChange((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    { timestamp: new Date(), text: `onDidLayoutChange` },\n                ]);\n            }),\n            api.onDidLayoutFromJSON((panel) => {\n                setLines((lines) => [\n                    ...lines,\n                    { timestamp: new Date(), text: `onDidLayoutFromJSON` },\n                ]);\n            }),\n        ];\n\n        return () => {\n            disposables.forEach((disposable) => disposable.dispose());\n        };\n    }, [api]);\n\n    React.useEffect(() => {\n        if (!api) {\n            return;\n        }\n\n        setLines((lines) => [\n            ...lines,\n            {\n                timestamp: new Date(),\n                text: `Rebuilding view fromJSON:${checked}`,\n                css: { color: 'yellow', backgroundColor: 'grey' },\n            },\n        ]);\n\n        if (checked) {\n            api.fromJSON({\n                grid: {\n                    root: {\n                        type: 'branch',\n                        data: [\n                            {\n                                type: 'leaf',\n                                data: {\n                                    views: ['panel_1', 'panel_2', 'panel_3'],\n                                    activeView: 'panel_3',\n                                    id: '77',\n                                },\n                                size: 262,\n                            },\n                            {\n                                type: 'branch',\n                                data: [\n                                    {\n                                        type: 'leaf',\n                                        data: {\n                                            views: ['panel_5'],\n                                            activeView: 'panel_5',\n                                            id: '79',\n                                        },\n                                        size: 100,\n                                    },\n                                    {\n                                        type: 'leaf',\n                                        data: {\n                                            views: ['panel_6', 'panel_8'],\n                                            activeView: 'panel_8',\n                                            id: '80',\n                                        },\n                                        size: 100,\n                                    },\n                                    {\n                                        type: 'leaf',\n                                        data: {\n                                            views: ['panel_7'],\n                                            activeView: 'panel_7',\n                                            id: '81',\n                                        },\n                                        size: 100,\n                                    },\n                                ],\n                                size: 262,\n                            },\n                            {\n                                type: 'leaf',\n                                data: {\n                                    views: ['panel_4'],\n                                    activeView: 'panel_4',\n                                    id: '78',\n                                },\n                                size: 263.75,\n                            },\n                        ],\n                        size: 300,\n                    },\n                    width: 787.75,\n                    height: 300,\n                    orientation: Orientation.HORIZONTAL,\n                },\n                panels: {\n                    panel_1: {\n                        id: 'panel_1',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 1' },\n                        title: 'panel_1',\n                    },\n                    panel_2: {\n                        id: 'panel_2',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 2' },\n                        title: 'panel_2',\n                    },\n                    panel_3: {\n                        id: 'panel_3',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 3' },\n                        title: 'panel_3',\n                    },\n                    panel_4: {\n                        id: 'panel_4',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 4' },\n                        title: 'panel_4',\n                    },\n                    panel_5: {\n                        id: 'panel_5',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 5' },\n                        title: 'panel_5',\n                    },\n                    panel_6: {\n                        id: 'panel_6',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 6' },\n                        title: 'panel_6',\n                    },\n                    panel_8: {\n                        id: 'panel_8',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 8' },\n                        title: 'panel_8',\n                    },\n                    panel_7: {\n                        id: 'panel_7',\n                        contentComponent: 'default',\n                        params: { title: 'Panel 7' },\n                        title: 'panel_7',\n                    },\n                },\n                activeGroup: '80',\n            });\n            return;\n        }\n\n        api.clear();\n\n        api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            params: {\n                title: 'Panel 3',\n            },\n        });\n\n        api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            params: {\n                title: 'Panel 5',\n            },\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n\n        api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            params: {\n                title: 'Panel 6',\n            },\n            position: { referencePanel: 'panel_5', direction: 'below' },\n        });\n\n        api.addPanel({\n            id: 'panel_7',\n            component: 'default',\n            params: {\n                title: 'Panel 7',\n            },\n            position: { referencePanel: 'panel_6', direction: 'below' },\n        });\n\n        api.addPanel({\n            id: 'panel_8',\n            component: 'default',\n            params: {\n                title: 'Panel 8',\n            },\n            position: { referencePanel: 'panel_6', direction: 'within' },\n        });\n    }, [api, checked]);\n\n    const onReady = (event: DockviewReadyEvent) => {\n        setApi(event.api);\n    };\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div>\n                <label>\n                    <input\n                        type=\"checkbox\"\n                        checked={checked}\n                        onChange={(e) => setChecked(e.target.checked)}\n                    />\n                    <span>{'fromJSON'}</span>\n                </label>\n                <button onClick={() => setLines([])}>Clear logs</button>\n            </div>\n            <div style={{ flexGrow: 1 }}>\n                <DockviewReact\n                    components={components}\n                    onReady={onReady}\n                    className={`${props.theme || 'dockview-theme-abyss'}`}\n                />\n            </div>\n            <div style={{ height: '200px', paddingTop: '5px' }}>\n                <Console lines={lines} />\n            </div>\n        </div>\n    );\n};\n\nexport default EventsDockview;\n","import { useState } from 'react';\nimport { Tree } from '@minoru/react-dnd-treeview';\nimport * as React from 'react';\n\nconst SampleData = [\n    {\n        id: 1,\n        parent: 0,\n        droppable: true,\n        text: 'Folder 1',\n    },\n    {\n        id: 2,\n        parent: 1,\n        droppable: false,\n        text: 'File 1-1',\n    },\n    {\n        id: 3,\n        parent: 1,\n        droppable: false,\n        text: 'File 1-2',\n    },\n    {\n        id: 4,\n        parent: 0,\n        droppable: true,\n        text: 'Folder 2',\n    },\n    {\n        id: 5,\n        parent: 4,\n        droppable: true,\n        text: 'Folder 2-1',\n    },\n    {\n        id: 6,\n        parent: 5,\n        droppable: false,\n        text: 'File 2-1-1',\n    },\n    {\n        id: 7,\n        parent: 0,\n        droppable: false,\n        text: 'File 3',\n    },\n];\n\nconst TreeComponent = () => {\n    const [treeData, setTreeData] = useState(SampleData);\n    const handleDrop = (newTreeData: any) => {\n        setTreeData(newTreeData);\n    };\n    return (\n        <Tree\n            tree={treeData}\n            rootId={0}\n            onDrop={handleDrop}\n            onDragEnd={(event) => console.log('onDragEnd', event)}\n            render={(node, { depth, isOpen, onToggle }) => (\n                <div style={{ marginLeft: depth * 10 }}>\n                    {node.droppable && (\n                        <span onClick={onToggle}>{isOpen ? '[-]' : '[+]'}</span>\n                    )}\n                    {node.text}\n                </div>\n            )}\n        />\n    );\n};\n\nexport default TreeComponent;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport TreeComponent from './treeview';\nimport { getBackendOptions, MultiBackend } from '@minoru/react-dnd-treeview';\nimport { DndProvider } from 'react-dnd';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {props.params.title}\n            </div>\n        );\n    },\n    treeview: () => {\n        return (\n            <div style={{ color: 'white' }}>\n                <TreeComponent />\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        panel.group.locked = true;\n        panel.group.header.hidden = true;\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'treeview',\n        });\n\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        const panel5 = event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            params: {\n                title: 'Panel 5',\n            },\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n\n        // panel5.group!.model.header.hidden = true;\n        // panel5.group!.model.locked = true;\n\n        event.api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            params: {\n                title: 'Panel 6',\n            },\n            position: { referencePanel: 'panel_5', direction: 'below' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_7',\n            component: 'default',\n            params: {\n                title: 'Panel 7',\n            },\n            position: { referencePanel: 'panel_6', direction: 'right' },\n        });\n    };\n\n    return (\n        <DndProvider backend={MultiBackend} options={getBackendOptions()}>\n            <DockviewReact\n                components={components}\n                onReady={onReady}\n                className={`${props.theme || 'dockview-theme-abyss'}`}\n            />\n        </DndProvider>\n    );\n};\n\nexport default App;\n","import * as React from 'react';\n\nexport const Icon = (props: {\n    icon: string;\n    title?: string;\n    onClick?: (event: React.MouseEvent) => void;\n}) => {\n    return (\n        <div\n            title={props.title}\n            style={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                width: '30px',\n                height: '100%',\n\n                fontSize: '18px',\n            }}\n            onClick={props.onClick}\n        >\n            <span\n                style={{ fontSize: 'inherit', cursor: 'pointer' }}\n                className=\"material-symbols-outlined\"\n            >\n                {props.icon}\n            </span>\n        </div>\n    );\n};\n","import {\n    DockviewApi,\n    DockviewGroupPanel,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewHeaderActionsProps,\n    IDockviewPanelProps,\n    SerializedDockview,\n} from 'dockview';\nimport * as React from 'react';\nimport { Icon } from './utils';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                }}\n            >\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nconst counter = (() => {\n    let i = 0;\n\n    return {\n        next: () => ++i,\n    };\n})();\n\nfunction loadDefaultLayout(api: DockviewApi) {\n    api.addPanel({\n        id: 'panel_1',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_2',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_3',\n        component: 'default',\n    });\n\n    const panel4 = api.addPanel({\n        id: 'panel_4',\n        component: 'default',\n        floating: true,\n    });\n\n    api.addPanel({\n        id: 'panel_5',\n        component: 'default',\n        floating: false,\n        position: { referencePanel: panel4 },\n    });\n\n    api.addPanel({\n        id: 'panel_6',\n        component: 'default',\n    });\n}\n\nlet panelCount = 0;\n\nfunction addPanel(api: DockviewApi) {\n    api.addPanel({\n        id: (++panelCount).toString(),\n        title: `Tab ${panelCount}`,\n        component: 'default',\n    });\n}\n\nfunction addFloatingPanel2(api: DockviewApi) {\n    api.addPanel({\n        id: (++panelCount).toString(),\n        title: `Tab ${panelCount}`,\n        component: 'default',\n        floating: { width: 250, height: 150, x: 50, y: 50 },\n    });\n}\n\nfunction safeParse<T>(value: any): T | null {\n    try {\n        return JSON.parse(value) as T;\n    } catch (err) {\n        return null;\n    }\n}\n\nconst useLocalStorage = <T,>(\n    key: string\n): [T | null, (setter: T | null) => void] => {\n    const [state, setState] = React.useState<T | null>(\n        safeParse(localStorage.getItem(key))\n    );\n\n    React.useEffect(() => {\n        const _state = localStorage.getItem('key');\n        try {\n            if (_state !== null) {\n                setState(JSON.parse(_state));\n            }\n        } catch (err) {\n            //\n        }\n    }, [key]);\n\n    return [\n        state,\n        (_state: T | null) => {\n            if (_state === null) {\n                localStorage.removeItem(key);\n            } else {\n                localStorage.setItem(key, JSON.stringify(_state));\n                setState(_state);\n            }\n        },\n    ];\n};\n\nexport const DockviewPersistance = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n    const [layout, setLayout] =\n        useLocalStorage<SerializedDockview>('floating.layout');\n\n    const [disableFloatingGroups, setDisableFloatingGroups] =\n        React.useState<boolean>(false);\n\n    const load = (api: DockviewApi) => {\n        api.clear();\n        if (layout) {\n            try {\n                api.fromJSON(layout);\n            } catch (err) {\n                console.error(err);\n                api.clear();\n                loadDefaultLayout(api);\n            }\n        } else {\n            loadDefaultLayout(api);\n        }\n    };\n\n    const onReady = (event: DockviewReadyEvent) => {\n        load(event.api);\n        setApi(event.api);\n    };\n\n    const [options, setOptions] = React.useState<\n        'boundedWithinViewport' | undefined\n    >(undefined);\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div style={{ height: '25px' }}>\n                <button\n                    onClick={() => {\n                        if (api) {\n                            setLayout(api.toJSON());\n                        }\n                    }}\n                >\n                    Save\n                </button>\n                <button\n                    onClick={() => {\n                        if (api) {\n                            load(api);\n                        }\n                    }}\n                >\n                    Load\n                </button>\n                <button\n                    onClick={() => {\n                        api!.clear();\n                        setLayout(null);\n                    }}\n                >\n                    Clear\n                </button>\n                <button\n                    onClick={() => {\n                        addFloatingPanel2(api!);\n                    }}\n                >\n                    Add Floating Group\n                </button>\n                <button\n                    onClick={() => {\n                        setOptions(\n                            options === undefined\n                                ? 'boundedWithinViewport'\n                                : undefined\n                        );\n                    }}\n                >\n                    {`Bounds: ${options ? 'Within' : 'Overflow'}`}\n                </button>\n                <button\n                    onClick={() => {\n                        setDisableFloatingGroups((x) => !x);\n                    }}\n                >\n                    {`${\n                        disableFloatingGroups ? 'Enable' : 'Disable'\n                    } floating groups`}\n                </button>\n            </div>\n            <div\n                style={{\n                    flexGrow: 1,\n                }}\n            >\n                <DockviewReact\n                    onReady={onReady}\n                    components={components}\n                    watermarkComponent={Watermark}\n                    leftHeaderActionsComponent={LeftComponent}\n                    rightHeaderActionsComponent={RightComponent}\n                    disableFloatingGroups={disableFloatingGroups}\n                    floatingGroupBounds={options}\n                    className={`${props.theme || 'dockview-theme-abyss'}`}\n                />\n            </div>\n        </div>\n    );\n};\n\nconst LeftComponent = (props: IDockviewHeaderActionsProps) => {\n    const onClick = () => {\n        addPanel(props.containerApi);\n    };\n    return (\n        <div style={{ height: '100%', color: 'white', padding: '0px 4px' }}>\n            <Icon onClick={onClick} icon={'add'} />\n        </div>\n    );\n};\n\nconst RightComponent = (props: IDockviewHeaderActionsProps) => {\n    const [floating, setFloating] = React.useState<boolean>(\n        props.api.location === 'floating'\n    );\n\n    React.useEffect(() => {\n        const disposable = props.group.api.onDidLocationChange(\n            (event) => {\n                setFloating(event.location === 'floating');\n            }\n        );\n\n        return () => {\n            disposable.dispose();\n        };\n    }, [props.group.api]);\n\n    const onClick = () => {\n        if (floating) {\n            const group = props.containerApi.addGroup();\n            props.group.api.moveTo({ group });\n        } else {\n            props.containerApi.addFloatingGroup(props.group);\n        }\n    };\n\n    return (\n        <div style={{ height: '100%', color: 'white', padding: '0px 4px' }}>\n            <Icon\n                onClick={onClick}\n                icon={floating ? 'jump_to_element' : 'back_to_tab'}\n            />\n        </div>\n    );\n};\n\nexport default DockviewPersistance;\n\nconst Watermark = () => {\n    return <div style={{ color: 'white', padding: '8px' }}>watermark</div>;\n};\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n    IDockviewPanelHeaderProps,\n} from 'dockview';\nimport * as React from 'react';\nimport './app.scss';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string; x?: number }>) => {\n        return (\n            <div\n                style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    color: 'white',\n                    height: '100%',\n                }}\n            >\n                <span>{`${props.params.title}`}</span>\n                {props.params.x && <span>{`  ${props.params.x}`}</span>}\n            </div>\n        );\n    },\n};\n\nconst tabComponents = {\n    default: (props: IDockviewPanelHeaderProps<{ title: string }>) => {\n        return (\n            <div className=\"my-custom-tab\">\n                <span>{props.params.title}</span>\n                <span style={{ flexGrow: 1 }} />\n\n                <span className=\"my-custom-tab-icon material-symbols-outlined\">\n                    minimize\n                </span>\n                <span className=\"my-custom-tab-icon material-symbols-outlined\">\n                    maximize\n                </span>\n                <span className=\"my-custom-tab-icon material-symbols-outlined\">\n                    close\n                </span>\n            </div>\n        );\n    },\n};\n\nconst DockviewNative = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel1 = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 1',\n            },\n        });\n        panel1.group.locked = true;\n\n        const panel2 = event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 2',\n            },\n            position: {\n                direction: 'right',\n            },\n        });\n        panel2.group.locked = true;\n\n        const panel3 = event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 3',\n            },\n            position: {\n                direction: 'below',\n            },\n        });\n        panel3.group.locked = true;\n    };\n\n    return (\n        <DockviewReact\n            onReady={onReady}\n            components={components}\n            tabComponents={tabComponents}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n            singleTabMode=\"fullwidth\"\n        />\n    );\n};\n\nexport default DockviewNative;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewHeaderActionsProps,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport './app.scss';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string; x?: number }>) => {\n        return (\n            <div\n                style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    color: 'white',\n                    height: '100%',\n                }}\n            >\n                <span>{`${props.params.title}`}</span>\n                {props.params.x && <span>{`  ${props.params.x}`}</span>}\n            </div>\n        );\n    },\n};\n\nconst RightHeaderActions = (props: IDockviewHeaderActionsProps) => {\n    const isGroupActive = props.isGroupActive;\n\n    return (\n        <div className=\"dockview-groupcontrol-demo\">\n            <span\n                className=\"dockview-groupcontrol-demo-group-active\"\n                style={{\n                    background: isGroupActive ? 'green' : 'red',\n                }}\n            >\n                {isGroupActive ? 'Group Active' : 'Group Inactive'}\n            </span>\n        </div>\n    );\n};\n\nconst LeftHeaderActions = (props: IDockviewHeaderActionsProps) => {\n    const activePanel = props.activePanel;\n\n    return (\n        <div className=\"dockview-groupcontrol-demo\">\n            <span className=\"dockview-groupcontrol-demo-active-panel\">{`activePanel: ${\n                activePanel?.id || 'null'\n            }`}</span>\n        </div>\n    );\n};\n\nconst DockviewGroupControl = (props: { theme: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel1 = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 1',\n            },\n        });\n\n        const panel2 = event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 2',\n            },\n            position: {\n                direction: 'right',\n            },\n        });\n\n        const panel3 = event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 3',\n            },\n            position: {\n                direction: 'below',\n            },\n        });\n    };\n\n    return (\n        <DockviewReact\n            onReady={onReady}\n            components={components}\n            leftHeaderActionsComponent={LeftHeaderActions}\n            rightHeaderActionsComponent={RightHeaderActions}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n        />\n    );\n};\n\nexport default DockviewGroupControl;\n","import { IDockviewPanelProps } from 'dockview';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\n// get absolute position of element allowing for scroll position\nfunction getDomNodePagePosition(domNode: HTMLElement): {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n} {\n    const { left, top, width, height } = domNode.getBoundingClientRect();\n    return {\n        left: left + window.scrollX,\n        top: top + window.scrollY,\n        width: width,\n        height: height,\n    };\n}\n\nfunction toggleVisibility(element: HTMLElement, isVisible: boolean) {\n    element.style.visibility = isVisible ? 'visible' : 'hidden';\n}\n\nexport const HoistedDockviewPanel = <T extends object>(\n    DockviewPanelComponent: React.FC<IDockviewPanelProps<T>>\n) => {\n    return (props: IDockviewPanelProps<T>) => {\n        const ref = React.useRef<HTMLDivElement>(null);\n        const innerRef = React.useRef<HTMLDivElement>(null);\n\n        const positionHoistedPanel = () => {\n            if (!ref.current || !innerRef.current) {\n                return;\n            }\n\n            const { left, top, height, width } = getDomNodePagePosition(\n                ref.current.parentElement! // use the parent element to determine our size\n            );\n\n            innerRef.current.style.left = `${left}px`;\n            innerRef.current.style.top = `${top}px`;\n            innerRef.current.style.height = `${height}px`;\n            innerRef.current.style.width = `${width}px`;\n        };\n\n        React.useEffect(() => {\n            if (!innerRef.current) {\n                return;\n            }\n\n            const disposable1 = props.api.onDidVisibilityChange((event) => {\n                if (!innerRef.current) {\n                    return;\n                }\n\n                toggleVisibility(innerRef.current, event.isVisible); // subsequent checks of visibility\n            });\n\n            const disposable2 = props.api.onDidDimensionsChange(() => {\n                positionHoistedPanel();\n            });\n\n            positionHoistedPanel();\n\n            return () => {\n                disposable1.dispose(); // cleanup\n                disposable2.dispose();\n            };\n        }, [props.api]);\n\n        return (\n            <div ref={ref}>\n                {ReactDOM.createPortal(\n                    <div\n                        /** you may want to mark these elements with some kind of attribute id */\n                        ref={innerRef}\n                        style={{\n                            position: 'absolute',\n                            overflow: 'hidden',\n                            zIndex: 999,\n                            pointerEvents: 'none', // prevent this wrapper contain stealing events\n                        }}\n                    >\n                        <DockviewPanelComponent {...props} />\n                    </div>,\n                    document.body // <-- you may choose to mount these 'global' elements to anywhere you see suitable\n                )}\n            </div>\n        );\n    };\n};\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport { HoistedDockviewPanel } from './hoistedDockviewPanel';\n\nconst components = {\n    iframeComponent: HoistedDockviewPanel(\n        (props: IDockviewPanelProps<{ color: string }>) => {\n            return (\n                <iframe\n                    style={{\n                        pointerEvents: 'none',\n                        border: 'none',\n                        width: '100%',\n                        height: '100%',\n                    }}\n                    src=\"https://dockview.dev\"\n                />\n            );\n        }\n    ),\n    basicComponent: () => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {'This panel is just a usual component '}\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'iframeComponent',\n        });\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'iframeComponent',\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'basicComponent',\n        });\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            onReady={onReady}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n        />\n    );\n};\n\nexport default App;\n","import {\n    IGroupPanelInitParameters,\n    IContentRenderer,\n    PanelUpdateEvent,\n    Parameters,\n    ITabRenderer,\n    DockviewComponent,\n} from 'dockview-core';\nimport './app.scss';\n\nclass DefaultPanel implements IContentRenderer {\n    private _element: HTMLElement;\n    private _titleElement: HTMLElement;\n    private _paramsElement: HTMLElement;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        this._element = document.createElement('div');\n        this._element.style.display = 'flex';\n        this._element.style.justifyContent = 'center';\n        this._element.style.alignItems = 'center';\n        this._element.style.color = 'white';\n        this._element.style.height = '100%';\n\n        this._titleElement = document.createElement('span');\n        this._paramsElement = document.createElement('span');\n\n        this._element.appendChild(this._titleElement);\n    }\n\n    init(params: IGroupPanelInitParameters): void {\n        this.render(params.params);\n    }\n\n    update(event: PanelUpdateEvent<Parameters>): void {\n        this.render(event.params);\n    }\n\n    private render(params: Record<string, any>) {\n        this._titleElement.textContent = params.title;\n\n        if (params.x) {\n            if (!this._paramsElement.parentElement) {\n                this._element.appendChild(this._paramsElement);\n            }\n            this._paramsElement.textContent = params.x;\n        } else {\n            this._paramsElement.parentElement?.removeChild(this._paramsElement);\n        }\n    }\n}\n\nclass DefaultTab implements ITabRenderer {\n    private _element: HTMLElement;\n    private _title: HTMLElement;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        this._element = document.createElement('div');\n        this._element.className = 'my-custom-tab';\n\n        this._title = document.createElement('span');\n\n        const spacer = document.createElement('span');\n        spacer.style.flexGrow = '1';\n\n        const btn1 = document.createElement('span');\n        btn1.className = 'my-custom-tab-icon material-symbols-outlined';\n        btn1.textContent = 'minimize';\n\n        const btn2 = document.createElement('span');\n        btn2.className = 'my-custom-tab-icon material-symbols-outlined';\n        btn2.textContent = 'maximize';\n\n        const btn3 = document.createElement('span');\n        btn3.className = 'my-custom-tab-icon material-symbols-outlined';\n        btn3.textContent = 'close';\n\n        this._element.appendChild(this._title);\n        this._element.appendChild(spacer);\n        this._element.appendChild(btn1);\n        this._element.appendChild(btn2);\n        this._element.appendChild(btn3);\n    }\n\n    init(params: IGroupPanelInitParameters): void {\n        this.render(params.params);\n    }\n\n    update(event: PanelUpdateEvent<Parameters>): void {\n        this.render(event.params);\n    }\n\n    private render(params: Record<string, any>) {\n        this._title = params.title;\n    }\n}\n\nexport function attach(parent: HTMLElement): {\n    dispose: () => void;\n} {\n    const element = document.createElement('div');\n    element.className = 'dockview-theme-abyss';\n    element.style.height = '100%';\n    element.style.width = '100%';\n\n    const dockview = new DockviewComponent({\n        components: {\n            default: DefaultPanel,\n        },\n        tabComponents: {\n            default: DefaultTab,\n        },\n        singleTabMode: 'fullwidth',\n        parentElement: element,\n    });\n\n    parent.appendChild(element);\n\n    const { clientWidth, clientHeight } = parent;\n    dockview.layout(clientWidth, clientHeight);\n\n    const panel1 = dockview.addPanel({\n        id: 'panel_1',\n        component: 'default',\n        tabComponent: 'default',\n        params: {\n            title: 'Window 1',\n        },\n    });\n    panel1.group.locked = true;\n\n    const panel2 = dockview.addPanel({\n        id: 'panel_2',\n        component: 'default',\n        tabComponent: 'default',\n        params: {\n            title: 'Window 2',\n        },\n        position: {\n            direction: 'right',\n        },\n    });\n    panel2.group.locked = true;\n\n    const panel3 = dockview.addPanel({\n        id: 'panel_3',\n        component: 'default',\n        tabComponent: 'default',\n        params: {\n            title: 'Window 3',\n        },\n        position: {\n            direction: 'below',\n        },\n    });\n    panel3.group.locked = true;\n\n    return {\n        dispose: () => {\n            dockview.dispose();\n            element.remove();\n        },\n    };\n}\n","import {\n    DockviewComponent,\n    IContentRenderer,\n    IGroupPanelInitParameters,\n    PanelUpdateEvent,\n    Parameters,\n} from 'dockview-core';\n\nclass DefaultPanel implements IContentRenderer {\n    private _element: HTMLElement;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        this._element = document.createElement('div');\n        this._element.style.padding = '20px';\n        this._element.style.color = 'white';\n    }\n\n    init(params: IGroupPanelInitParameters): void {\n        this._element.textContent = params.params.title;\n    }\n\n    update(event: PanelUpdateEvent<Parameters>): void {\n        this._element.textContent = event.params.title;\n    }\n}\n\nexport function attach(parent: HTMLElement): {\n    dispose: () => void;\n} {\n    const element = document.createElement('div');\n    element.className = 'dockview-theme-abyss';\n    element.style.height = '100%';\n    element.style.width = '100%';\n\n    const dockview = new DockviewComponent({\n        components: {\n            default: DefaultPanel,\n        },\n        parentElement: element,\n    });\n\n    parent.appendChild(element);\n\n    const { clientWidth, clientHeight } = parent;\n    dockview.layout(clientWidth, clientHeight);\n\n    const panel = dockview.addPanel({\n        id: 'panel_1',\n        component: 'default',\n        params: {\n            title: 'Panel 1',\n        },\n    });\n\n    panel.group.locked = true;\n    panel.group.header.hidden = true;\n\n    dockview.addPanel({\n        id: 'panel_2',\n        component: 'default',\n        params: {\n            title: 'Panel 2',\n        },\n    });\n\n    dockview.addPanel({\n        id: 'panel_3',\n        component: 'default',\n        params: {\n            title: 'Panel 3',\n        },\n    });\n\n    dockview.addPanel({\n        id: 'panel_4',\n        component: 'default',\n        params: {\n            title: 'Panel 4',\n        },\n        position: { referencePanel: 'panel_1', direction: 'right' },\n    });\n\n    const panel5 = dockview.addPanel({\n        id: 'panel_5',\n        component: 'default',\n        params: {\n            title: 'Panel 5',\n        },\n        position: { referencePanel: 'panel_3', direction: 'right' },\n    });\n\n    dockview.addPanel({\n        id: 'panel_6',\n        component: 'default',\n        params: {\n            title: 'Panel 6',\n        },\n        position: { referencePanel: 'panel_5', direction: 'below' },\n    });\n\n    dockview.addPanel({\n        id: 'panel_7',\n        component: 'default',\n        params: {\n            title: 'Panel 7',\n        },\n        position: { referencePanel: 'panel_6', direction: 'right' },\n    });\n\n    return {\n        dispose: () => {\n            dockview.dispose();\n            element.remove();\n        },\n    };\n}\n","import {\n    DockviewComponent,\n    IContentRenderer,\n    IGroupPanelInitParameters,\n    PanelUpdateEvent,\n    Parameters,\n} from 'dockview-core';\nimport './app.scss';\n\nclass DefaultPanel implements IContentRenderer {\n    private _element: HTMLElement;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        this._element = document.createElement('div');\n        this._element.style.padding = '20px';\n        this._element.style.color = 'white';\n    }\n\n    init(params: IGroupPanelInitParameters): void {\n        this._element.textContent = params.params.title;\n    }\n\n    update(event: PanelUpdateEvent<Parameters>): void {\n        this._element.textContent = event.params.title;\n    }\n}\n\nexport function attach(parent: HTMLElement): {\n    dispose: () => void;\n} {\n    const element = document.createElement('div');\n    element.className = 'dockview-theme-abyss  skinny-tabs';\n    element.style.height = '100%';\n    element.style.width = '100%';\n\n    const dockview = new DockviewComponent({\n        components: {\n            default: DefaultPanel,\n        },\n        parentElement: element,\n    });\n\n    parent.appendChild(element);\n\n    const { clientWidth, clientHeight } = parent;\n    dockview.layout(clientWidth, clientHeight);\n\n    dockview.addPanel({\n        id: 'panel_1',\n        component: 'default',\n        params: {\n            title: 'Panel 1',\n        },\n    });\n\n    dockview.addPanel({\n        id: 'panel_2',\n        component: 'default',\n        params: {\n            title: 'Panel 2',\n        },\n    });\n\n    dockview.addPanel({\n        id: 'panel_3',\n        component: 'default',\n        params: {\n            title: 'Panel 3',\n        },\n        position: { referencePanel: 'panel_1', direction: 'right' },\n    });\n\n    dockview.addPanel({\n        id: 'panel_4',\n        component: 'default',\n        params: {\n            title: 'Panel 4',\n        },\n        position: { referencePanel: 'panel_3', direction: 'right' },\n    });\n\n    dockview.addPanel({\n        id: 'panel_5',\n        component: 'default',\n        params: {\n            title: 'Panel 5',\n        },\n        position: { referencePanel: 'panel_4', direction: 'below' },\n    });\n\n    dockview.addPanel({\n        id: 'panel_6',\n        component: 'default',\n        params: {\n            title: 'Panel 6',\n        },\n        position: { referencePanel: 'panel_5', direction: 'right' },\n    });\n\n    return {\n        dispose: () => {\n            dockview.dispose();\n            element.remove();\n        },\n    };\n}\n","import {\n    DockviewComponent,\n    IContentRenderer,\n    IGroupPanelInitParameters,\n} from 'dockview-core';\n\nclass DefaultPanel implements IContentRenderer {\n    private _element: HTMLElement;\n\n    get element(): HTMLElement {\n        return this._element;\n    }\n\n    constructor() {\n        this._element = document.createElement('div');\n    }\n\n    init(params: IGroupPanelInitParameters): void {\n        //\n    }\n}\n\nexport function attach(parent: HTMLElement): {\n    dispose: () => void;\n} {\n    const element = document.createElement('div');\n    element.className = 'dockview-theme-abyss';\n    element.style.height = '100%';\n    element.style.width = '100%';\n\n    const dockview = new DockviewComponent({\n        components: {\n            default: DefaultPanel,\n        },\n        parentElement: element,\n    });\n\n    parent.appendChild(element);\n\n    const panel1 = dockview.addPanel({\n        id: 'panel_1',\n        title: 'Panel 1',\n        component: 'default',\n    });\n\n    const panel2 = dockview.addPanel({\n        id: 'panel_2',\n        title: 'Panel 2',\n        component: 'default',\n        position: {\n            referencePanel: panel1,\n            direction: 'right',\n        },\n    });\n\n    const panel3 = dockview.addPanel({\n        id: 'panel_3',\n        title: 'Panel 3',\n        component: 'default',\n        position: {\n            referenceGroup: panel2.group,\n        },\n    });\n\n    const pane4 = dockview.addPanel({\n        id: 'panel_4',\n        title: 'Panel 4',\n        component: 'default',\n        position: {\n            direction: 'below',\n        },\n    });\n\n    return {\n        dispose: () => {\n            dockview.dispose();\n            element.remove();\n        },\n    };\n}\n","import {\n    DockviewApi,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport './app.scss';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        const [active, setActive] = React.useState<boolean>(props.api.isActive);\n        const ref = React.useRef<HTMLInputElement>(null);\n\n        React.useEffect(() => {\n            const disposable = props.api.onDidActiveChange((event) => {\n                setActive(props.api.isActive);\n            });\n\n            return () => {\n                disposable.dispose();\n            };\n        }, [props.api]);\n\n        return (\n            <div\n                className=\"keyboard-example-panel\"\n                style={{ padding: '20px', color: 'white' }}\n            >\n                <div style={{ padding: '10px 0px' }}>\n                    <span>{props.api.title}</span>\n                </div>\n                <div className=\"keyboard-example-description\">\n                    {'Use '}\n                    <span className=\"keyboard-example-shortcut\">\n                        {'Ctrl+ArrowLeft'}\n                    </span>\n                    {' and '}\n                    <span className=\"keyboard-example-shortcut \">\n                        {'Ctrl+ArrowRight'}\n                    </span>\n                    {' to nativgate between tabs.'}\n                </div>\n\n                <div>\n                    <span>{'isPanelActive: '}</span>\n                    <span>{active ? 'true' : 'false'}</span>\n                </div>\n            </div>\n        );\n    },\n};\n\nconst DockviewDemo = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            title: 'Panel 1',\n        });\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            title: 'Panel 2',\n        });\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            title: 'Panel 3',\n        });\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            title: 'Panel 4',\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n        event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            title: 'Panel 5',\n            position: { referencePanel: 'panel_4', direction: 'within' },\n        });\n\n        event.api.getPanel('panel_1')!.api.setActive();\n\n        setApi(event.api);\n    };\n\n    const onKeyDown = (event: React.KeyboardEvent) => {\n        if (!api) {\n            return;\n        }\n\n        if (event.ctrlKey && event.code === 'ArrowLeft') {\n            // move backwards\n            api.moveToPrevious({ includePanel: true });\n        }\n\n        if (event.ctrlKey && event.code === 'ArrowRight') {\n            // move backwards\n            api.moveToNext({ includePanel: true });\n        }\n    };\n\n    return (\n        <div style={{ height: '100%' }} onKeyDown={onKeyDown}>\n            <DockviewReact\n                components={components}\n                onReady={onReady}\n                className={props.theme || 'dockview-theme-abyss'}\n            />\n        </div>\n    );\n};\n\nexport default DockviewDemo;\n","import {\n    DockviewApi,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                }}\n            >\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nconst counter = (() => {\n    let i = 0;\n\n    return {\n        next: () => ++i,\n    };\n})();\n\nfunction loadDefaultLayout(api: DockviewApi) {\n    api.addPanel({\n        id: 'panel_1',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_2',\n        component: 'default',\n    });\n\n    api.addPanel({\n        id: 'panel_3',\n        component: 'default',\n    });\n}\n\nexport const DockviewPersistance = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n\n    const clearLayout = () => {\n        localStorage.removeItem('dockview_persistance_layout');\n        if (api) {\n            api.clear();\n            loadDefaultLayout(api);\n        }\n    };\n\n    const onReady = (event: DockviewReadyEvent) => {\n        const layoutString = localStorage.getItem(\n            'dockview_persistance_layout'\n        );\n\n        let success = false;\n\n        if (layoutString) {\n            try {\n                const layout = JSON.parse(layoutString);\n                event.api.fromJSON(layout);\n                success = true;\n            } catch (err) {\n                console.error(err);\n            }\n        }\n\n        if (!success) {\n            loadDefaultLayout(event.api);\n        }\n\n        setApi(event.api);\n    };\n\n    React.useEffect(() => {\n        if (!api) {\n            return;\n        }\n\n        api.onDidLayoutChange(() => {\n            const layout = api.toJSON();\n\n            localStorage.setItem(\n                'dockview_persistance_layout',\n                JSON.stringify(layout)\n            );\n        });\n    }, [api]);\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div style={{ height: '25px' }}>\n                <button onClick={clearLayout}>Reset Layout</button>\n            </div>\n            <div\n                style={{\n                    flexGrow: 1,\n                    overflow: 'hidden',\n                }}\n            >\n                <DockviewReact\n                    onReady={onReady}\n                    components={components}\n                    watermarkComponent={Watermark}\n                    className={`${props.theme || 'dockview-theme-abyss'}`}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default DockviewPersistance;\n\nconst Watermark = () => {\n    return <div style={{ color: 'white', padding: '8px' }}>watermark</div>;\n};\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel1 = event.api.addPanel({\n            id: 'locked1',\n            component: 'default',\n            params: {\n                title: 'Locked',\n            },\n        });\n\n        panel1.group.locked = true;\n        panel1.group.header.hidden = true;\n\n        event.api.addPanel({\n            id: 'Drag me',\n            component: 'default',\n            params: {\n                title: '',\n            },\n            position: { referencePanel: 'locked1', direction: 'right' },\n        });\n\n        event.api.addPanel({\n            id: 'Drag me too',\n            component: 'default',\n            params: {\n                title: '',\n            },\n            position: { referencePanel: 'Drag me', direction: 'right' },\n        });\n\n        const panel3 = event.api.addPanel({\n            id: 'locked2',\n            component: 'default',\n            params: {\n                title: 'Locked with no drop target',\n            },\n            position: { referencePanel: 'Drag me too', direction: 'right' },\n        });\n\n        panel3.group.locked = 'no-drop-target';\n        panel3.group.header.hidden = true;\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            onReady={onReady}\n            className={props.theme || 'dockview-theme-abyss'}\n        />\n    );\n};\n\nexport default App;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n    IDockviewPanelHeaderProps,\n} from 'dockview';\nimport * as React from 'react';\nimport './app.scss';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string; x?: number }>) => {\n        return (\n            <div\n                style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    color: 'white',\n                    height: '100%',\n                }}\n            >\n                <span>{`${props.params.title}`}</span>\n                {props.params.x && <span>{`  ${props.params.x}`}</span>}\n            </div>\n        );\n    },\n    isolatedApp: (\n        props: IDockviewPanelProps<{ title: string; x?: number }>\n    ) => {\n        const onReady = (event: DockviewReadyEvent) => {\n            const panel1 = event.api.addPanel({\n                id: 'panel_1',\n                component: 'default',\n                params: {\n                    title: 'Tab 1',\n                },\n            });\n            const panel2 = event.api.addPanel({\n                id: 'panel_2',\n                component: 'default',\n                params: {\n                    title: 'Tab 2',\n                },\n            });\n            const panel3 = event.api.addPanel({\n                id: 'panel_3',\n                component: 'default',\n                params: {\n                    title: 'Tab 3',\n                },\n            });\n        };\n        return (\n            <DockviewReact\n                onReady={onReady}\n                components={components}\n                tabComponents={tabComponents}\n                className=\"dockview-theme-abyss\"\n            />\n        );\n    },\n};\n\nconst tabComponents = {\n    default: (props: IDockviewPanelHeaderProps<{ title: string }>) => {\n        return (\n            <div className=\"my-custom-tab\">\n                <span>{props.params.title}</span>\n                <span style={{ flexGrow: 1 }} />\n\n                <span className=\"my-custom-tab-icon material-symbols-outlined\">\n                    minimize\n                </span>\n                <span className=\"my-custom-tab-icon material-symbols-outlined\">\n                    maximize\n                </span>\n                <span className=\"my-custom-tab-icon material-symbols-outlined\">\n                    close\n                </span>\n            </div>\n        );\n    },\n};\n\nconst DockviewNative2 = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel1 = event.api.addPanel({\n            id: 'panel_1',\n            component: 'isolatedApp',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 1',\n            },\n        });\n        panel1.group.locked = true;\n\n        const panel2 = event.api.addPanel({\n            id: 'panel_2',\n            component: 'isolatedApp',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 2',\n            },\n            position: {\n                direction: 'right',\n            },\n        });\n        panel2.group.locked = true;\n\n        const panel3 = event.api.addPanel({\n            id: 'panel_3',\n            component: 'isolatedApp',\n            tabComponent: 'default',\n            params: {\n                title: 'Window 3',\n            },\n            position: {\n                direction: 'below',\n            },\n        });\n        panel3.group.locked = true;\n    };\n\n    return (\n        <div\n            style={{\n                height: '500px',\n                display: 'flex',\n                flexDirection: 'column',\n            }}\n        >\n            <DockviewReact\n                onReady={onReady}\n                components={components}\n                tabComponents={tabComponents}\n                className={`${props.theme || 'dockview-theme-abyss'}`}\n                singleTabMode=\"fullwidth\"\n            />\n        </div>\n    );\n};\n\nexport default DockviewNative2;\n","import {\n    DockviewDndOverlayEvent,\n    DockviewDropEvent,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport './app.scss';\n\nconst InnerDockview = () => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n        });\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n        });\n    };\n\n    return (\n        <DockviewReact\n            onReady={onReady}\n            components={components}\n            className=\"nested-dockview\"\n        />\n    );\n};\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                }}\n            >\n                {props.params.title}\n            </div>\n        );\n    },\n    innerDockview: InnerDockview,\n};\n\nconst NestedDockview = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n        });\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'innerDockview',\n            position: { referencePanel: 'panel_2', direction: 'right' },\n        });\n    };\n\n    const showDndOverlay = (event: DockviewDndOverlayEvent) => {\n        // console.log(event.getData());\n\n        return false;\n    };\n\n    const onDidDrop = (event: DockviewDropEvent) => {\n        // event.getData();\n    };\n\n    return (\n        <DockviewReact\n            onReady={onReady}\n            components={components}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n            showDndOverlay={showDndOverlay}\n            onDidDrop={onDidDrop}\n        />\n    );\n};\n\nexport default NestedDockview;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nimport { atom, useRecoilState, useRecoilValue } from 'recoil';\n\nconst renderVisibleComponentsOnlyAtom = atom<boolean>({\n    key: 'renderVisibleComponentsOnlyAtom',\n    default: false,\n});\n\nfunction RenderWhenVisible(\n    component: React.FunctionComponent<IDockviewPanelProps>\n) {\n    const HigherOrderComponent = (props: IDockviewPanelProps) => {\n        const [visible, setVisible] = React.useState<boolean>(\n            props.api.isVisible\n        );\n\n        const render = useRecoilValue(renderVisibleComponentsOnlyAtom);\n\n        React.useEffect(() => {\n            const disposable = props.api.onDidVisibilityChange((event) =>\n                setVisible(event.isVisible)\n            );\n\n            return () => {\n                disposable.dispose();\n            };\n        }, [props.api]);\n\n        if (!visible && render) {\n            return null;\n        }\n\n        return React.createElement(component, props);\n    };\n    return HigherOrderComponent;\n}\n\nconst formatLine = (line: string) => {\n    const now = new Date();\n\n    const pad = (x: number) => (x < 10 ? `0${x}` : `${x}`);\n\n    const time = `${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(\n        now.getSeconds()\n    )}`;\n\n    return `[${time}] ${line}`;\n};\n\nconst components = {\n    default: RenderWhenVisible(\n        (props: IDockviewPanelProps<{ title: string }>) => {\n            const [lines, setLines] = React.useState<string[]>([\n                formatLine('Component created'),\n            ]);\n\n            React.useEffect(() => {\n                setLines((lines) => [\n                    ...lines,\n                    formatLine('Running task for 5 seconds'),\n                ]);\n                const timeout = setTimeout(() => {\n                    setLines((lines) => [\n                        ...lines,\n                        formatLine('Task completed'),\n                    ]);\n                }, 5000);\n\n                return () => {\n                    clearTimeout(timeout);\n                };\n            }, []);\n\n            return (\n                <div style={{ padding: '20px' }}>\n                    <div>{props.params.title}</div>\n                    {lines.map((line, i) => (\n                        <div key={i}>{line}</div>\n                    ))}\n                </div>\n            );\n        }\n    ),\n};\n\nconst Checkbox = () => {\n    const [render, setRender] = useRecoilState(renderVisibleComponentsOnlyAtom);\n\n    return (\n        <label>\n            Render only when visible\n            <input\n                type=\"checkbox\"\n                checked={render}\n                onChange={(e) => setRender(e.target.checked)}\n            />\n        </label>\n    );\n};\n\nconst RenderingDockview = (props: { theme?: string }) => {\n    const [render, setRender] = useRecoilState(renderVisibleComponentsOnlyAtom);\n\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            params: {\n                title: 'Panel 3',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n    };\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <Checkbox />\n            <div style={{ flexGrow: 1, color: 'white' }}>\n                <DockviewReact\n                    components={components}\n                    onReady={onReady}\n                    className={`${props.theme || 'dockview-theme-abyss'}`}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default RenderingDockview;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport './resize.scss';\n\nconst Default = (props: IDockviewPanelProps) => {\n    const [width, setWidth] = React.useState<number>(100);\n    const [height, setHeight] = React.useState<number>(100);\n\n    return (\n        <div className=\"resize-panel\">\n            <div style={{ height: '25px' }}>{props.api.title}</div>\n            <div className=\"resize-control\">\n                <span>Width:</span>\n                <input\n                    value={width}\n                    onChange={(e) => setWidth(Number(e.target.value))}\n                    type=\"number\"\n                    min={50}\n                    step={1}\n                />\n                <button\n                    style={{ width: '100px' }}\n                    onClick={() => {\n                        props.api.group.api.setSize({\n                            width,\n                        });\n                    }}\n                >\n                    Resize Group\n                </button>\n                <button\n                    style={{ width: '100px' }}\n                    onClick={() => {\n                        props.api.setSize({\n                            width,\n                        });\n                    }}\n                >\n                    Resize panel\n                </button>\n            </div>\n            <div className=\"resize-control\">\n                <span>Height:</span>\n                <input\n                    value={height}\n                    onChange={(e) => setHeight(Number(e.target.value))}\n                    type=\"number\"\n                    min={50}\n                    step={1}\n                />\n                <button\n                    style={{ width: '100px' }}\n                    onClick={() => {\n                        props.api.group.api.setSize({\n                            height,\n                        });\n                    }}\n                >\n                    Resize Group\n                </button>\n                <button\n                    style={{ width: '100px' }}\n                    onClick={() => {\n                        props.api.setSize({\n                            height,\n                        });\n                    }}\n                >\n                    Resize Panel\n                </button>\n            </div>\n        </div>\n    );\n};\n\nconst components = {\n    default: Default,\n};\n\nconst ResizeDockview = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n        });\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            position: {\n                direction: 'right',\n                referencePanel: 'panel_1',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            position: {\n                direction: 'below',\n                referencePanel: 'panel_1',\n            },\n        });\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n        });\n        event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n        });\n    };\n\n    return (\n        <DockviewReact\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n            onReady={onReady}\n            components={components}\n        />\n    );\n};\n\nexport default ResizeDockview;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        panel.group.locked = true;\n        panel.group.header.hidden = true;\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            params: {\n                title: 'Panel 3',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        const panel5 = event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            params: {\n                title: 'Panel 5',\n            },\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n\n        // panel5.group!.model.header.hidden = true;\n        // panel5.group!.model.locked = true;\n\n        event.api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            params: {\n                title: 'Panel 6',\n            },\n            position: { referencePanel: 'panel_5', direction: 'below' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_7',\n            component: 'default',\n            params: {\n                title: 'Panel 7',\n            },\n            position: { referencePanel: 'panel_6', direction: 'right' },\n        });\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            onReady={onReady}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n        />\n    );\n};\n\nconst Container = () => {\n    const [value, setValue] = React.useState<string>('50');\n\n    return (\n        <div\n            style={{ height: '100%', display: 'flex', flexDirection: 'column' }}\n        >\n            <input\n                onChange={(event) => setValue(event.target.value)}\n                type=\"range\"\n                min=\"1\"\n                max=\"100\"\n                value={value}\n            />\n            <div style={{ height: `${value}%`, width: `${value}%` }}>\n                <App />\n            </div>\n        </div>\n    );\n};\n\nexport default Container;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        panel.group.locked = true;\n        panel.group.header.hidden = true;\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            params: {\n                title: 'Panel 3',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        const panel5 = event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            params: {\n                title: 'Panel 5',\n            },\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n\n        // panel5.group!.model.header.hidden = true;\n        // panel5.group!.model.locked = true;\n\n        event.api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            params: {\n                title: 'Panel 6',\n            },\n            position: { referencePanel: 'panel_5', direction: 'below' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_7',\n            component: 'default',\n            params: {\n                title: 'Panel 7',\n            },\n            position: { referencePanel: 'panel_6', direction: 'right' },\n        });\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            onReady={onReady}\n            className={props.theme || 'dockview-theme-abyss'}\n        />\n    );\n};\n\nexport default App;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\nimport './app.scss';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            params: {\n                title: 'Panel 1',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            params: {\n                title: 'Panel 2',\n            },\n        });\n\n        event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            params: {\n                title: 'Panel 3',\n            },\n            position: { referencePanel: 'panel_1', direction: 'right' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            params: {\n                title: 'Panel 4',\n            },\n            position: { referencePanel: 'panel_3', direction: 'right' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_5',\n            component: 'default',\n            params: {\n                title: 'Panel 5',\n            },\n            position: { referencePanel: 'panel_4', direction: 'below' },\n        });\n\n        event.api.addPanel({\n            id: 'panel_6',\n            component: 'default',\n            params: {\n                title: 'Panel 6',\n            },\n            position: { referencePanel: 'panel_5', direction: 'right' },\n        });\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            onReady={onReady}\n            className={`${props.theme || 'dockview-theme-abyss'} skinny-tabs`}\n        />\n    );\n};\n\nexport default App;\n","import {\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ myValue: string }>) => {\n        const [title, setTitle] = React.useState<string>(props.api.title);\n\n        const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n            setTitle(event.target.value);\n        };\n\n        const onClick = () => {\n            props.api.setTitle(title);\n        };\n\n        return (\n            <div style={{ padding: '20px', color: 'white' }}>\n                <div>\n                    <span style={{ color: 'grey' }}>{'props.api.title='}</span>\n                    <span>{`${props.api.title}`}</span>\n                </div>\n                <input value={title} onChange={onChange} />\n                <button onClick={onClick}>Change</button>\n                {JSON.stringify(Object.keys(props.params))}\n            </div>\n        );\n    },\n};\n\nexport const App: React.FC = (props: { theme?: string }) => {\n    const onReady = (event: DockviewReadyEvent) => {\n        const panel = event.api.addPanel({\n            id: 'panel_1',\n            component: 'default',\n            title: 'Panel 1',\n        });\n\n        const panel2 = event.api.addPanel({\n            id: 'panel_2',\n            component: 'default',\n            title: 'Panel 2',\n            position: { referencePanel: panel },\n        });\n\n        const panel3 = event.api.addPanel({\n            id: 'panel_3',\n            component: 'default',\n            title: 'Panel 3',\n\n            position: { referencePanel: panel, direction: 'right' },\n        });\n\n        const panel4 = event.api.addPanel({\n            id: 'panel_4',\n            component: 'default',\n            title: 'Panel 4',\n            position: { referencePanel: panel3 },\n        });\n    };\n\n    return (\n        <DockviewReact\n            components={components}\n            onReady={onReady}\n            className={`${props.theme || 'dockview-theme-abyss'}`}\n        />\n    );\n};\n\nexport default App;\n","import {\n    DockviewApi,\n    DockviewReact,\n    DockviewReadyEvent,\n    IDockviewPanelProps,\n    IWatermarkPanelProps,\n    Orientation,\n} from 'dockview';\nimport * as React from 'react';\n\nconst components = {\n    default: (props: IDockviewPanelProps<{ title: string }>) => {\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    padding: '20px',\n                    background: 'var(--dv-group-view-background-color)',\n                }}\n            >\n                {props.params.title}\n            </div>\n        );\n    },\n};\n\nconst counter = (() => {\n    let i = 0;\n\n    return {\n        next: () => ++i,\n    };\n})();\n\nconst Watermark = (props: IWatermarkPanelProps) => {\n    const isGroup = props.containerApi.groups.length > 0;\n\n    const addPanel = () => {\n        props.containerApi.addPanel({\n            id: counter.next().toString(),\n            component: 'default',\n        });\n    };\n\n    return (\n        <div\n            style={{\n                height: '100%',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                color: 'white',\n            }}\n        >\n            <div\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                }}\n            >\n                <span>\n                    This is a custom watermark. You can put whatever React\n                    component you want here\n                </span>\n                <span>\n                    <button onClick={addPanel}>Add New Panel</button>\n                </span>\n                {isGroup && (\n                    <span>\n                        <button\n                            onClick={() => {\n                                props.close();\n                            }}\n                        >\n                            Close Group\n                        </button>\n                    </span>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst DockviewWatermark = (props: { theme?: string }) => {\n    const [api, setApi] = React.useState<DockviewApi>();\n\n    const onReady = (event: DockviewReadyEvent) => {\n        // event.api.addPanel({\n        //     id: 'panel_1',\n        //     component: 'default',\n        // });\n\n        event.api.fromJSON({\n            grid: {\n                orientation: Orientation.HORIZONTAL,\n                root: { type: 'branch', data: [] },\n                height: 100,\n                width: 100,\n            },\n            panels: {},\n        });\n\n        setApi(event.api);\n    };\n\n    const onClick = () => {\n        if (!api) {\n            return;\n        }\n\n        api.addGroup();\n    };\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                height: '100%',\n            }}\n        >\n            <div>\n                <button onClick={onClick}>Add Empty Group</button>\n            </div>\n            <DockviewReact\n                onReady={onReady}\n                components={components}\n                watermarkComponent={Watermark}\n                className={`${props.theme || 'dockview-theme-abyss'}`}\n            />\n        </div>\n    );\n};\n\nexport default DockviewWatermark;\n","import * as React from 'react';\nimport './codeSandboxButton.scss';\nimport { ThemePicker } from './container';\n\nconst BASE_SANDBOX_URL =\n    'https://codesandbox.io/s/github/mathuo/dockview/tree/master/packages/docs/sandboxes';\n\nconst createSvgElementFromPath = (params: {\n    height: string;\n    width: string;\n    viewbox: string;\n    path: string;\n}) => {\n    return (\n        <svg\n            height={params.height}\n            width={params.width}\n            viewBox={params.viewbox}\n            focusable={false}\n            className={'dockview-svg'}\n        >\n            <path d={params.path} />\n        </svg>\n    );\n};\n\nconst CloseButton = () =>\n    createSvgElementFromPath({\n        width: '16',\n        height: '16',\n        viewbox: '0 0 50 58',\n        path: 'M22.5581 50.9938V30.1717L4.65116 19.869V31.7386L12.8536 36.4939V45.4198L22.5581 50.9938ZM27.2093 51.1162L37.0931 45.4226V36.2851L45.3488 31.501V19.7801L27.2093 30.2529V51.1162ZM42.9633 15.7867L33.4288 10.2615L25.0571 15.1193L16.6219 10.2567L7.00237 15.8557L24.9542 26.1842L42.9633 15.7867ZM0 43.4008V14.5498L24.9974 0L50 14.4887V43.3552L24.9969 57.7584L0 43.4008Z',\n    });\n\nexport const CodeSandboxButton = (props: {\n    id: string;\n    hideThemePicker?: boolean;\n}) => {\n    const url = React.useMemo(() => {\n        if (!props.id) {\n            return '';\n        }\n        return `${BASE_SANDBOX_URL}/${props.id}`;\n    }, [props.id]);\n\n    return (\n        <>\n            {!props.hideThemePicker && <ThemePicker />}\n            <span\n                className=\"codesandbox-button\"\n                style={{ display: 'flex', alignItems: 'center' }}\n            >\n                <span className=\"codesandbox-button-pretext\">{`Open in `}</span>\n                <a\n                    href={url}\n                    target={'_blank'}\n                    className=\"codesandbox-button-content\"\n                >\n                    <span\n                        style={{\n                            fontWeight: 'bold',\n                            paddingRight: '4px',\n                        }}\n                    >\n                        CodeSandbox\n                    </span>\n                    <CloseButton />\n                </a>\n            </span>\n        </>\n    );\n};\n","import * as React from 'react';\nimport './spinner.scss';\n\nexport const Spinner = () => {\n    return (\n        <div className=\"lds-ellipsis\">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n    );\n};\n","import * as React from 'react';\nimport { CodeSandboxButton } from './codeSandboxButton';\nimport useBaseUrl from '@docusaurus/useBaseUrl';\nimport './container.scss';\nimport { Spinner } from './spinner';\nimport BrowserOnly from '@docusaurus/BrowserOnly';\n\nexport const Container = (props: {\n    children?: React.ReactNode;\n    height?: number;\n    injectVanillaJS?: (parent: HTMLElement) => void;\n    sandboxId?: string;\n}) => {\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    React.useEffect(() => {\n        if (!props.injectVanillaJS) {\n            return;\n        }\n\n        props.injectVanillaJS(ref.current);\n    }, [props.injectVanillaJS]);\n\n    return (\n        <BrowserOnly>\n            {() => (\n                <>\n                    <div\n                        ref={ref}\n                        style={{\n                            height: props.height\n                                ? `${props.height}px`\n                                : '300px',\n                        }}\n                    >\n                        {props.children}\n                    </div>\n                    <div\n                        style={{\n                            padding: '2px 0px',\n                            display: 'flex',\n                            alignItems: 'center',\n                            fontSize: '14px',\n                        }}\n                    >\n                        <span style={{ flexGrow: 1 }} />\n                        {props.sandboxId && (\n                            <CodeSandboxButton id={props.sandboxId} />\n                        )}\n                    </div>\n                </>\n            )}\n        </BrowserOnly>\n    );\n};\n\nconst ReactIcon = (props: { height: number; width: number }) => {\n    return (\n        <img\n            // className=\"dockview-svg\"\n            style={{ marginRight: '0px 4px' }}\n            height={props.height}\n            width={props.width}\n            src={useBaseUrl('img/react-icon.svg')}\n        />\n    );\n};\n\nconst JavascriptIcon = (props: { height: number; width: number }) => {\n    return (\n        <img\n            // className=\"dockview-svg \"\n            style={{ marginRight: '0px 4px' }}\n            height={props.height}\n            width={props.width}\n            src={useBaseUrl('img/js-icon.svg')}\n        />\n    );\n};\n\nconst themes = [\n    'dockview-theme-abyss',\n    'dockview-theme-dark',\n    'dockview-theme-light',\n    'dockview-theme-vs',\n    'dockview-theme-dracula',\n    'dockview-theme-replit',\n];\n\nfunction useLocalStorageItem(key: string, defaultValue: string): string {\n    const [item, setItem] = React.useState<string | null>(\n        localStorage.getItem(key)\n    );\n\n    React.useEffect(() => {\n        const listener = (event: StorageEvent) => {\n            setItem(localStorage.getItem(key));\n        };\n\n        window.addEventListener('storage', listener);\n\n        setItem(localStorage.getItem(key));\n\n        return () => {\n            window.removeEventListener('storage', listener);\n        };\n    }, [key]);\n\n    return item === null ? defaultValue : item;\n}\n\nexport const ThemePicker = () => {\n    const [theme, setTheme] = React.useState<string>(\n        localStorage.getItem('dv-theme-class-name') || themes[0]\n    );\n\n    React.useEffect(() => {\n        localStorage.setItem('dv-theme-class-name', theme);\n        window.dispatchEvent(new StorageEvent('storage'));\n    }, [theme]);\n\n    return (\n        <div\n            style={{\n                height: '20px',\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0px 0px 0px 4px',\n            }}\n        >\n            <span style={{ paddingRight: '4px' }}>{'Theme: '}</span>\n            <select\n                style={{ backgroundColor: 'inherit', color: 'inherit' }}\n                onChange={(e) => setTheme(e.target.value)}\n                value={theme}\n            >\n                {themes.map((theme) => (\n                    <option key={theme} value={theme}>\n                        {theme}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n};\n\nexport const MultiFrameworkContainer2 = (props: {\n    react: React.FC;\n    typescript?: (parent: HTMLElement) => { dispose: () => void };\n    sandboxId: string;\n    height?: number;\n    hideThemePicker?: boolean;\n}) => {\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    const [framework, setFramework] = React.useState<string>('React');\n\n    const [animation, setAnimation] = React.useState<boolean>(false);\n\n    const theme = useLocalStorageItem(\n        'dv-theme-class-name',\n        'dockview-theme-abyss'\n    );\n\n    React.useEffect(() => {\n        setAnimation(true);\n\n        setTimeout(() => {\n            setAnimation(false);\n        }, 500);\n    }, [framework]);\n\n    React.useEffect(() => {\n        if (!ref.current) {\n            return;\n        }\n\n        if (framework === 'Javascript') {\n            const disposable = props.typescript(ref.current);\n\n            return () => {\n                disposable.dispose();\n            };\n        }\n\n        return;\n    }, [props.typescript, framework]);\n\n    const sandboxId = React.useMemo(() => {\n        if (framework === 'Javascript') {\n            return `javascript/${props.sandboxId}`;\n        }\n        return props.sandboxId;\n    }, [props.sandboxId, framework]);\n\n    return (\n        <>\n            <div\n                ref={ref}\n                style={{\n                    position: 'relative',\n                    height: props.height ? `${props.height}px` : '300px',\n                }}\n            >\n                {animation && (\n                    <div\n                        style={{\n                            background: 'rgba(30,30,30)',\n                            position: 'absolute',\n                            zIndex: 9999,\n                            top: 0,\n                            left: 0,\n                            width: '100%',\n                            height: '100%',\n                            display: 'flex',\n                            justifyContent: 'center',\n                            alignItems: 'center',\n                        }}\n                    >\n                        <Spinner />\n                    </div>\n                )}\n                {framework === 'React' && <props.react theme={theme} />}\n            </div>\n            <div\n                style={{\n                    margin: '2px 0px',\n                    padding: '2px 0px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    fontSize: '14px',\n                    height: '24px',\n                }}\n            >\n                <div\n                    className=\"framework-button\"\n                    style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        cursor: 'pointer',\n                    }}\n                >\n                    {props.typescript &&\n                        (framework === 'React' ? (\n                            <ReactIcon height={16} width={16} />\n                        ) : (\n                            <JavascriptIcon height={16} width={16} />\n                        ))}\n                    {props.typescript && (\n                        <select\n                            style={{\n                                border: 'none',\n                                fontWeight: 'bold',\n                                backgroundColor: 'inherit',\n                                cursor: 'inherit',\n                                color: 'inherit',\n                                height: '24px',\n                            }}\n                            onChange={(e) => {\n                                const target = e.target as HTMLSelectElement;\n                                setFramework(target.value);\n                            }}\n                        >\n                            <option value=\"React\">{'React'}</option>\n                            <option value=\"Javascript\">{'Javascript'}</option>\n                        </select>\n                    )}\n                </div>\n                <span style={{ flexGrow: 1 }} />\n                <CodeSandboxButton\n                    id={sandboxId}\n                    hideThemePicker={props.hideThemePicker}\n                />\n            </div>\n        </>\n    );\n};\n\nexport const MultiFrameworkContainer = (props: {\n    react: React.FC;\n    typescript?: (parent: HTMLElement) => { dispose: () => void };\n    sandboxId: string;\n    height?: number;\n    hideThemePicker?: boolean;\n}) => {\n    return (\n        <BrowserOnly>\n            {() => <MultiFrameworkContainer2 {...props} />}\n        </BrowserOnly>\n    );\n};\n","import * as React from 'react';\nimport CodeBlock from '@theme/CodeBlock';\nimport './docRef.scss';\n\nexport interface DocRefProps {\n    declaration: string;\n}\n\nimport docsJson from '../../../generated/api.output.json';\n\ntype DocsContent = { kind: string; text: string; tag?: string };\ntype DocsTag = { tag: string; content: DocsContent[] };\ntype DocsComment = {\n    summary?: DocsContent[];\n    blockTags?: DocsTag[];\n};\ntype DocsJson = {\n    [index: string]: Array<{\n        name: string;\n        code: string;\n        comment?: DocsComment;\n        kind: 'accessor' | 'property' | 'method';\n    }>;\n};\n\nexport const Text = (props: { content: DocsContent[] }) => {\n    return (\n        <div className=\"doc-text\">\n            {props.content.map((piece, i) => {\n                switch (piece.kind) {\n                    case 'text': {\n                        return <span key={i}>{piece.text}</span>;\n                    }\n                    case 'code':\n                        return (\n                            <code key={i}>\n                                {piece.text.substring(1, piece.text.length - 1)}\n                            </code>\n                        );\n                    default:\n                        throw new Error(`unhandled piece ${piece.kind}`);\n                }\n            })}\n        </div>\n    );\n};\n\nexport const Tags = (props: { tags: DocsTag[] }) => {\n    return (\n        <div>\n            {props.tags.map((tag, i) => {\n                return (\n                    <div key={i}>\n                        <div>{tag.tag}</div>\n                        <Text content={tag.content} />\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport const Summary = (props: { summary: DocsComment }) => {\n    return (\n        <div>\n            <Text content={props.summary.summary ?? []} />\n            {/* <Tags tags={props.summary.blockTags ?? []} /> */}\n        </div>\n    );\n};\n\nexport const Markdown = (props: { children: string }) => {\n    return <span>{props.children}</span>;\n};\n\nexport const DocRef = (props: DocRefProps) => {\n    const docs = React.useMemo(\n        () => (docsJson as DocsJson)[props.declaration],\n        [props.declaration]\n    );\n\n    if (!docs) {\n        return null;\n    }\n\n    return (\n        <div>\n            <table className=\"doc-ref-table\">\n                <tbody>\n                    {docs.map((doc) => {\n                        return (\n                            <tr>\n                                <th\n                                    style={{\n                                        width: '30%',\n                                        display: 'flex',\n                                    }}\n                                >\n                                    <div\n                                        style={{\n                                            // width: '30%',\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            alignItems: 'start',\n                                        }}\n                                    >\n                                        <h6\n                                            style={{\n                                                fontFamily: 'monospace',\n                                                fontSize: '1.2em',\n                                            }}\n                                        >\n                                            {doc.name}\n                                        </h6>\n                                        <div\n                                            style={{\n                                                display: 'flex',\n                                                flexDirection: 'column',\n                                                alignItems: 'start',\n                                            }}\n                                        >\n                                            {/* <span\n                                                style={{\n                                                    fontSize: '0.75em',\n                                                    color: 'var(--ifm-color-content-secondary)',\n                                                }}\n                                            >\n                                                {'Type'}\n                                            </span>\n                                            <span\n                                                style={{\n                                                    color: 'var(--ifm-color-primary)',\n                                                }}\n                                            >\n                                                {doc.type}\n                                            </span> */}\n                                        </div>\n                                    </div>\n                                </th>\n                                <th\n                                // style={{ width: '70%' }}\n                                >\n                                    {/* <div>{'-'}</div> */}\n                                    <div>\n                                        <div>\n                                            {doc.comment && (\n                                                <Summary\n                                                    summary={doc.comment}\n                                                />\n                                            )}\n                                        </div>\n                                        <CodeBlock language=\"tsx\">\n                                            {doc.code}\n                                        </CodeBlock>\n                                    </div>\n                                </th>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n","\n\nexport const frontMatter = {\n\tdescription: 'Dockview Documentation'\n};\nexport const contentTitle = 'Dockview';\nexport const metadata = {\n  \"id\": \"components/dockview\",\n  \"title\": \"Dockview\",\n  \"description\": \"Dockview Documentation\",\n  \"source\": \"@site/versioned_docs/version-1.8.4/components/dockview.mdx\",\n  \"sourceDirName\": \"components\",\n  \"slug\": \"/components/dockview\",\n  \"permalink\": \"/docs/components/dockview\",\n  \"draft\": false,\n  \"unlisted\": false,\n  \"editUrl\": \"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-1.8.4/components/dockview.mdx\",\n  \"tags\": [],\n  \"version\": \"1.8.4\",\n  \"frontMatter\": {\n    \"description\": \"Dockview Documentation\"\n  },\n  \"sidebar\": \"tutorialSidebar\",\n  \"previous\": {\n    \"title\": \"Components\",\n    \"permalink\": \"/docs/category/components\"\n  },\n  \"next\": {\n    \"title\": \"Gridview\",\n    \"permalink\": \"/docs/components/gridview\"\n  }\n};\nexport const assets = {\n\n};\n\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {MultiFrameworkContainer} from '@site/src/components/ui/container';\nimport Link from '@docusaurus/Link';\nimport useBaseUrl from '@docusaurus/useBaseUrl';\nimport DockviewPersistance from '@site/sandboxes/layout-dockview/src/app';\nimport SimpleDockview from '@site/sandboxes/simple-dockview/src/app';\nimport ResizeDockview from '@site/sandboxes/resize-dockview/src/app';\nimport DockviewWatermark from '@site/sandboxes/watermark-dockview/src/app';\nimport DockviewConstraints from '@site/sandboxes/constraints-dockview/src/app';\nimport DndDockview from '@site/sandboxes/dnd-dockview/src/app';\nimport NestedDockview from '@site/sandboxes/nested-dockview/src/app';\nimport EventsDockview from '@site/sandboxes/events-dockview/src/app';\nimport DockviewGroupControl from '@site/sandboxes/headeractions-dockview/src/app';\nimport CustomHeadersDockview from '@site/sandboxes/customheader-dockview/src/app';\nimport DockviewNative from '@site/sandboxes/fullwidthtab-dockview/src/app';\nimport DockviewNative2 from '@site/sandboxes/nativeapp-dockview/src/app';\nimport DockviewSetTitle from '@site/sandboxes/updatetitle-dockview/src/app';\nimport RenderingDockview from '@site/sandboxes/rendering-dockview/src/app';\nimport DockviewExternalDnd from '@site/sandboxes/externaldnd-dockview/src/app';\nimport DockviewResizeContainer from '@site/sandboxes/resizecontainer-dockview/src/app';\nimport DockviewTabheight from '@site/sandboxes/tabheight-dockview/src/app';\nimport DockviewWithIFrames from '@site/sandboxes/iframe-dockview/src/app';\nimport DockviewFloating from '@site/sandboxes/floatinggroup-dockview/src/app';\nimport DockviewLockedGroup from '@site/sandboxes/lockedgroup-dockview/src/app';\nimport DockviewKeyboard from '@site/sandboxes/keyboard-dockview/src/app';\nimport {DocRef, Markdown} from '@site/src/components/ui/reference/docRef';\nimport {attach as attachDockviewVanilla} from '@site/sandboxes/javascript/vanilla-dockview/src/app';\nimport {attach as attachSimpleDockview} from '@site/sandboxes/javascript/simple-dockview/src/app';\nimport {attach as attachTabHeightDockview} from '@site/sandboxes/javascript/tabheight-dockview/src/app';\nimport {attach as attachNativeDockview} from '@site/sandboxes/javascript/fullwidthtab-dockview/src/app';\nexport const toc = [{\n  \"value\": \"Introduction\",\n  \"id\": \"introduction\",\n  \"level\": 2\n}, {\n  \"value\": \"DockviewReact Component\",\n  \"id\": \"dockviewreact-component\",\n  \"level\": 2\n}, {\n  \"value\": \"Dockview API\",\n  \"id\": \"dockview-api\",\n  \"level\": 2\n}, {\n  \"value\": \"Dockview Panel API\",\n  \"id\": \"dockview-panel-api\",\n  \"level\": 2\n}, {\n  \"value\": \"Theme\",\n  \"id\": \"theme\",\n  \"level\": 2\n}, {\n  \"value\": \"Layout Persistance\",\n  \"id\": \"layout-persistance\",\n  \"level\": 2\n}, {\n  \"value\": \"Resizing\",\n  \"id\": \"resizing\",\n  \"level\": 2\n}, {\n  \"value\": \"Panel Resizing\",\n  \"id\": \"panel-resizing\",\n  \"level\": 3\n}, {\n  \"value\": \"Container Resizing\",\n  \"id\": \"container-resizing\",\n  \"level\": 3\n}, {\n  \"value\": \"Watermark\",\n  \"id\": \"watermark\",\n  \"level\": 2\n}, {\n  \"value\": \"Drag And Drop\",\n  \"id\": \"drag-and-drop\",\n  \"level\": 2\n}, {\n  \"value\": \"Built-in behaviours\",\n  \"id\": \"built-in-behaviours\",\n  \"level\": 3\n}, {\n  \"value\": \"Extended behaviours\",\n  \"id\": \"extended-behaviours\",\n  \"level\": 3\n}, {\n  \"value\": \"Intercepting Drag Events\",\n  \"id\": \"intercepting-drag-events\",\n  \"level\": 3\n}, {\n  \"value\": \"Third Party Dnd Libraries\",\n  \"id\": \"third-party-dnd-libraries\",\n  \"level\": 3\n}, {\n  \"value\": \"Floating Groups\",\n  \"id\": \"floating-groups\",\n  \"level\": 2\n}, {\n  \"value\": \"Panels\",\n  \"id\": \"panels\",\n  \"level\": 2\n}, {\n  \"value\": \"Add Panel\",\n  \"id\": \"add-panel\",\n  \"level\": 3\n}, {\n  \"value\": \"Update Panel\",\n  \"id\": \"update-panel\",\n  \"level\": 3\n}, {\n  \"value\": \"Move panel\",\n  \"id\": \"move-panel\",\n  \"level\": 3\n}, {\n  \"value\": \"Remove panel\",\n  \"id\": \"remove-panel\",\n  \"level\": 3\n}, {\n  \"value\": \"Panel Rendering\",\n  \"id\": \"panel-rendering\",\n  \"level\": 3\n}, {\n  \"value\": \"Headers\",\n  \"id\": \"headers\",\n  \"level\": 2\n}, {\n  \"value\": \"Custom Tab Headers\",\n  \"id\": \"custom-tab-headers\",\n  \"level\": 3\n}, {\n  \"value\": \"Default Tab Title\",\n  \"id\": \"default-tab-title\",\n  \"level\": 3\n}, {\n  \"value\": \"Custom Tab Title\",\n  \"id\": \"custom-tab-title\",\n  \"level\": 3\n}, {\n  \"value\": \"Hidden Headers\",\n  \"id\": \"hidden-headers\",\n  \"level\": 3\n}, {\n  \"value\": \"Full width tabs\",\n  \"id\": \"full-width-tabs\",\n  \"level\": 3\n}, {\n  \"value\": \"Tab Height\",\n  \"id\": \"tab-height\",\n  \"level\": 3\n}, {\n  \"value\": \"Groups\",\n  \"id\": \"groups\",\n  \"level\": 2\n}, {\n  \"value\": \"Locked group\",\n  \"id\": \"locked-group\",\n  \"level\": 3\n}, {\n  \"value\": \"Group Controls Panel\",\n  \"id\": \"group-controls-panel\",\n  \"level\": 3\n}, {\n  \"value\": \"Constraints\",\n  \"id\": \"constraints\",\n  \"level\": 3\n}, {\n  \"value\": \"iFrames\",\n  \"id\": \"iframes\",\n  \"level\": 2\n}, {\n  \"value\": \"Events\",\n  \"id\": \"events\",\n  \"level\": 2\n}, {\n  \"value\": \"Keyboard Navigation\",\n  \"id\": \"keyboard-navigation\",\n  \"level\": 2\n}, {\n  \"value\": \"Nested Dockviews\",\n  \"id\": \"nested-dockviews\",\n  \"level\": 3\n}, {\n  \"value\": \"Window-like mananger with tabs\",\n  \"id\": \"window-like-mananger-with-tabs\",\n  \"level\": 3\n}];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    blockquote: \"blockquote\",\n    code: \"code\",\n    h1: \"h1\",\n    h2: \"h2\",\n    h3: \"h3\",\n    li: \"li\",\n    p: \"p\",\n    pre: \"pre\",\n    ul: \"ul\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      id: \"dockview\",\n      children: \"Dockview\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"introduction\",\n      children: \"Introduction\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Dockview is an abstraction built on top of \", _jsx(_components.a, {\n        href: \"./gridview\",\n        children: \"Gridviews\"\n      }), \" where each view is a container of many tabbed panels.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"simple-dockview\",\n      react: SimpleDockview,\n      typescript: attachSimpleDockview\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"You can access the panels associated group through the \", _jsx(_components.code, {\n          children: \"panel.group\"\n        }), \" variable.\\nThe group will always be defined and will change if a panel is moved into another group.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"dockviewreact-component\",\n      children: \"DockviewReact Component\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can create a Dockview through the use of the \", _jsx(_components.code, {\n        children: \"DockviewReact\"\n      }), \" component.\"]\n    }), \"\\n\", _jsxs(\"p\", {\n      style: {\n        fontSize: '1.3em'\n      },\n      children: [_jsx(\"span\", {\n        children: 'All of these are React props available through the '\n      }), _jsx(\"code\", {\n        children: \"DockviewReact\"\n      }), _jsx(\"span\", {\n        children: ' component.'\n      })]\n    }), \"\\n\", _jsx(DocRef, {\n      declaration: \"IDockviewReactProps\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"dockview-api\",\n      children: \"Dockview API\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The Dockview API is exposed both at the \", _jsx(_components.code, {\n        children: \"onReady\"\n      }), \" event and on each panel through \", _jsx(_components.code, {\n        children: \"props.containerApi\"\n      }), \".\\nThrough this API you can control general features of the component and access all added panels.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Dockview API via Panel component\\\"\",\n        children: \"const MyComponent = (props: IDockviewPanelProps<{ title: string }>) => {\\n    // props.containerApi...\\n\\n    return <div>{`My first panel has the title: ${props.params.title}`}</div>;\\n};\\n\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Dockview API via the onReady callback\\\"\",\n        children: \"const onReady = (event: DockviewReadyEvent) => {\\n    // event.api...\\n};\\n\"\n      })\n    }), \"\\n\", _jsxs(\"p\", {\n      style: {\n        fontSize: '1.3em'\n      },\n      children: [_jsx(\"span\", {\n        children: 'All of these methods are available through the '\n      }), _jsx(\"code\", {\n        children: \"api\"\n      }), _jsx(\"span\", {\n        children: ' property of '\n      }), _jsx(\"code\", {\n        children: \"DockviewComponent\"\n      }), _jsx(\"span\", {\n        children: ' and the '\n      }), _jsx(\"code\", {\n        children: \"containerApi\"\n      }), _jsx(\"span\", {\n        children: ' property of '\n      }), _jsx(\"code\", {\n        children: \"IDockviewPanel\"\n      }), _jsx(\"span\", {\n        children: \".\"\n      })]\n    }), \"\\n\", _jsx(DocRef, {\n      declaration: \"DockviewApi\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"dockview-panel-api\",\n      children: \"Dockview Panel API\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"const MyComponent = (props: IDockviewPanelProps<{ title: string }>) => {\\n    // props.api...\\n\\n    return <div>{`My first panel has the title: ${props.params.title}`}</div>;\\n};\\n\"\n      })\n    }), \"\\n\", _jsxs(\"p\", {\n      style: {\n        fontSize: '1.3em'\n      },\n      children: [_jsx(\"span\", {\n        children: 'All of these are methods are available through the '\n      }), _jsx(\"code\", {\n        children: \"api\"\n      }), _jsx(\"span\", {\n        children: ' property of '\n      }), _jsx(\"code\", {\n        children: \"IDockviewPanel\"\n      }), _jsx(\"span\", {\n        children: \".\"\n      })]\n    }), \"\\n\", _jsx(DocRef, {\n      declaration: \"DockviewPanelApi\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"theme\",\n      children: \"Theme\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As well as importing the \", _jsx(_components.code, {\n        children: \"dockview\"\n      }), \" stylesheet you must provide a class-based theme somewhere in your application. For example.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"// Providing a theme directly through the DockviewReact component props\\n<DockviewReact className=\\\"dockview-theme-dark\\\" />\\n\\n// Providing a theme somewhere in the DOM tree\\n<div className=\\\"dockview-theme-dark\\\">\\n  <div>\\n    {/**...  */}\\n    <DockviewReact  />\\n  </div>\\n</div>\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can find more details on theming \", _jsx(Link, {\n        to: \"../theme\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"layout-persistance\",\n      children: \"Layout Persistance\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Layouts are loaded and saved via to \", _jsx(_components.code, {\n        children: \"fromJSON\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"toJSON\"\n      }), \" methods on the Dockview api.\\nThe api also exposes an event \", _jsx(_components.code, {\n        children: \"onDidLayoutChange\"\n      }), \" you can listen on to determine when the layout has changed.\\nBelow are some snippets showing how you might load from and save to localStorage.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Saving the layout state to localStorage\\\"\",\n        children: \"React.useEffect(() => {\\n    if (!api) {\\n        return;\\n    }\\n\\n    const disposable = api.onDidLayoutChange(() => {\\n        const layout = api.toJSON();\\n\\n        localStorage.setItem(\\n            'dockview_persistance_layout',\\n            JSON.stringify(layout)\\n        );\\n    });\\n\\n    return () => {\\n        disposable.dispose();\\n    };\\n}, [api]);\\n\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Loading a layout from localStorage\\\"\",\n        children: \"const onReady = (event: DockviewReadyEvent) => {\\n    const layoutString = localStorage.getItem('dockview_persistance_layout');\\n\\n    let success = false;\\n\\n    if (layoutString) {\\n        try {\\n            const layout = JSON.parse(layoutString);\\n            event.api.fromJSON(layout);\\n            success = true;\\n        } catch (err) {\\n            //\\n        }\\n    }\\n\\n    if (!success) {\\n        // do something if there is no layout or there was a loading error\\n    }\\n};\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here is an example using the above code loading from and saving to localStorage.\\nIf you refresh the page you should notice your layout is loaded as you left it.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"layout-dockview\",\n      react: DockviewPersistance\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"resizing\",\n      children: \"Resizing\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"panel-resizing\",\n      children: \"Panel Resizing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Each Dockview contains of a number of groups and each group has a number of panels.\\nLogically a user may want to resize a panel, but this translates to resizing the group which contains that panel.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can set the size of a panel using \", _jsx(_components.code, {\n        children: \"props.api.setSize(...)\"\n      }), \".\\nYou can also set the size of the group associated with the panel using \", _jsx(_components.code, {\n        children: \"props.api.group.api.setSize(...)\"\n      }), \" although this isn't recommended\\ndue to the clunky syntax.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"// it's mandatory to provide either a height or a width, providing both is optional\\nprops.api.setSize({\\n    height: 100,\\n    width: 200,\\n});\\n\\n// you could also resize the panels group, although not recommended it achieved the same result\\nprops.api.group.api.setSize({\\n    height: 100,\\n    width: 200,\\n});\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You can see an example invoking both approaches below.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"resize-dockview\",\n      react: ResizeDockview\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"container-resizing\",\n      children: \"Container Resizing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The component will automatically resize to it's container.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"resizecontainer-dockview\",\n      react: DockviewResizeContainer\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"watermark\",\n      children: \"Watermark\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When the dockview is empty you may want to display some fallback content, this is refered to as the \", _jsx(_components.code, {\n        children: \"watermark\"\n      }), \".\\nBy default there the watermark has no content but you can provide as a prop to \", _jsx(_components.code, {\n        children: \"DockviewReact\"\n      }), \" a \", _jsx(_components.code, {\n        children: \"watermarkComponent\"\n      }), \"\\nwhich will be rendered when there are no panels or groups.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"watermark-dockview\",\n      react: DockviewWatermark\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"drag-and-drop\",\n      children: \"Drag And Drop\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"built-in-behaviours\",\n      children: \"Built-in behaviours\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Dockview supports a wide variety of built-in Drag and Drop possibilities.\\nBelow are some examples of the operations you can perform.\"\n    }), \"\\n\", _jsx(\"img\", {\n      style: {\n        width: '60%'\n      },\n      src: useBaseUrl('/img/add_to_tab.svg')\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Drag a tab onto another tab to place it inbetween existing tabs.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"img\", {\n      style: {\n        width: '60%'\n      },\n      src: useBaseUrl('/img/add_to_empty_space.svg')\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Drag a tab to the right of the last tab to place it after the existing tabs.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"img\", {\n      style: {\n        width: '60%'\n      },\n      src: useBaseUrl('/img/add_to_group.svg')\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Drag a group onto an existing group to merge the two groups.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around'\n      },\n      children: [_jsx(\"img\", {\n        style: {\n          width: '40%'\n        },\n        src: useBaseUrl('/img/drop_positions.svg')\n      }), _jsx(\"img\", {\n        style: {\n          width: '40%'\n        },\n        src: useBaseUrl('/img/magnet_drop_positions.svg')\n      })]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Drag into the left/right/top/bottom target zone of a panel to create a new group in the selected direction.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Drag into the center of a panel to add to that group.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Drag to the edge of the dockview component to create a new group on the selected edge.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"extended-behaviours\",\n      children: \"Extended behaviours\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For interaction with the Drag events directly the component exposes some method to help determine whether external drag events should be interacted with or not.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"/**\\n * called when an ondrop event which does not originate from the dockview libray and\\n * passes the showDndOverlay condition occurs\\n **/\\nconst onDidDrop = (event: DockviewDropEvent) => {\\n    const { group } = event;\\n\\n    event.api.addPanel({\\n        id: 'test',\\n        component: 'default',\\n        position: {\\n            referencePanel: group.activePanel.id,\\n            direction: 'within',\\n        },\\n    });\\n};\\n\\n/**\\n * called for drag over events which do not originate from the dockview library\\n * allowing the developer to decide where the overlay should be shown for a\\n * particular drag event\\n **/\\nconst showDndOverlay = (event: DockviewDndOverlayEvent) => {\\n    return true;\\n};\\n\\nreturn (\\n    <DockviewReact\\n        components={components}\\n        onReady={onReady}\\n        className=\\\"dockview-theme-abyss\\\"\\n        onDidDrop={onDidDrop}\\n        showDndOverlay={showDndOverlay}\\n    />\\n);\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"intercepting-drag-events\",\n      children: \"Intercepting Drag Events\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can intercept drag events to attach your own metadata using the \", _jsx(_components.code, {\n        children: \"onWillDragPanel\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"onWillDragGroup\"\n      }), \" api methods.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"dnd-dockview\",\n      react: DndDockview\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"third-party-dnd-libraries\",\n      children: \"Third Party Dnd Libraries\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This shows a simple example of a third-party library used inside a panel that relies on drag\\nand drop functionalities. This examples serves to show that \", _jsx(_components.code, {\n        children: \"dockview\"\n      }), \" doesn't interfer with\\nany drag and drop logic for other controls.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"externaldnd-dockview\",\n      react: DockviewExternalDnd\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"floating-groups\",\n      children: \"Floating Groups\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Dockview has built-in support for floating groups. Each floating container can contain a single group with many panels\\nand you can have as many floating containers as needed. You cannot dock multiple groups together in the same floating container.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Floating groups can be interacted with whilst holding the \", _jsx(_components.code, {\n        children: \"shift\"\n      }), \" key activating the \", _jsx(_components.code, {\n        children: \"event.shiftKey\"\n      }), \" boolean property on \", _jsx(_components.code, {\n        children: \"KeyboardEvent\"\n      }), \" events.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"Float an existing tab by holding \", _jsx(_components.code, {\n          children: \"shift\"\n        }), \" whilst interacting with the tab\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"img\", {\n      style: {\n        width: '60%'\n      },\n      src: useBaseUrl('/img/float_add.svg')\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"Move a floating tab by holding \", _jsx(_components.code, {\n          children: \"shift\"\n        }), \" whilst moving the cursor or dragging the empty\\nheader space\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"img\", {\n      style: {\n        width: '60%'\n      },\n      src: useBaseUrl('/img/float_move.svg')\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"Move an entire floating group by holding \", _jsx(_components.code, {\n          children: \"shift\"\n        }), \" whilst dragging the empty header space\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"img\", {\n      style: {\n        width: '60%'\n      },\n      src: useBaseUrl('/img/float_group.svg')\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Floating groups can be programatically added through the dockview \", _jsx(_components.code, {\n        children: \"api\"\n      }), \" method \", _jsx(_components.code, {\n        children: \"api.addFloatingGroup(...)\"\n      }), \" and you can check whether\\na group is floating via the \", _jsx(_components.code, {\n        children: \"group.api.isFloating\"\n      }), \" property. See examples for full code.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can control the bounding box of floating groups through the optional \", _jsx(_components.code, {\n        children: \"floatingGroupBounds\"\n      }), \" options:\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"boundedWithinViewport\"\n        }), \" will force the entire floating group to be bounded within the docks viewport.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"{minimumHeightWithinViewport?: number, minimumWidthWithinViewport?: number}\"\n        }), \" sets the respective dimension minimums that must appears within the docks viewport\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"If no options are provided the defaults of \", _jsx(_components.code, {\n          children: \"100px\"\n        }), \" minimum height and width within the viewport are set.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      height: 600,\n      sandboxId: \"floatinggroup-dockview\",\n      react: DockviewFloating\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"panels\",\n      children: \"Panels\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"add-panel\",\n      children: \"Add Panel\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Using the dockview API you can access the \", _jsx(_components.code, {\n        children: \"addPanel\"\n      }), \" method which returns an instance of the created panel.\\nThe minimum method signature is:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel = api.addPanel({\\n    id: 'my_unique_panel_id',\\n    component: 'my_component',\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"where \", _jsx(_components.code, {\n        children: \"id\"\n      }), \" is the unique id of the panel and \", _jsx(_components.code, {\n        children: \"component\"\n      }), \" is the implenentation which\\nwill be used to render the panel. You will have registered this using the \", _jsx(_components.code, {\n        children: \"components\"\n      }), \" prop of the \", _jsx(_components.code, {\n        children: \"DockviewReactComponent\"\n      }), \" component.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can optionally provide a \", _jsx(_components.code, {\n        children: \"tabComponent\"\n      }), \" parameters to the \", _jsx(_components.code, {\n        children: \"addPanel\"\n      }), \" method which will render the tab using a custom renderer.\\nYou will have registered this using the \", _jsx(_components.code, {\n        children: \"tabComponents\"\n      }), \" prop of the \", _jsx(_components.code, {\n        children: \"DockviewReactComponent\"\n      }), \" component.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel = api.addPanel({\\n    id: 'my_unique_panel_id',\\n    component: 'my_component',\\n    tabComponent: 'my_tab_component',\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can pass properties to the panel using the \", _jsx(_components.code, {\n        children: \"params\"\n      }), \" key.\\nYou can update these properties through the panels \", _jsx(_components.code, {\n        children: \"api\"\n      }), \" object and its \", _jsx(_components.code, {\n        children: \"updateParameters\"\n      }), \" method.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel = api.addPanel({\\n    id: 'my_unique_panel_id',\\n    component: 'my_component',\\n    params: {\\n        myCustomKey: 'my_custom_value',\\n    },\\n});\\n\\npanel.api.updateParameters({\\n    myCustomKey: 'my_custom_value',\\n    myOtherCustomKey: 'my_other_custom_key',\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"Note \", _jsx(_components.code, {\n          children: \"updateParameters\"\n        }), \" does not accept partial parameter updates, you should call it with the entire set of parameters\\nyou want the panel to receive.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Finally \", _jsx(_components.code, {\n        children: \"addPanel\"\n      }), \" accepts a \", _jsx(_components.code, {\n        children: \"position\"\n      }), \" object which tells dockview where to place the panel.\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"This object optionally accepts either a \", _jsx(_components.code, {\n          children: \"referencePanel\"\n        }), \" or \", _jsx(_components.code, {\n          children: \"referenceGroup\"\n        }), \" which can be the associated id as a string\\nor the panel/group object reference.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"This object accepts a \", _jsx(_components.code, {\n          children: \"direction\"\n        }), \" property which dictates where,\\nrelative to the provided reference the new panel will be placed.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"If neither a \", _jsx(_components.code, {\n          children: \"referencePanel\"\n        }), \" or \", _jsx(_components.code, {\n          children: \"referenceGroup\"\n        }), \" is provided then the \", _jsx(_components.code, {\n          children: \"direction\"\n        }), \" will be treated as absolute.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"If no \", _jsx(_components.code, {\n          children: \"direction\"\n        }), \" is provided the library will place the new panel in a pre-determined position.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel = api.addPanel({\\n    id: 'panel_1',\\n    component: 'default',\\n});\\n\\nconst panel2 = api.addPanel({\\n    id: 'panel_2',\\n    component: 'default',\\n    position: {\\n        referencePanel: panel1,\\n        direction: 'right',\\n    },\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add a floating panel you should include the \", _jsx(_components.code, {\n        children: \"floating\"\n      }), \" variable which can be either a \", _jsx(_components.code, {\n        children: \"boolean\"\n      }), \" or an object defining it's bounds.\\nThese bounds are relative to the dockview component.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel1 = api.addPanel({\\n    id: 'panel_2',\\n    component: 'default',\\n    floating: true,\\n});\\n\\nconst panel2 = api.addPanel({\\n    id: 'panel_2',\\n    component: 'default',\\n    floating: { x: 10, y: 10, width: 300, height: 300 },\\n});\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"update-panel\",\n      children: \"Update Panel\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can programatically update the \", _jsx(_components.code, {\n        children: \"params\"\n      }), \" passed through to the panel through the panal api using \", _jsx(_components.code, {\n        children: \"api.updateParameters\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel = api.addPanel({\\n    id: 'panel_1',\\n    component: 'default',\\n    params: {\\n        keyA: 'valueA',\\n    },\\n});\\n\\n// ...\\n\\npanel.api.updateParameters({\\n    keyB: 'valueB',\\n});\\n\\n// ...\\n\\npanel.api.updateParameters({\\n    keyA: 'anotherValueA',\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To delete a parameter you should pass a value of \", _jsx(_components.code, {\n        children: \"undefined\"\n      }), \" for the key.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"panel.api.updateParameters({\\n    keyA: undefined, // this will delete 'keyA'.\\n});\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"move-panel\",\n      children: \"Move panel\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can programatically move a panel using the panel \", _jsx(_components.code, {\n        children: \"api\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"panel.api.moveTo({ group, position, index });\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"An equivalent method for moving groups is avaliable on the group \", _jsx(_components.code, {\n        children: \"api\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const group = panel.api.group;\\ngroup.api.moveTo({ group, position });\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"remove-panel\",\n      children: \"Remove panel\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can programatically remove a panel using the panel \", _jsx(_components.code, {\n        children: \"api\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"panel.api.close();\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Given a reference to the panel you can also use the component \", _jsx(_components.code, {\n        children: \"api\"\n      }), \" to remove it.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const panel = api.getPanel('myPanel');\\napi.removePanel(panel);\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"panel-rendering\",\n      children: \"Panel Rendering\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"By default \", _jsx(_components.code, {\n        children: \"DockviewReact\"\n      }), \" only adds to the DOM those panels that are visible,\\nif a panel is not the active tab and not shown the contents of the hidden panel will be removed from the DOM.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However the React Components associated with each panel are only created once and will always exist for as long as the panel exists, hidden or not.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"For example this means that any hooks in those components will run whether the panel is visible or not which may lead to excessive background work depending\\non the panels implementation.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This is the default behaviour to ensure the greatest flexibility for the user but through the panels \", _jsx(_components.code, {\n        children: \"props.api\"\n      }), \" you can listen to the visiblity state of the panel\\nand write additional logic to optimize your application.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For example if you wanted to unmount the React Components when the panel is not visible you could create a Higher-Order-Component that listens to the panels\\nvisiblity state and only renders the panel when visible.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Only rendering the React Component when the panel is visible, otherwise rendering a null React Component\\\"\",\n        children: \"import { IDockviewPanelProps } from 'dockview';\\nimport * as React from 'react';\\n\\nfunction RenderWhenVisible(\\n    component: React.FunctionComponent<IDockviewPanelProps>\\n) {\\n    const HigherOrderComponent = (props: IDockviewPanelProps) => {\\n        const [visible, setVisible] = React.useState<boolean>(\\n            props.api.isVisible\\n        );\\n\\n        React.useEffect(() => {\\n            const disposable = props.api.onDidVisibilityChange((event) =>\\n                setVisible(event.isVisible)\\n            );\\n\\n            return () => {\\n                disposable.dispose();\\n            };\\n        }, [props.api]);\\n\\n        if (!visible) {\\n            return null;\\n        }\\n\\n        return React.createElement(component, props);\\n    };\\n    return HigherOrderComponent;\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"const components = { default: RenderWhenVisible(MyComponent) };\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Toggling the checkbox you can see that when you only render those panels which are visible the underling React component is destroyed when it becomes hidden and re-created when it becomes visible.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"rendering-dockview\",\n      react: RenderingDockview\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"headers\",\n      children: \"Headers\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"custom-tab-headers\",\n      children: \"Custom Tab Headers\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can provide custom renderers for your tab headers for maximum customization.\\nA default implementation of \", _jsx(_components.code, {\n        children: \"DockviewDefaultTab\"\n      }), \" is provided should you only wish to attach minor\\nchanges and events that do not alter the default behaviour, for example to add a custom context menu event\\nhandler.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"DockviewDefaulTab\"\n      }), \" component accepts a \", _jsx(_components.code, {\n        children: \"hideClose\"\n      }), \" prop if you wish only to hide the close button.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Attaching a custom context menu event handlers to a custom header\\\"\",\n        children: \"import { IDockviewPanelHeaderProps, DockviewDefaultTab } from 'dockview';\\n\\nconst MyCustomheader = (props: IDockviewPanelHeaderProps) => {\\n    const onContextMenu = (event: React.MouseEvent) => {\\n        event.preventDefault();\\n        alert('context menu');\\n    };\\n    return <DockviewDefaultTab onContextMenu={onContextMenu} {...props} />;\\n};\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You are also free to define a custom renderer entirely from scratch and not make use of the \", _jsx(_components.code, {\n        children: \"DockviewDefaultTab\"\n      }), \" component.\\nTo use a custom renderer you can must register a collection of tab components.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"const tabComponents = {\\n    myCustomHeader: MyCustomHeader,\\n};\\n\\nreturn <DockviewReact tabComponents={tabComponents}  ... />;\\n\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"api.addPanel({\\n    id: 'panel_1',\\n    component: 'default',\\n    tabComponent: 'myCustomHeader', // <-- your registered renderers\\n    title: 'Panel 1',\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also override the default tab renderer which will be used when no \", _jsx(_components.code, {\n        children: \"tabComponent\"\n      }), \" is provided to the \", _jsx(_components.code, {\n        children: \"addPanel\"\n      }), \" function.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"<DockviewReact defaultTabComponent={MyCustomHeader}  ... />;\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As a simple example the below attaches a custom event handler for the context menu on all tabs as a default tab renderer\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The below example uses a custom tab renderer to reigster a popover when the user right clicked on a tab.\\nThis still makes use of the \", _jsx(_components.code, {\n        children: \"DockviewDefaultTab\"\n      }), \" since it's only a minor change.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"customheader-dockview\",\n      react: CustomHeadersDockview\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"default-tab-title\",\n      children: \"Default Tab Title\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If you are using the default tab renderer you can set the title of a tab when creating it\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"api.addPanel({\\n    id: 'panel_1',\\n    component: 'my_component',\\n    title: 'my_custom_title', // <-- special param for title\\n});\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can update the title through the panel api which can be accessed via \", _jsx(_components.code, {\n        children: \"props.api\"\n      }), \" if you are inside the panel\\ncomponent or via \", _jsx(_components.code, {\n        children: \"api.getPanel('panel1').api\"\n      }), \" if you are accessing from outside of the panel component.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"api.setTitle('my_new_custom_title');\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Note this only works when using the default tab implementation.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"updatetitle-dockview\",\n      react: DockviewSetTitle\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"custom-tab-title\",\n      children: \"Custom Tab Title\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If you are using a custom tab implementation you should pass variables through as a parameter and render them\\nthrough your tab components implementation.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Add a panel with custom parameters\\\"\",\n        children: \"api.addPanel({\\n    id: 'panel_2',\\n    component: 'my_component',\\n    tabComponent: 'my_tab',\\n    params: {\\n        myTitle: 'Window 2', // <-- passing a variable to use as a title\\n    },\\n});\\n\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        metastring: \"title=\\\"Accessing custom parameters from a custom tab renderer\\\"\",\n        children: \"const tabComponents = {\\n    default: (props: IDockviewPanelHeaderProps<{ myTitle: string }>) => {\\n        const title = props.params.myTitle; // <-- accessing my custom varaible\\n        return <div>{/** tab implementation as chosen by developer */}</div>;\\n    },\\n};\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"hidden-headers\",\n      children: \"Hidden Headers\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You may wish to hide the header section of a group. This can achieved through the \", _jsx(_components.code, {\n        children: \"hidden\"\n      }), \" variable on \", _jsx(_components.code, {\n        children: \"panel.group.header\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"panel.group.header.hidden = true;\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"full-width-tabs\",\n      children: \"Full width tabs\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"DockviewReactComponent\"\n      }), \" accepts the prop \", _jsx(_components.code, {\n        children: \"singleTabMode\"\n      }), \". If set \", _jsx(_components.code, {\n        children: \"singleTabMode=fullwidth\"\n      }), \" then when there is only one tab in a group this tab will expand\\nto the entire width of the group. For example:\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"This can be conmbined with \", _jsx(Link, {\n          to: \"./dockview/#locked-group\",\n          children: \"Locked Groups\"\n        }), \" to create an application that feels more like a Window Manager\\nrather than a collection of groups and tabs.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"<DockviewReactComponent singleTabMode=\\\"fullwidth\\\" {...otherProps} />\\n\"\n      })\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"fullwidthtab-dockview\",\n      react: DockviewNative,\n      typescript: attachNativeDockview\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"tab-height\",\n      children: \"Tab Height\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Tab height can be controlled through CSS.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"tabheight-dockview\",\n      react: DockviewTabheight,\n      typescript: attachTabHeightDockview\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"groups\",\n      children: \"Groups\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"locked-group\",\n      children: \"Locked group\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Locking a group will disable all drop events for this group ensuring no additional panels can be added to the group through drop events.\\nYou can still add groups to a locked panel programatically using the API though.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"panel.group.locked = true;\\n\\n// Or\\n\\npanel.group.locked = 'no-drop-target';\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use \", _jsx(_components.code, {\n        children: \"true\"\n      }), \" to keep drop zones top, right, bottom, left for the group. Use \", _jsx(_components.code, {\n        children: \"no-drop-target\"\n      }), \" to disable all drop zones. For you to get a\\nbetter understanding of what this means, try and drag the panels in the example below to the locked groups.\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"lockedgroup-dockview\",\n      react: DockviewLockedGroup\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"group-controls-panel\",\n      children: \"Group Controls Panel\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"DockviewReact\"\n      }), \" accepts \", _jsx(_components.code, {\n        children: \"leftHeaderActionsComponent\"\n      }), \", \", _jsx(_components.code, {\n        children: \"rightHeaderActionsComponent\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"prefixHeaderActionsComponent\"\n      }), \" which expect a React component with props \", _jsx(_components.code, {\n        children: \"IDockviewHeaderActionsProps\"\n      }), \".\\nThese controls are rendered to left and right side of the space to the right of the tabs in the header bar as well as before the first tab in the case of the prefix header prop.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"const Component: React.FunctionComponent<IDockviewHeaderActionsProps> = () => {\\n    return <div>{'...'}</div>;\\n};\\n\\nreturn <DockviewReact {...props} leftHeaderActionsComponent={Component} rightHeaderActionsComponent={...} />;\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As a simple example the below uses the \", _jsx(_components.code, {\n        children: \"groupControlComponent\"\n      }), \" to render a small control that indicates whether the group\\nis active and which panel is active in that group.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"const RightHeaderActionsComponent = (props: IDockviewHeaderActionsProps) => {\\n    const isGroupActive = props.isGroupActive;\\n    const activePanel = props.activePanel;\\n\\n    return (\\n        <div className=\\\"dockview-groupcontrol-demo\\\">\\n            <span\\n                className=\\\"dockview-groupcontrol-demo-group-active\\\"\\n                style={{\\n                    background: isGroupActive ? 'green' : 'red',\\n                }}\\n            >\\n                {isGroupActive ? 'Group Active' : 'Group Inactive'}\\n            </span>\\n            <span className=\\\"dockview-groupcontrol-demo-active-panel\\\">{`activePanel: ${\\n                activePanel?.id || 'null'\\n            }`}</span>\\n        </div>\\n    );\\n};\\n\"\n      })\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"groupcontrol-dockview\",\n      react: DockviewGroupControl\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"constraints\",\n      children: \"Constraints\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You may wish to specify a minimum or maximum height or width for a group which can be done through the group api.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"api.group.api.setConstraints(...)\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Constraints are currently only supported for groups and not individual panels.\\nIf you specific a constraint on a group and move a panel within that group to another group it will no\\nlonger be subject to those constraints since those constraints were on the group and not on the individual panel.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      height: 500,\n      sandboxId: \"constraints-dockview\",\n      react: DockviewConstraints\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"iframes\",\n      children: \"iFrames\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"iFrames required special attention because of a particular behaviour in how iFrames render:\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Re-parenting an iFrame will reload the contents of the iFrame or the rephrase this, moving an iFrame within the DOM will cause a reload of its contents.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can find many examples of discussions on this. Two reputable forums for example are linked \", _jsx(_components.a, {\n        href: \"https://bugzilla.mozilla.org/show_bug.cgi?id=254144\",\n        children: \"here\"\n      }), \" and \", _jsx(_components.a, {\n        href: \"https://github.com/whatwg/html/issues/5484\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The problem with iFrames and \", _jsx(_components.code, {\n        children: \"dockview\"\n      }), \" is that when you hide or move a panel that panels DOM element may be moved within the DOM or removed from the DOM completely.\\nIf your panel contains an iFrame then that iFrame will reload after being re-positioned within the DOM tree and all state in that iFrame will most likely be lost.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"dockview\"\n      }), \" does not provide a built-in solution to this because it's too specific of a problem to include in the library.\\nHowever the below example does show an implementation of a higher-order component \", _jsx(_components.code, {\n        children: \"HoistedDockviewPanel\"\n      }), \"that you could use to work around this problems and make iFrames behave in \", _jsx(_components.code, {\n        children: \"dockview\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"What the higher-order component is doing is to hoist the panels contents into a DOM element that is always present and then \", _jsx(_components.code, {\n        children: \"position: absolute\"\n      }), \" that element to match the dimensions of it's linked panel.\\nThe visibility of these hoisted elements is then controlled through some exposed api methods to hide elements that shouldn't be currently shown.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You should open this example in CodeSandbox using the provided link to understand the code and make use of this implemention if required.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"iframe-dockview\",\n      height: 600,\n      react: DockviewWithIFrames\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"events\",\n      children: \"Events\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A simple example showing events fired by `dockviewz that can be interacted with.\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      height: 600,\n      sandboxId: \"events-dockview\",\n      react: EventsDockview\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"keyboard-navigation\",\n      children: \"Keyboard Navigation\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Keyboard shortcuts\"\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      height: 600,\n      sandboxId: \"keyboard-dockview\",\n      react: DockviewKeyboard\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"nested-dockviews\",\n      children: \"Nested Dockviews\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can safely create multiple dockview instances within one page and nest dockviews within other dockviews.\\nIf you wish to interact with the drop event from one dockview instance in another dockview instance you can implement the \", _jsx(_components.code, {\n        children: \"showDndOverlay\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"onDidDrop\"\n      }), \" props on \", _jsx(_components.code, {\n        children: \"DockviewReact\"\n      }), \".\"]\n    }), \"\\n\", _jsx(MultiFrameworkContainer, {\n      sandboxId: \"nested-dockview\",\n      react: NestedDockview\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"window-like-mananger-with-tabs\",\n      children: \"Window-like mananger with tabs\"\n    }), \"\\n\", _jsx(DockviewNative2, {})]\n  });\n}\nexport default function MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\n\n"],"names":["TransferObject","PanelTransfer","constructor","viewId","groupId","panelId","super","PaneTransfer","paneId","LocalSelectionTransfer","getInstance","INSTANCE","hasData","proto","this","clearData","undefined","data","getData","setData","getPanelData","panelTransfer","prototype","getPaneData","paneTransfer","Event","Disposable","any","_len","arguments","length","children","Array","_key","listener","disposables","map","child","dispose","forEach","d","Stacktrace","create","_a","Error","stack","value","print","console","warn","Listener","callback","stacktrace","Emitter","setLeakageMonitorEnabled","isEnabled","ENABLE_TRACKING","MEMORY_LEAK_WATCHER","clear","options","_listeners","_disposed","event","_event","replay","_last","push","index","indexOf","splice","add","fire","e","queueMicrotask","delete","addDisposableWindowListener","element","type","addEventListener","removeEventListener","addDisposableListener","events","Map","size","set","TickDelayedEvent","_onFired","onEvent","timer","clearTimeout","setTimeout","NONE","from","func","CompositeDisposable","isDisposed","_isDisposed","args","_disposables","addDisposables","_len2","_key2","arg","MutableDisposable","_disposable","disposable","watchElementResize","cb","observer","ResizeObserver","entires","requestAnimationFrame","firstEntry","observe","unobserve","disconnect","removeClasses","classes","classname","classList","contains","remove","addClasses","toggleClass","className","isToggled","hasClass","isAncestor","testChild","testAncestor","parentNode","getElementsByTagName","tag","slice","call","document","trackFocus","FocusTracker","_onDidFocus","onDidFocus","_onDidBlur","onDidBlur","hasFocus","activeElement","loosingFocus","onFocus","onBlur","window","_refreshStateHandler","HTMLElement","refreshState","QUASI_PREVENT_DEFAULT_KEY","quasiDefaultPrevented","getDomNodePagePosition","domNode","left","top","width","height","getBoundingClientRect","scrollX","scrollY","tail","arr","sequenceEquals","arr1","arr2","i","pushToStart","unshift","pushToEnd","array","findIndex","t","clamp","min","max","Math","sequentialNumberGenerator","next","toString","range","to","result","ViewItem","_size","cachedVisibleSize","_cachedVisibleSize","visible","minimumSize","view","viewMinimumSize","maximumSize","viewMaximumSize","priority","snap","enabled","container","style","pointerEvents","setVisible","toggle","Orientation","SashState","LayoutPriority","Sizing","Distribute","Split","Invisible","Splitview","contentSize","_contentSize","orthogonalSize","_orthogonalSize","viewItems","proportions","_proportions","orientation","_orientation","tmp","HORIZONTAL","reduce","r","item","Number","POSITIVE_INFINITY","startSnappingEnabled","_startSnappingEnabled","updateSashEnablement","endSnappingEnabled","_endSnappingEnabled","_this","sashes","_onDidSashEnd","onDidSashEnd","_onDidAddView","onDidAddView","_onDidRemoveView","onDidRemoveView","resize","delta","sizes","lowPriorityIndexes","highPriorityIndexes","overloadMinDelta","overloadMaxDelta","snapBefore","snapAfter","x","NEGATIVE_INFINITY","upIndexes","downIndexes","upItems","upSizes","downItems","downSizes","minDeltaUp","_","maxDeltaUp","maxDeltaDown","minDeltaDown","minDelta","maxDelta","snapped","snapView","limitDelta","actualDelta","deltaUp","viewDelta","deltaDown","createContainer","proportionalLayout","viewContainer","createViewContainer","sashContainer","createSashContainer","appendChild","styles","descriptor","views","viewDescriptor","sizing","addView","saveProportions","separatorBorder","removeProperty","setProperty","isViewVisible","setViewVisible","viewItem","distributeEmptySpace","layoutViews","getViewSize","resizeView","indexes","filter","Low","High","round","relayout","getViews","onDidChange","skipLayout","createElement","viewSize","newSize","removeChild","insertBefore","sash","onPointerStart","iframes","iframe","start","clientX","clientY","sashIndex","fn","firstIndex","s","snapBeforeIndex","findFirstSnapIndex","snapAfterIndex","snappedViewItem","halfSize","floor","onPointerMove","end","sashItem","distributeViewSizes","flexibleViewItems","flexibleSize","removeView","getViewCachedVisibleSize","moveView","layout","previousSize","total","proportion","lowPriorityIndex","emptyDelta","sum","offset","VERTICAL","previous","collapsesDown","expandsDown","reverseViews","reverse","collapsesUp","expandsUp","position","snappedBefore","snappedAfter","updateSash","MINIMUM","MAXIMUM","DISABLED","ENABLED","state","orientationClassname","Paneview","splitview","paneItems","skipAnimation","_onDidChange","getPanes","pane","onDidChangeExpansionState","setupAnimation","paneItem","addPane","removePane","skipDispose","animationTimer","LeafNode","minimumWidth","maximumWidth","minimumHeight","maximumHeight","minimumOrthogonalSize","maximumOrthogonalSize","BranchNode","c","Normal","priorities","some","p","childDescriptors","_childrenDisposable","_onDidVisibilityChange","onDidVisibilityChange","childDescriptor","node","setupChildrenEvents","isChildVisible","setChildVisible","wereAllChildrenHidden","areAllChildrenHidden","moveChild","_removeChild","_addChild","getChildSize","resizeChild","addChild","getChildCachedVisibleSize","findLeaf","candiateNode","last","flipNode","orthogonal","totalSize","childSize","getGridLocation","parentElement","test","el","firstElementChild","lastElementChild","nextElementSibling","indexInParent","getRelativeLocation","rootOrientation","location","direction","getLocationOrientation","directionOrientation","getDirectionOrientation","rest","_index","serializeBranchNode","box","isGridBranchNode","toJSON","Gridview","_root","root","maximizedView","_maximizedNode","hasMaximizedView","maximizeView","getNode","exitMaximizedView","hideAllViewsBut","parent","exclude","_onDidMaxmizedNodeChange","showViewsInReverseOrder","serialize","getView","deserialize","json","deserializer","_deserialize","_deserializeNode","serializedChild","fromJSON","oldRoot","insertOrthogonalSplitviewAtRoot","childReference","progmaticSelect","_getViews","nodeCachedVisibleSize","path","n","l","onDidMaxmizedNodeChange","parentLocation","pathToParent","grandParent","parentIndex","__","newSiblingSize","newSiblingCachedVisibleSize","newParent","newSibling","nodeToRemove","sibling","isSiblingVisible","siblingSizing","SplitviewApi","component","panels","onDidLayoutFromJSON","onDidLayoutChange","updateOptions","removePanel","panel","focus","getPanel","id","addPanel","movePanel","PaneviewApi","onDidDrop","emitter","Object","assign","api","GridviewApi","onDidAddPanel","onDidAddGroup","onDidRemovePanel","onDidRemoveGroup","onDidActivePanelChange","onDidActiveGroupChange","groups","force","DockviewApi","totalPanels","onWillDragGroup","onWillDragPanel","activePanel","activeGroup","getGroupPanel","addGroup","closeAllGroups","removeGroup","group","getGroup","addFloatingGroup","coord","moveToNext","moveToPrevious","maximizeGroup","hasMaximizedGroup","exitMaxmizedGroup","exitMaximizedGroup","onDidMaxmizedGroupChange","addPopoutGroup","DragAndDropObserver","callbacks","target","registerListeners","onDragEnter","onDragOver","preventDefault","onDragLeave","onDragEnd","onDrop","directionToPosition","positionToDirection","Droptarget","_state","_onDrop","_acceptedTargetZonesSet","Set","acceptedTargetZones","dnd","removeDropTarget","clientWidth","clientHeight","rect","currentTarget","y","quadrant","calculateQuadrant","isAlreadyUsed","canDisplayOverlay","markAsUsed","targetElement","overlayElement","append","toggleClasses","setState","stopPropagation","nativeEvent","setTargetZones","USED_EVENT_ID","isSmallX","isSmallY","isLeft","isRight","isTop","isBottom","rightClass","leftClass","topClass","bottomClass","_b","overlayModel","_d","_c","translate","transform","overlayType","isPercentage","activationSize","maybeNumber","_f","_e","fallback","threshold","xp","yp","has","calculateQuadrantAsPercentage","calculateQuadrantAsPixels","DockviewDropTargets","ContentContainer","_element","accessor","tabIndex","dropTarget","locked","shiftKey","Panel","show","display","hide","renderPanel","isActive","renderer","overlayRenderContainer","content","setReferenceContentContainer","focusTracker","openPanel","_width","_height","closePanel","defaultRenderer","DragHandler","dataDisposable","pointerEventsDisposable","_onDragStart","onDragStart","configure","isCancelled","defaultPrevented","dataTransfer","effectAllowed","items","TabDragHandler","Tab","_onChanged","onChanged","_onDropped","draggable","dragHandler","droptarget","model","setActive","setContent","part","GroupDragHandler","dragEvent","getComputedStyle","bgColor","getPropertyValue","color","ghostElement","backgroundColor","padding","fontSize","lineHeight","borderRadius","textContent","body","setDragImage","addGhostImage","VoidContainer","doSetGroupActive","handler","voidDropTarget","TabsContainer","tabs","hidden","_hidden","setRightActionsElement","rightActions","rightActionsContainer","setLeftActionsElement","leftActions","leftActionsContainer","setPrefixActionsElement","preActions","preActionsContainer","tab","selectedIndex","_onTabDragStart","onTabDragStart","_onGroupDragStart","onGroupDragStart","singleTabMode","tabContainer","voidContainer","disableFloatingGroups","rootTop","rootLeft","inDragMode","button","_isGroupActive","addTab","tabToRemove","setActivePanel","isActivePanel","find","isFloatingGroupsEnabled","isFloatingWithOnePanel","alreadyFocused","isContentFocused","skipFocus","DockviewGroupPanelModel","_activePanel","_locked","_panels","isEmpty","hasWatermark","watermark","header","tabsContainer","contentContainer","_location","groupPanel","_onDidLocationChange","mostRecentlyUsed","_onMove","onMove","_onDidDrop","_onDidAddPanel","_onDidRemovePanel","_onDidActivePanelChange","hideHeader","handleDropEvent","initialize","doAddPanel","updateContainer","createRightHeaderActionsElement","_rightHeaderActions","init","containerApi","createLeftHeaderActionsElement","_leftHeaderActions","createPrefixHeaderActionsElement","_prefixHeaderActions","rerender","activeView","normalizedIndex","suppressRoll","containsPanel","includes","_params","update","skipSetPanelActive","skipSetGroupActive","updateParentGroup","doSetActivePanel","groupItemOrId","panelToRemove","_removePanel","closeAllPanels","arrPanelCpy","doClose","isPanelActive","updateActions","isGroupActive","doRemovePanel","nextPanel","skipSetActive","hasExistingPanel","updateMru","createWatermarkComponent","showDndOverlay","itemId","Resizable","disableResizing","_disableResizing","entry","currentElement","DocumentFragment","host","isInDocument","contentRect","nextLayoutId","toTarget","BaseGrid","_id","_groups","values","gridview","_activeGroup","disableAutoResizing","_onDidLayoutChange","_onDidRemoveGroup","_onDidAddGroup","_onDidActiveGroupChange","_bufferOnDidLayoutChange","isVisible","isMaximizedGroup","doAddGroup","doRemoveGroup","get","skipActive","forceResize","PanelApiImpl","isFocused","_isFocused","_isActive","_isVisible","panelUpdatesDisposable","_onDidDimensionChange","onDidDimensionsChange","_onDidChangeFocus","onDidFocusChange","_onFocusEvent","onFocusEvent","_onVisibilityChange","onVisibilityChange","_onDidActiveChange","onDidActiveChange","_onActiveChange","onActiveChange","_onUpdateParameters","onUpdateParameters","parameters","params","updateParameters","SplitviewPanelApiImpl","_onDidConstraintsChangeInternal","onDidConstraintsChangeInternal","_onDidConstraintsChange","onDidConstraintsChange","_onDidSizeChange","onDidSizeChange","setConstraints","setSize","PaneviewPanelApiImpl","_pane","_onDidExpansionChange","onDidExpansionChange","_onMouseEnter","onMouseEnter","_onMouseLeave","onMouseLeave","setExpanded","isExpanded","BasePanelView","outline","overflow","getComponent","key","keys","PaneviewPanel","headerSize","_minimumBodySize","_maximumBodySize","minimumBodySize","maximumBodySize","headerVisible","_headerVisible","headerComponent","isHeaderVisible","_onDidChangeExpansionState","_isExpanded","expandedSize","ev","isPanelExpanded","renderOnce","expanded","bodyPart","getBodyComponent","headerPart","getHeaderComponent","title","minHeight","maxHeight","DraggablePaneviewPanel","disableDnd","initDragFeatures","accessorId","existingPanel","allPanels","fromIndex","toIndex","GridviewPanelApiImpl","GridviewPanel","_priority","_snap","_minimumWidth","_evaluatedMinimumWidth","updateConstraints","_minimumHeight","_evaluatedMinimumHeight","_maximumHeight","_evaluatedMaximumHeight","_maximumWidth","_evaluatedMaximumWidth","MAX_SAFE_INTEGER","maximum","minimum","NOT_INITIALIZED_MESSAGE","DockviewGroupPanelApiImpl","_group","onDidLocationChange","moveTo","moveGroupOrPanel","maximize","isMaximized","exitMaximized","DockviewGroupPanel","_model","DockviewPanelApiImpl","isOldGroupActive","_onDidGroupChange","_onDidTitleChange","onDidTitleChange","onDidGroupChange","_onDidRendererChange","onDidRendererChange","setTitle","setRenderer","close","DockviewPanel","_title","_renderer","contentComponent","tabComponent","isPanelVisible","createSvgElementFromPath","svg","createElementNS","setAttributeNS","viewbox","createCloseButton","DefaultTab","_content","_actionContainer","_list","action","render","onGroupChange","onPanelVisibleChange","_isPanelVisible","createComponent","componentName","components","frameworkComponents","createFrameworkComponent","Component","FrameworkComponent","DockviewPanelModel","_tab","createContentComponent","createTabComponent","frameworkComponentFactory","tabComponents","frameworkTabComponents","defaultTabComponent","DefaultDockviewDeserialzier","panelData","viewData","Watermark","emptySpace","flexGrow","actionsContainer","closeAnchor","_api","_visible","isOneGroup","bringElementToFront","Overlay","minimumInViewportWidth","minimumInViewportHeight","_onDidChangeEnd","onDidChangeEnd","setupResize","setBounds","bounds","containerRect","overlayRect","xOffset","getMinimumWidth","yOffset","getMinimumHeight","setupDrag","dragTarget","move","track","resizeHandleElement","startPosition","originalY","originalHeight","originalX","originalWidth","moveTop","MAX_VALUE","MINIMUM_HEIGHT","moveBottom","moveLeft","MINIMUM_WIDTH","moveRight","DockviewFloatingGroupPanel","overlay","PopoutWindow","_onDidClose","onDidClose","_window","dimensions","screenX","screenY","innerWidth","innerHeight","open","url","features","entries","_ref","join","externalWindow","cleanUp","externalDocument","div","replaceChildren","styleSheetList","styleSheets","styleSheet","href","link","rel","head","cssTexts","cssRules","rule","cssText","err","createTextNode","addStyles","DockviewPopoutGroupPanel","popoutUrl","DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE","DEFAULT_FLOATING_GROUP_POSITION","OverlayRenderContainer","allIds","referenceContainer","createFocusableElement","focusContainer","box2","visibilityChanged","DockviewComponent","flatMap","_options","nextGroupId","_deserializer","_onWillDragPanel","_onWillDragGroup","_onDidLayoutFromJSON","_floatingGroups","_popoutGroups","gready","debug","updateWatermark","watermarkComponent","watermarkFrameworkComponent","Edge","orthogonalize","createGroup","removeEmptyGroup","skipRemoveGroup","theme","toClassList","list","cls","startsWith","getTheme","popoutWindow","overlayLeft","overlayTop","floatingGroupBounds","minimumWidthWithinViewport","minimumHeightWithinViewport","querySelector","floatingGroupPanel","createGroupAtLocation","hasOrientationChanged","hasFloatingGroupOptionsChanged","floating","includePanel","doSetGroupAndPanelActive","collection","floats","popoutGroups","grid","floatingGroups","isArray","createGroupFromSerializedState","createdPanels","serializedFloatingGroups","serializedFloatingGroup","serializedPopoutGroups","serializedPopoutGroup","floatingGroup","hasActiveGroup","hasActivePanel","referenceGroup","referencePanel","findGroup","isPanelOptionsWithGroup","createPanel","o","relativeLocation","watermarkContainer","isGroupOptionsWithGroup","selectedGroup","destinationGroup","sourceGroupId","sourceItemId","destinationTarget","destinationIndex","sourceGroup","referenceLocation","targetLocation","targetParentLocation","sourceLocation","sourceParentLocation","targetGroup","updatedReferenceLocation","groupItem","dropLocation","moveGroup","selectedFloatingGroup","selectedPopoutGroup","GridviewComponent","_onDidLayoutfromJSON","serializedGridview","queue","registerPanel","f","removedPanel","reference","SplitviewComponent","_splitview","_splitviewChangeDisposable","v","frameworkWrapper","doAddView","serializedSplitview","DefaultHeader","_expandedIcon","_collapsedIcon","apiRef","_expander","updateIcon","PaneFramework","PaneviewComponent","paneview","_paneview","_viewDisposables","headerComponents","headerframeworkComponents","serializedPaneview","SplitviewPanel","_minimumSize","_evaluatedMinimumSize","_maximumSize","_evaluatedMaximumSize","ReactComponentBridge","props","ref","triggerRender","React","_props","componentProps","current","Date","now","displayName","uniquePortalKeyGenerator","ReactPartContext","ReactPart","portalStore","context","_initialProps","disposed","createPortal","componentInstance","bridgeComponent","Provider","portal","ReactDOM","addPortal","usePortalsLifecycle","portals","setPortals","existingPortals","ReactPanelContentPart","reactPortalStore","DockviewEmitter","ReactPanelHeaderPart","ReactWatermarkPart","ReactHeaderActionsRendererPart","_part","mutableDisposable","DockviewMutableDisposable","DockviewCompositeDisposable","updatePanels","updateActivePanel","updateGroupActive","createGroupControlElement","store","DEFAULT_REACT_TAB","DockviewReact","domRef","dockviewRef","factory","componentId","dockview","hideBorders","leftHeaderActionsComponent","rightHeaderActionsComponent","prefixHeaderActionsComponent","onReady","CloseButton","viewBox","focusable","DockviewDefaultTab","_containerApi","hideClose","closeActionOverride","__rest","onClose","onMouseDown","onClick","ReactPanelView","reactComponent","SplitviewReact","splitviewRef","ReactGridPanelView","GridviewReact","gridviewRef","PanePanelSection","PaneviewReact","paneviewRef","_componentId","default","contraints","setContraints","_jsxs","background","_jsx","border","margin","setApi","panel1","panel2","onContextMenu","alert","JSON","stringify","valueA","panel6","DraggableElement","cursor","panelDragDisposable","groupDragDisposable","flexDirection","text","formatTime","pad","getHours","getMinutes","getSeconds","getMilliseconds","Console","scrollTop","scrollHeight","lines","line","timestamp","css","setLines","checked","setChecked","panel_1","panel_2","panel_3","panel_4","panel_5","panel_6","panel_8","panel_7","onChange","paddingTop","SampleData","droppable","TreeComponent","treeData","setTreeData","useState","Tree","tree","rootId","newTreeData","log","depth","isOpen","onToggle","marginLeft","treeview","DndProvider","backend","MultiBackend","getBackendOptions","Icon","justifyContent","alignItems","icon","loadDefaultLayout","panel4","panelCount","useLocalStorage","parse","safeParse","localStorage","getItem","removeItem","setItem","LeftComponent","RightComponent","setFloating","setLayout","setDisableFloatingGroups","load","error","setOptions","addFloatingPanel2","RightHeaderActions","LeftHeaderActions","iframeComponent","DockviewPanelComponent","src","innerRef","positionHoistedPanel","disposable1","visibility","disposable2","zIndex","basicComponent","DefaultPanel","_titleElement","_paramsElement","spacer","btn1","btn2","btn3","attach","active","onKeyDown","ctrlKey","code","clearLayout","layoutString","success","panel3","isolatedApp","innerDockview","InnerDockview","renderVisibleComponentsOnlyAtom","atom","formatLine","timeout","useRecoilValue","Checkbox","setRender","useRecoilState","setWidth","setHeight","step","App","Container","setValue","counter","isGroup","CodeSandboxButton","_Fragment","hideThemePicker","ThemePicker","fontWeight","paddingRight","Spinner","injectVanillaJS","BrowserOnly","sandboxId","ReactIcon","marginRight","useBaseUrl","JavascriptIcon","themes","setTheme","dispatchEvent","StorageEvent","MultiFrameworkContainer2","framework","setFramework","animation","setAnimation","defaultValue","useLocalStorageItem","typescript","react","MultiFrameworkContainer","Text","piece","kind","substring","Summary","summary","DocRef","docs","docsJson","declaration","doc","fontFamily","name","comment","CodeBlock","language","frontMatter","description","contentTitle","metadata","assets","toc","_createMdxContent","_components","a","blockquote","h1","h2","h3","li","pre","ul","metastring","MDXContent","wrapper","MDXLayout"],"sourceRoot":""}